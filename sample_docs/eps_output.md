---
title: Electronic Prescription Service (FHIR) API v{VERSION}
language_tabs:
  - shell: Shell
  - http: HTTP
  - javascript: JavaScript
  - ruby: Ruby
  - python: Python
  - php: PHP
  - java: Java
  - go: Go
toc_footers: []
includes: []
search: true
highlight_theme: darkula
headingLevel: 2

---

<!-- Generator: Widdershins v4.0.1 -->

<h1 id="electronic-prescription-service-fhir-api">Electronic Prescription Service (FHIR) API v{VERSION}</h1>

> Scroll down for code samples, example requests and responses. Select a language for code samples from the tabs above or the mobile navigation menu.

## Overview
<style>.codeinline.example {word-wrap: anywhere;}</style>
Use this API to access the [Electronic Prescription Service (EPS)](https://digital.nhs.uk/services/electronic-prescription-service). EPS is the national service used to send electronic prescription messages between prescribers and community dispensers.

If you are using this API in [user-restricted mode](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis) a healthcare worker must be present and authenticated with an [NHS smartcard or a modern alternative](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/nhs-smartcards-for-developers) to use this API.

### Prescribers in primary and secondary care can: 
* create a prescription
* encode data so the prescription is ready to sign
* cancel a prescription

Creating and cancelling a prescription are both done by the prescriber. Encoding data so the prescription is ready to sign is done by the prescribing system.

### Dispensers can:
* download an individual prescription from EPS
* download a batch of prescriptions from EPS
* return a prescription to EPS
* submit a dispense notification to EPS
* withdraw a dispense notification from EPS
* submit a dispense claim

You cannot currently use this API to:
* view a prescription's detailed dispense history

## Who can use this API
  This API can only be used where there is a legal basis to do so. Make sure you have a [valid use case](https://digital.nhs.uk/services/electronic-prescription-service/enabling-eps-for-your-service) before you go too far with your development. 

You must get approval before you can go live. For more information, see the 'Onboarding' section.

## Related APIs, services and documentation
   
### Services
These services must be used alongside EPS to create a functioning prescribing or dispensing system.
* [Care Identity Service 2 (CIS2)](https://digital.nhs.uk/services/identity-and-access-management/national-care-identity-service) - use this to authenticate prescribers with their smartcard.
* [Directory of Services (DOS)](https://digital.nhs.uk/services/directory-of-services-dos) - prescribers must use the DOS to find dispensing sites for patients.
* [Organisation Data Service (ODS)](https://digital.nhs.uk/developer/api-catalogue/organisation-data-service-fhir) - use this to access ODS codes for prescribing organisations.
* [Personal Demographics Service (PDS)](https://digital.nhs.uk/developer/api-catalogue/personal-demographics-service-fhir) - use PDS to synchronise a patient's demographic details including their name, date of birth and address.
* [Digital Signature Service](https://digital.nhs.uk/developer/api-catalogue/signing-service) - use the signing service API to create signatures for prescriptions. The signing service is only used for EPS.
* [Role-Based Access Controls (RBAC)](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/national-rbac-for-developers) - RBAC rules are stored in the National RBAC Database (NRD) and are used to limit what prescribers can and cannot do.
* [GP2GP](https://digital.nhs.uk/services/gp2gp) - use the GP2GP service to transfer patient details, including nominated dispensers, between GPs.
* [Message Exchange for Social Care and Health (MESH)](https://digital.nhs.uk/developer/api-catalogue/message-exchange-for-social-care-and-health-api) - Use MESH to deliver and receive cancel responses.
* [Prescription Tracker](https://developer.nhs.uk/apis/eps-tracker) - use this if you want a read-only interface to get information about a patient's prescriptions.
* [Real-Time Exemption Checking](https://nhsconnect.github.io/prescription-exemptions/) - dispensing systems must use the Real-Time Exemption Checking service to prevent prescriptions fraud and enable effective processing of charge exemptions.

### Documentation
This documentation provides important context
* [Dictionary of Medicines and Devices (DM+D)](https://www.nhsbsa.nhs.uk/pharmacies-gp-practices-and-appliance-contractors/dictionary-medicines-and-devices-dmd) - the dm+d has the names, descriptions and unique identifiers for medicines and devices that can be prescribed.
* [Requirements and Guidance for Endorsement in the Electronic Prescription Service (EPS)](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) - guidance on handling prescription types, prescription endorsements, and patient charge exemptions within EPS.

### Guidance for developers and product owners
Documentation and guidance about EPS for technical and non-technical audiences
* [Simplifier implementation guide for digital medicines](https://simplifier.net/guide/ukcoreimplementationguideformedicines?version=current) - the implementation guide contains detailed information and example messages, error codes and processes. This is for technical audiences like developers.
* [Building healthcare software - prescriptions](https://digital.nhs.uk/developer/guides-and-documentation/building-healthcare-software/prescriptions) - this explains how to build software that deals with prescriptions. This is for non-technical audiences like product owners.

## API status and roadmap
The immediate priority of EPS development is to support the rollout of the next-gen FHIR APIs for primary care and secondary care prescribing and dispensing.

### Prescribing
The API supports prescribers in primary and secondary care settings. This means prescriptions are sent from a GP or NHS hospital to a pharmacy. For these workflows, the API is [in production](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#statuses).
* it is available in integration and production
* we might make breaking changes, but only if we cannot avoid it, and we will give advance notice

### Dispensing
This API supports a community pharmacy dispensing workflow.

In a community pharmacy workflow, prescriptions can be released (downloaded) from EPS, updated, dispensed, and then claimed by the pharmacy. For this workflow, the API is [in production](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#statuses).
- it is available in integration and production
- we might make breaking changes, but only if we cannot avoid it, and we will give advance notice

### Roadmap
To see our roadmap, or to suggest, comment or vote on features for this API, see our [interactive product backlog](https://nhs-digital-api-management.featureupvote.com/?tag=eps-fhir-api).

If you have any other queries, please [contact us](https://digital.nhs.uk/developer/help-and-support).

## Service level
This API is a platinum service, meaning it is operational and supported 24 hours a day, 365 days a year.

For more details, see [service levels](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#service-levels).

## Technology
This API is [RESTful](https://digital.nhs.uk/developer/guides-and-documentation/our-api-technologies#basic-rest).

It conforms to the [FHIR](https://digital.nhs.uk/developer/guides-and-documentation/our-api-technologies#fhir) global standard for health care data exchange, specifically to [FHIR R4 (v4.0.1)](https://hl7.org/fhir/r4/), except that it does not support the [capabilities](http://hl7.org/fhir/R4/http.html#capabilities) interaction.

It includes some country-specific FHIR extensions, which are built against [FHIR UK Core, specifically [UKcore.stu1 0.5.1](https://simplifier.net/packages/fhir.r4.ukcore.stu1/0.5.1).

You do not need to know much about FHIR to use this API - FHIR APIs are just RESTful APIs that follow specific rules. In particular:
* resource names are capitalised and singular, for example `/Patient` not `/patients`
* array names are singular, for example `line` not `lines` for address lines
* data items that are country-specific and thus not included in the FHIR global base resources are usually wrapped in an `extension` object

There are [libraries and software development kits available](https://digital.nhs.uk/developer/guides-and-documentation/api-technologies-at-nhs-digital#fhir-libraries-and-sdks) to help with FHIR API integration.

## Network access
This API is available on the internet and, indirectly, on the [Health and Social Care Network (HSCN)](https://digital.nhs.uk/services/health-and-social-care-network).
To use this API with [NHS smartcards](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/nhs-smartcards-for-developers), the end user needs an HSCN connection, although internet-facing alternatives to smartcards are available.

For more details see [Network access for APIs](https://digital.nhs.uk/developer/guides-and-documentation/network-access-for-apis).

## Security and authorisation
This API has 2 access modes:
* user-restricted access
* application-restricted access

### User-restricted access
The EPS APIs are mostly [user-restricted](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis),
meaning we authenticate the end user.

EPS only supports [CIS2 separate authentication and authorisation](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation),
do not use combined authentication and authorisation.

The only interaction that is not user-restricted is releasing nominated prescriptions.

### Application-restricted access
Use this access mode to release nominated prescriptions while dispensing. 

To use this access mode, use the following security pattern:
* [Application-restricted RESTful API - signed JWT authentication](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/application-restricted-restful-apis-signed-jwt-authentication)

## Environment and testing
| Environment      | Base URL                                                            |
|------------------|---------------------------------------------------------------------|
| Sandbox          | `https://sandbox.api.service.nhs.uk/electronic-prescriptions`       |
| Integration test | `https://int.api.service.nhs.uk/electronic-prescriptions`           |
| Production       | `https://api.service.nhs.uk/electronic-prescriptions`               |

### Sandbox testing
Our [sandbox environment](https://digital.nhs.uk/developer/guides-and-documentation/testing#sandbox-testing):

* is for early developer testing
* only covers a limited set of scenarios
* is stateless, so it does not actually persist any updates
* is open access, so does not allow you to test authorisation

For details of sandbox testing, or to try out the sandbox using our "Try this API" feature, see the documentation for each endpoint.

### Integration testing
Our [integration test environment](https://digital.nhs.uk/developer/guides-and-documentation/testing#integration-testing):

* is for formal integration testing
* is stateful, so persists updates
* includes authorisation, with [smartcard](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/nhs-smartcards-for-developers) and non-smartcard options

For more details see [integration testing with our RESTful APIs](https://digital.nhs.uk/developer/guides-and-documentation/testing#integration-testing-with-our-restful-apis).

## Onboarding
Your software must be approved by us before you can begin the EPS onboarding process and go live with this FHIR API. EPS 'onboarding' is the term used for the development and assurance required before IT suppliers can offer EPS to NHS organisations.

Details of the onboarding process can be found on our [EPS onboarding and assurance for IT suppliers](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/onboarding-and-assurance) page.

## Resources
Use the [Digital Medicines Implementation Guide](https://simplifier.net/guide/NHSDigital-Medicines) to assist with your integration.
This is the FHIR specification for Digital Medicines starting with the assets required for an electronic prescription sent to the EPS.

For further guidance on prescribing, see [EPS prescribing developer guide](https://digital.nhs.uk/developer/guides-and-documentation/building-healthcare-software/prescriptions/eps-prescriber-developer-guide).

## Errors
### Verification errors
| HTTP Status | Error Code    | Example Diagnostic                                                                                                                                                               | Description                                                                                                    | Endpoints                                                             |
|-------------|---------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|
| 400         | value         | Incorrect FHIR resource type. Expected Bundle.                                                                                                                                   | Body's `resourceType` not the expected value.                                                                  | `/$prepare`, `/$process-message`, `/Claim`, `/Task/$release`, `/Task` |
| 400         | value         | MessageHeader.eventCoding.code must be one of: prescription-order, prescription-order-update, dispense-notification.                                                             | MessageHeader's `eventCoding.code` is not supported.                                                           | `/$prepare`                                                           |
| 400         | value         | MedicationRequest.intent must be order, original-order or instance-order.                                                                                                        | Bundle contains a plan or reflex. Only order, original-order and instance-order are supported.                 | `/$prepare`, `/$process-message`                                      |
| 400         | value         | Expected all MedicationRequests to have the same value for dispenseRequest.performer. Received ["1f8cb914-feb0-4ef8-b676-bf2dfa5ac47d", "8b676178-768c-445a-98a9-bea45931fcd8"]. | A MedicationRequest field that should be consistent has multiple unique values across requests.                | `/$prepare`, `/$process-message`                                      |
| 400         | value         | Bundle resource Practitioner.identifier expected exactly one professional code from GMC/NMC/GPhC/HCPC/professional-code.                                                         | Practitioner contains a gmp-number identifier, which is invalid.                                               | `/$prepare`                                                           |
| 400         | value         | Expected all MedicationRequests to have a different value for identifier.                                                                                                        | MedicationRequests contains a duplicate identifier.                                                            | `/$prepare`                                                           |
| 400         | value         | Task.status must be one of: 'in-progress', 'rejected'                                                                                                                            | Specified field must be one of the listed values.                                                              | `/Task`                                                               |
| 400         | value         | Task.code is required when Task.status is 'in-progress'.                                                                                                                         | Specified field is missing.                                                                                    | `/Task`                                                               |
| 400         | value         | Task.reasonCode must have a system of 'https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-return-status-reason' and a value from that system.                                      | Specified field is missing a required system.                                                                  | `/Task`                                                               |
| 400         | value         | The Bundle must contain exactly one MedicationRequest if MessageHeader.eventCoding.code is 'prescription-order-update'.                                                          | The requested operation can only be performed on a single medication request.                                  | `/$process-message`                                                   |
| 400         | value         | Expected MedicationRequest to have a value for statusReason.                                                                                                                     | Specified field is missing.                                                                                    | `/$process-message`                                                   |
| 400         | not-supported | Prescribing functionality is disabled.                                                                                                                                           | Requested operation is not enabled/supported.                                                                  | `/$prepare`, `/Claim`, `/Task/$release`, `/Task`                      |
| 400         | structure     | MedicationRequest cannot contain both medicationReference and medicationCodeableConcept fields.                                                                                  | MedicationRequest contains both `medicationReference` and `medicationCodeableConcept` fields.                  | `/$prepare`, `/$process-message`                                      |
| 400         | invalid       | practitionerRole.practitioner populated incorrectly. Please populate with Reference to resource within Bundle.                                                                   | The specified field should be a reference but is not.                                                          | `/$prepare`, `/$process-message`                                      |
| 400         | invalid       | Parameters.parameter("agent").resource.practitioner populated incorrectly. Please populate with Identifier and Display.                                                          | The specified field should not be a reference but is.                                                          | `/Claim`, `/Task/$release`, `/Task`                                   |
| 400         | invalid       | Unexpected field of practitionerRole.healthcareService.                                                                                                                          | Specified field is provided when it should not have been.                                                      | `/$prepare`, `/$process-message`                                      |
| 400         | invalid       | Required field organization.partOf is missing.                                                                                                                                   | Specified field is not provided when it should have been.                                                      | `/$prepare`, `/$process-message`                                      |
| 400         | invalid       | Required parameter owner is missing.                                                                                                                                             | Specified parameter is not provided when it should have been.                                                  | `/Task/$release`                                                      |
| 400         | invalid       | The claim is missing the required endorsement code.                                                                                                                              | The necessary endorsement code is not included in the claim request.                                           | `/Claim`                                                              |
| 400         | invalid       | The dispense notification is missing the reimbursement authority and it should be provided.                                                                                      | The necessary extension containing the reimbursement authority is missing and it should be provided.           | `/$process-message`, `#dispense-notification`                         |
| 400         | invalid       | The dispense notification is missing the ODS code for the reimbursement authority and it should be provided.                                                                     | The necessary ODS code is not included in the dispense notification and it should be provided.                 | `/$process-message`, `#dispense-notification`                         |
| 500         | invalid       | *N/A*                                                                                                                                                                            | An internal error occurred. Details should be specified in attached OperationOutcome.                          | `/$prepare`, `/Claim`, `/Task/$release`, `/Task`                      |
| 403         | forbidden     | Your app does not have permission to access prescribing functionality.                                                                                                           | App does not have permission to use the requested function.                                                    | `/$prepare`, `/$process-message`, `/Claim`, `/Task/$release`, `/Task` |
| 403         | forbidden     | Dispensing functionality can only be accessed using the user-restricted access mode.                                                                                             | The requested function requires user-restricted access mode.                                                   | `/$prepare`, `/$process-message`, `/Claim`, `/Task/$release`, `/Task` |

### System Errors
#### Prescribing Errors
| Error Code | EPS Issue Code            | Description                                                                 | Endpoints           |
|------------|---------------------------|-----------------------------------------------------------------------------|---------------------|
| invalid    | *N/A*                     | A generic error occurred.                                                   | `/$prepare`         |
| duplicate  | DUPLICATE_PRESCRIPTION_ID | A prescription with the same ID already exists.                             | `/$prepare`         |
| invalid    | TOO_FEW_VALUES_SUBMITTED  | A mandatory value is missing, or an insufficient number have been provided. | `/$process-message` |

#### Nominated Release Errors
| Error Code    | EPS Issue Code        | Description                                             | Endpoints        |
|---------------|-----------------------|---------------------------------------------------------|------------------|
| invalid       | *N/A*                 | A generic error occurred.                               | `/Task/$release` |
| informational | NO_MORE_PRESCRIPTIONS | No more prescriptions available for nominated download. | `/Task/$release` |

#### Cancellation Errors
| Error Code | EPS Issue Code         | Description                                                                                 | Endpoints           |
|------------|------------------------|---------------------------------------------------------------------------------------------|---------------------|
| invalid    | *N/A*                  | A generic error occurred.                                                                   | `/$process-message` |
| not-found  | PRESCRIPTION_NOT_FOUND | The requested prescription could not be found.                                              | `/$process-message` |
| *N/A*      | R-0002                 | Prescription was with dispenser so not cancelled, but marked for cancellation.              | `/$process-message` |
| *N/A*      | R-0003                 | Prescription was with dispenser active so not cancelled, but marked for cancellation.       | `/$process-message` |
| *N/A*      | R-0004                 | Prescription was not cancelled as it has been dispensed.                                    | `/$process-message` |
| *N/A*      | R-0005                 | Prescription was not cancelled as it has expired.                                           | `/$process-message` |
| *N/A*      | R-0006                 | Prescription has already been cancelled.                                                    | `/$process-message` |
| *N/A*      | R-0007                 | Cancellation already requested by another prescriber.                                       | `/$process-message` |
| not-found  | R-0008                 | Prescription not found.                                                                     | `/$process-message` |
| *N/A*      | R-0010                 | Prescription was not cancelled as it has been not dispensed.                                | `/$process-message` |
| processing | R-5000                 | Unable to process message. Possibly due to a mismatch of NHS Numbers or prescription ID's.  | `/$process-message` |

#### Dispensing Errors
| Error Code    | EPS Issue Code                             | Description                                                                                    | Endpoints                                        |
|---------------|--------------------------------------------|------------------------------------------------------------------------------------------------|--------------------------------------------------|
| invalid       | *N/A*                                      | A generic error occurred.                                                                      | `/Claim`, `/Task/$release`, `/Task`              |
| not-found     | PRESCRIPTION_NOT_FOUND                     | The requested prescription could not be found.                                                 | `/Claim`, `/Task/$release`, `/Task`              |
| business-rule | PRESCRIPTION_WITH_ANOTHER_DISPENSER        | The requested prescription is with another dispenser.                                          | `/Task`                                          |
| business-rule | PRESCRIPTION_INVALID_STATE_TRANSITION      | The requested operation is not valid for the current state of the prescription.                | `/Task/$release`, `/Task`                        |
| business-rule | PRESCRIPTION_INVALID_LINE_STATE_TRANSITION | The requested operation is not valid for the current state of the prescription.                | `/Task/$release`, `/Claim`                       |
| not-found     | ITEM_NOT_FOUND                             | The requested item could not be found.                                                         | `/Task/$release`, `/Claim`                       |
| business-rule | MISMATCH_AUTHORISED_REPEAT_COUNTS          | The repeat count in this message does not match the repeat count in the original prescription. | `/Task/$release`, `/Claim`                       |
| business-rule | DISPENSE_AMEND_IDENTIFIER_MISMATCH         | Replacement target does not match existing claim reference on record.                          | `/Claim`                                         |
| business-rule | CLAIM_AMEND_PERIOD_ISSUE                   | Claim amendment is not permitted outside of the claim period.                                  | `/Claim`                                         |
| structure     | INVALID_MESSAGE                            | The message is not valid.                                                                      | `/Claim`                                         |
| processing    | FAILURE_TO_PROCESS_MESSAGE                 | An unexpected error occurred while processing the message.                                     | `/Task`                                          |

### Platform wide errors
| HTTP Status   | Error Code            | Description                                                                                                                           |
| ------------- | --------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| 401           | ACCESS_DENIED         | User does not have permission for a particular request.                                                                               |
| 403           | FORBIDDEN             | Insufficient authorization.                                                                                                           |
| 404           | NOT_FOUND             | Route not found.                                                                                                                      |
| 500           | INTERNAL SERVER ERROR | The server has encountered a situation it does not know how to handle.                                                                |
| 504           | GATEWAY_TIMEOUT       | If your request has not been fully processed within 59 seconds, you will get this response. Retry the request with identical payload. |

For further details on common error codes, see [HTTP status codes](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#http-status-codes)

Base URLs:

* <a href="https://sandbox.api.service.nhs.uk/electronic-prescriptions">https://sandbox.api.service.nhs.uk/electronic-prescriptions</a>

* <a href="https://int.api.service.nhs.uk/electronic-prescriptions">https://int.api.service.nhs.uk/electronic-prescriptions</a>

Email: <a href="mailto:api.management@nhs.net">Electronic Prescription Service FHIR API Support</a> Web: <a href="https://digital.nhs.uk/developer/help-and-support">Electronic Prescription Service FHIR API Support</a> 

<h1 id="electronic-prescription-service-fhir-api-prescribing">prescribing</h1>

## prepare-prescription

<a id="opIdprepare-prescription"></a>

> Code samples

```shell
# You can also use wget
curl -X POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$prepare \
  -H 'Content-Type: application/fhir+json' \
  -H 'Accept: application/fhir+json' \
  -H 'Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM' \
  -H 'NHSD-Session-URID: 555254240100' \
  -H 'X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068' \
  -H 'X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'

```

```http
POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$prepare HTTP/1.1
Host: sandbox.api.service.nhs.uk
Content-Type: application/fhir+json
Accept: application/fhir+json
Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
NHSD-Session-URID: 555254240100
X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068
X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA

```

```javascript
const inputBody = '{
  "resourceType": "Bundle",
  "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "46183abc-9fad-4673-85db-ce2cb6614732"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
      "resource": {
        "resourceType": "MessageHeader",
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "prescription-order",
          "display": "Prescription Order"
        },
        "destination": [
          {
            "endpoint": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message",
            "receiver": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                "value": "FA565"
              },
              "display": "ASDA INSTORE PHARMACY"
            }
          }
        ],
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          },
          "display": "HALLGARTH SURGERY"
        },
        "source": {
          "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008"
        },
        "focus": [
          {
            "reference": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6"
          },
          {
            "reference": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00"
          },
          {
            "reference": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a"
          },
          {
            "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
          },
          {
            "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
          },
          {
            "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "39732311000001104",
              "display": "Amoxicillin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "2 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "322341003",
              "display": "Co-codamol 30mg/500mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "2 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "321080004",
              "display": "Pseudoephedrine hydrochloride 60mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
      "resource": {
        "resourceType": "Patient",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "5839945242"
          }
        ],
        "name": [
          {
            "use": "usual",
            "family": "TWITCHETT",
            "given": [
              "STACEY",
              "MARISA"
            ],
            "prefix": [
              "MS"
            ]
          }
        ],
        "gender": "female",
        "birthDate": "1948-04-30",
        "address": [
          {
            "use": "home",
            "line": [
              "10 HEATHFIELD",
              "COBHAM",
              "SURREY"
            ],
            "postalCode": "KT11 2QY"
          }
        ],
        "generalPractitioner": [
          {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
      "resource": {
        "resourceType": "PractitionerRole",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "200102238987"
          }
        ],
        "practitioner": {
          "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
        },
        "organization": {
          "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              },
              {
                "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "01234567890"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
      "resource": {
        "resourceType": "Practitioner",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "555086689106"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/gmc-number",
            "value": "6095103"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/din-number",
            "value": "977677"
          }
        ],
        "name": [
          {
            "family": "BOIN",
            "given": [
              "C"
            ],
            "prefix": [
              "DR"
            ]
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
      "resource": {
        "resourceType": "Organization",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          }
        ],
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "76",
                "display": "GP PRACTICE"
              }
            ]
          }
        ],
        "name": "HALLGARTH SURGERY",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0115 9737320"
          }
        ],
        "address": [
          {
            "use": "work",
            "type": "both",
            "line": [
              "HALLGARTH SURGERY",
              "CHEAPSIDE"
            ],
            "city": "SHILDON",
            "district": "COUNTY DURHAM",
            "postalCode": "DL4 2HP"
          }
        ],
        "partOf": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "84H"
          },
          "display": "NHS COUNTY DURHAM CCG"
        }
      }
    }
  ]
}';
const headers = {
  'Content-Type':'application/fhir+json',
  'Accept':'application/fhir+json',
  'Authorization':'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID':'555254240100',
  'X-Request-ID':'60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID':'11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
};

fetch('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$prepare',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/fhir+json',
  'Accept' => 'application/fhir+json',
  'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID' => '555254240100',
  'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

result = RestClient.post 'https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$prepare',
  params: {
  }, headers: headers

p JSON.parse(result)

```

```python
import requests
headers = {
  'Content-Type': 'application/fhir+json',
  'Accept': 'application/fhir+json',
  'Authorization': 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID': '555254240100',
  'X-Request-ID': '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID': '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

r = requests.post('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$prepare', headers = headers)

print(r.json())

```

```php
<?php

require 'vendor/autoload.php';

$headers = array(
    'Content-Type' => 'application/fhir+json',
    'Accept' => 'application/fhir+json',
    'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
    'NHSD-Session-URID' => '555254240100',
    'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
    'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('POST','https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$prepare', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

```

```java
URL obj = new URL("https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$prepare");
HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");
int responseCode = con.getResponseCode();
BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();
System.out.println(response.toString());

```

```go
package main

import (
       "bytes"
       "net/http"
)

func main() {

    headers := map[string][]string{
        "Content-Type": []string{"application/fhir+json"},
        "Accept": []string{"application/fhir+json"},
        "Authorization": []string{"Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"},
        "NHSD-Session-URID": []string{"555254240100"},
        "X-Request-ID": []string{"60E0B220-8136-4CA5-AE46-1D97EF59D068"},
        "X-Correlation-ID": []string{"11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"},
    }

    data := bytes.NewBuffer([]byte{jsonReq})
    req, err := http.NewRequest("POST", "https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$prepare", data)
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}

```

`POST /FHIR/R4/$prepare`

*Encode prescription data so it's ready to sign - Prescribing*

## Overview
Use this endpoint to convert an unsigned FHIR prescription into the piece of data that needs to be digitally signed.

This action is done by the prescribing system and API, not the prescriber.

To generate a Provenance resource, guidance can be found at this link [here](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/how-to-embed-a-signature-within-a-prescription).

> Body parameter

> A valid acute, primary care prepare request.

```json
{
  "resourceType": "Bundle",
  "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "46183abc-9fad-4673-85db-ce2cb6614732"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
      "resource": {
        "resourceType": "MessageHeader",
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "prescription-order",
          "display": "Prescription Order"
        },
        "destination": [
          {
            "endpoint": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message",
            "receiver": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                "value": "FA565"
              },
              "display": "ASDA INSTORE PHARMACY"
            }
          }
        ],
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          },
          "display": "HALLGARTH SURGERY"
        },
        "source": {
          "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008"
        },
        "focus": [
          {
            "reference": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6"
          },
          {
            "reference": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00"
          },
          {
            "reference": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a"
          },
          {
            "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
          },
          {
            "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
          },
          {
            "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "39732311000001104",
              "display": "Amoxicillin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "2 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "322341003",
              "display": "Co-codamol 30mg/500mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "2 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "321080004",
              "display": "Pseudoephedrine hydrochloride 60mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
      "resource": {
        "resourceType": "Patient",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "5839945242"
          }
        ],
        "name": [
          {
            "use": "usual",
            "family": "TWITCHETT",
            "given": [
              "STACEY",
              "MARISA"
            ],
            "prefix": [
              "MS"
            ]
          }
        ],
        "gender": "female",
        "birthDate": "1948-04-30",
        "address": [
          {
            "use": "home",
            "line": [
              "10 HEATHFIELD",
              "COBHAM",
              "SURREY"
            ],
            "postalCode": "KT11 2QY"
          }
        ],
        "generalPractitioner": [
          {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
      "resource": {
        "resourceType": "PractitionerRole",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "200102238987"
          }
        ],
        "practitioner": {
          "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
        },
        "organization": {
          "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              },
              {
                "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "01234567890"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
      "resource": {
        "resourceType": "Practitioner",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "555086689106"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/gmc-number",
            "value": "6095103"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/din-number",
            "value": "977677"
          }
        ],
        "name": [
          {
            "family": "BOIN",
            "given": [
              "C"
            ],
            "prefix": [
              "DR"
            ]
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
      "resource": {
        "resourceType": "Organization",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          }
        ],
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "76",
                "display": "GP PRACTICE"
              }
            ]
          }
        ],
        "name": "HALLGARTH SURGERY",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0115 9737320"
          }
        ],
        "address": [
          {
            "use": "work",
            "type": "both",
            "line": [
              "HALLGARTH SURGERY",
              "CHEAPSIDE"
            ],
            "city": "SHILDON",
            "district": "COUNTY DURHAM",
            "postalCode": "DL4 2HP"
          }
        ],
        "partOf": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "84H"
          },
          "display": "NHS COUNTY DURHAM CCG"
        }
      }
    }
  ]
}
```

<h3 id="prepare-prescription-parameters">Parameters</h3>

|Name|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string(^Bearer\ [[:ascii:]]+$)|true|An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).|
|NHSD-Session-URID|header|string|false|The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).|
|X-Request-ID|header|string|true|A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.|
|X-Correlation-ID|header|string|false|An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.|
|body|body|object|true|none|
| resourceType|body|string|true|FHIR resource type.|
| id|body|string|false|object ID for the Bundle.|
| identifier|body|object|true|none|
| system|body|string|false|codesystem URL for identifiers|
| value|body|string|false|The X-Request ID for the message.|
| type|body|string|true|The reason why a series of resources and objects are grouped together.|
| entry|body|[oneOf]|true|A collection of resources contained within the Bundle.|
| *anonymous*|body|object|false|MedicationRequest|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|A MedicationRequest object is required. An EPS prescription must contain at least one and up to four MedicationRequest objects. This is equivalent to an item on a prescription.|
| resourceType|body|string|true|FHIR resource type|
| extension|body|[oneOf]|true|FHIR extension array.|
| *anonymous*|body|object|false|The quantity of a controlled drug, expressed in words|
| url|body|string|false|URL of the extension definition.|
| extension|body|[oneOf]|false|FHIR extension array.|
| *anonymous*|body|object|false|object containing the quantity in words|
| url|body|string|false|URL for the controlled drug quantity|
| valueString|body|string|false|quantity expressed in words|
| *anonymous*|body|object|false|object containing the schedule of the controlled drug|
| url|body|string|false|URL for the controlled drug schedule|
| valueCoding|body|object|false|none|
| system|body|string|false|codesystem to identify the controlled drug schedule|
| code|body|string|false|a code to identify the controlled drug schedule|
| display|body|string|false|a human readable display to accompany the controlled drug schedule code|
| *anonymous*|body|object|false|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|body|string|false|URL of the extension definition.|
| valueReference|body|object|false|none|
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle.|
| display|body|string|false|The name of the responsible practitioner.|
| *anonymous*|body|object|false|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|body|string|false|URL of the extension definition.|
| extension|body|[object]|false|FHIR extension array.|
| url|body|string|false|The review date of the prescription.|
| valueDateTime|body|string|false|A date value|
| *anonymous*|body|object|false|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| url|body|string|false|URL of the extension definition.|
| valueCoding|body|object|false|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|body|string|false|codesystem URL for the prescription type|
| code|body|string|false|The prescription type code|
| display|body|string|false|The display that accompanies the prescription type code|
| *anonymous*|body|object|false|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. |
| url|body|string|false|URL of the extension definition.|
| valueCodeableConcept|body|object|false|none|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for endorsements.|
| code|body|string|true|The endorsement code.|
| identifier|body|[object]|true|The unique identifier for this line item on the prescription.|
| system|body|string|true|Codesystem URL for the line item ID.|
| value|body|string|true|The unique ID for a given line item.|
| status|body|string|true|The status of a MedicationRequest object. |
| intent|body|string|true|The intent of a MedicationRequest object. |
| category|body|[object]|true|Identifies the context in which a prescription is created.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the prescription category.|
| code|body|string|true|Code for the prescription category.|
| display|body|string|false|Display value for the prescription category.|
| medicationCodeableConcept|body|object|true|The medication that is being prescribed. |
| coding|body|[object]|false|none|
| system|body|string|true|SNOMED codesystem URL.|
| code|body|string|true|SNOMED code for the medication, as defined in the dm+d.|
| display|body|string|false|Human readable name for the medication.|
| subject|body|object|true|Reference object to identify the patient a prescription is for. |
| reference|body|string|false|A reference to a Patient resource within the Bundle|
| authoredOn|body|string(date-time)|false|Reserved for future use and will currently be ignored. Do not use.|
| requester|body|object|true|Reference object to identify the requester of a prescription. |
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|body|object|true|An object containing the short-form and long-form Prescription ID.|
| system|body|string|true|Codesystem URL for the short-form Prescription ID.|
| value|body|string|true|The short-form Prescription ID. |
| extension|body|[object]|false|FHIR extension array containing the long-form Prescription ID.|
| url|body|string|true|none|
| valueIdentifier|body|object|true|The long-form identifier of the prescription.|
| system|body|string|true|Codesystem URL for the long-form Prescription ID.|
| value|body|string|true|The long-form prescription ID.|
| courseOfTherapyType|body|object|true|Denotes whether a prescription is an acute, a repeat, or an eRD.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the prescription treatment type.|
| code|body|string|true|Code identifying the prescription treatment type.|
| display|body|string|false|Display value for the prescription treatment type.|
| dosageInstruction|body|[object]|true|The dosage instructions for a prescription. |
| sequence|body|integer(int32)|false|The order of the dosage instructions.|
| text|body|string|false|The dosage instructions expressed as text.|
| additionalInstruction|body|[object]|false|Supplemental instruction or warnings to the patient.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|SNOMED code for additional dosage instructions.|
| display|body|string|false|Additional dosage instructions (qualifier value).|
| patientInstruction|body|string|false|Patient or consumer oriented instructions.|
| timing|body|object|false|A structured expression of dose frequency.|
| repeat|body|object|false|The frequency and period over which the medication should be consumed.|
| boundsDuration|body|object|false|The bounds duration at which the medication should be consumed.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| frequency|body|number|false|The frequency at which the medication should be consumed within a given period.|
| period|body|integer(int32)|false|The period over which the frequency applies.|
| periodUnit|body|string|false|The fundamental unit of the period, defined in UCUM.|
| asNeeded|body|object|false|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), |
| asNeededBoolean|body|boolean|false|The asNeeded structure can be used to define a simple "as required" instructions.|
| asNeededCodeableConcept|body|object|false|The asNeeded structure can be used to define a simple "as required" instructions.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| version|body|string|false|Version of the system - if relevant.|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|Representation defined by the system.|
| userSelected|body|boolean|false|Indicates that this coding was chosen by a user directly |
| text|body|string|false|Plain text representation of the concept.|
| site|body|object|false|Body site to administer to.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|none|
| route|body|object|false|A structured expression of how the medication should be consumed.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| version|body|string|false|Version of the system - if relevant.|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|Representation defined by the system.|
| userSelected|body|boolean|false|Indicates that this coding was chosen by a user directly |
| method|body|object|false|Technique for administering medication.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|Valid SNOMED code identifying the technique for administering medication.|
| display|body|string|false|none|
| doseAndRate|body|[oneOf]|false|Amount of medication administered.|
| *anonymous*|body|object|false|none|
| type|body|object|false|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|body|[object]|false|none|
| system|body|string|true|SNOMED codesystem URL.|
| code|body|integer|true|Valid SNOMED code identifying how the medication should be consumed.|
| display|body|string|false|Human readable name for the method of consumption.|
| text|body|string|false|Plain text representation of the concept.|
| *anonymous*|body|object|false|none|
| dose|body|[object]|false|Amount of medication per dose.|
| doseRange|body|object|false|A dose that may be in a given low / high range.|
| low|body|object|false|The low limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, |
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| high|body|object|false|The high limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| doseQuantity|body|object|false|The amount of medication per dose, as a simple coded quantity.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rate|body|[object]|false|Amount of medication per unit of time.|
| rateRatio|body|object|false|Where the rate is expressed as coded numerator and denominator values.|
| numerator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| denominator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rateRange|body|object|false|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|body|object|false|The low limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| high|body|object|false|The high limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rateQuantity|body|object|false|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerPeriod|body|object|false|Upper limit on medication per unit of time.|
| numerator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| denominator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerAdministration|body|object|false|Used to define a maximum dose for a single administration.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerLifetime|body|object|false|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| note|body|[object]|false|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|body|string|false|Specific additional instructions for a prescription line item.|
| dispenseRequest|body|object|true|A FHIR object containing information relevant to how the prescription should be dispensed. |
| extension|body|[object]|true|FHIR extension array.|
| url|body|string|false|Extension URL for DM-PerformerSiteType.|
| valueCoding|body|object|false|none|
| system|body|string|false|Codesystem URL to hold the nomination.|
| code|body|string|false|The nomination applied to a prescription.|
| numberOfRepeatsAllowed|body|integer|false|For eRD and repeat prescriptions only.|
| validityPeriod|body|object|false|The start and end dates of a prescription.|
| start|body|string(date)|false|Start date of an issue; sometimes same as prescription's start date.|
| end|body|string(date)|false|End date of an issue; capped at 12 months and cannot exceed the prescription's end date.|
| expectedSupplyDuration|body|object|false|For eRD prescriptions only. |
| value|body|integer|false|The number of days each issue in an eRD prescription is valid for.|
| unit|body|string|false|The UCUM unit of measure display for days.|
| system|body|string|false|Codesystem URL for UCUM.|
| code|body|string|false|The UCUM unit of measure code for days.|
| performer|body|object|false|For nominated prescriptions only, including one-off nominations.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| quantity|body|object|true|The quantity of a medication item being prescribed.|
| value|body|number|false|The numeric value of the quantity being prescribed.|
| unit|body|string|false|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|body|string|false|SNOMED codesystem URL.|
| code|body|integer|false|The dm+d code associated with a given unit of measure.|
| substitution|body|object|true|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|body|boolean|false|none|
| *anonymous*|body|object|false|PractitionerRole|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Role-specific details of the requester or responsible practitioner of a prescription.|
| resourceType|body|string|false|FHIR resource type.|
| identifier|body|[oneOf]|false|An array containing role-specific identifiers for the prescriber|
| *anonymous*|body|object|false|The prescriber or dispenser's SDS Role Profile ID.|
| system|body|string|true|Codesystem URL for the SDS role profile ID.|
| value|body|string|true|SDS role profile ID.|
| *anonymous*|body|object|false|The prescriber or dispenser's spurious code.|
| system|body|string|true|Codesystem URL for the spurious code.|
| value|body|string|true|Spurious code.|
| practitioner|body|any|true|none|
| *anonymous*|body|object|false|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|body|string|false|A FHIR reference object.|
| *anonymous*|body|object|false|An identifier if part of an organization-only responsible practitioner.|
| identifier|body|any|false|none|
| *anonymous*|body|object|false|none|
| system|body|string|true|Codesystem URL for the DIN Number.|
| value|body|string|true|The DIN Number.|
| *anonymous*|body|object|false|The prescriber's GMC number.|
| system|body|string|false|Codesystem URL for the GMC Number.|
| value|body|string|false|GMC Number|
| *anonymous*|body|object|false|The prescriber's GMP number.|
| system|body|string|true|Codesystem URL for the GMP number.|
| value|body|string|true|The GMP number.|
| *anonymous*|body|object|false|The prescriber's NMC number.|
| system|body|string|true|Codesystem URL for the NMC number.|
| value|body|string|true|The NMC number.|
| *anonymous*|body|object|false|The prescriber's GPhC number.|
| system|body|string|false|Codesystem URL for the GPhC number.|
| value|body|string|false|GPhC number.|
| *anonymous*|body|object|false|The prescriber or dispenser's HCPC number.|
| system|body|string|true|Codesystem URL for the HCPC number.|
| value|body|string|true|The HCPC number.|
| *anonymous*|body|object|false|none|
| system|body|string|true|Codesystem URL for the Professional Code.|
| value|body|string|true|The Professional Code.|
| organization|body|object|true|A reference to an Organization resource.|
| reference|body|string|false|A FHIR reference object.|
| code|body|[object]|false|The SDS job role code for a given prescriber or dispenser.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the job role code.|
| code|body|string|true|The SDS job role code.|
| display|body|string|false|Display text for the SDS job role code.|
| telecom|body|object|false|none|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| *anonymous*|body|object|false|Practitioner|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Details of the author or responsible party of a prescription.|
| resourceType|body|string|true|FHIR resource type.|
| identifier|body|[oneOf]|true|An array containing the prescriber's professional codes and identifiers.|
| *anonymous*|body|object|false|The prescriber or dispenser's SDS User Identifier.|
| system|body|string|true|Codesystem URL for the SDS User Identifier.|
| value|body|string|true|SDS User Identifier.|
| *anonymous*|body|object|false|none|
| system|body|string|true|Codesystem URL for the DIN Number.|
| value|body|string|true|The DIN Number.|
| *anonymous*|body|object|false|The prescriber's GMC number.|
| system|body|string|false|Codesystem URL for the GMC Number.|
| value|body|string|false|GMC Number|
| *anonymous*|body|object|false|The prescriber's GPhC number.|
| system|body|string|false|Codesystem URL for the GPhC number.|
| value|body|string|false|GPhC number.|
| *anonymous*|body|object|false|The prescriber or dispenser's HCPC number.|
| system|body|string|true|Codesystem URL for the HCPC number.|
| value|body|string|true|The HCPC number.|
| *anonymous*|body|object|false|The prescriber's NMC number.|
| system|body|string|true|Codesystem URL for the NMC number.|
| value|body|string|true|The NMC number.|
| name|body|[object]|true|The prescriber's name.|
| family|body|string|true|Family name (often called Surname).|
| given|body|[string]|false|Given names, including any middle names.|
| prefix|body|[string]|false|Name prefixes, titles, and prenominals.|
| *anonymous*|body|object|false|MessageHeader|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|none|
| resourceType|body|string|true|FHIR resource type.|
| eventCoding|body|object|true|The type of message event being generated.|
| system|body|string|false|codesystem URL for message events.|
| code|body|string|false|code for the message event.|
| display|body|string|false|display value accompanying the code for the message event.|
| destination|body|[object]|false|none|
| endpoint|body|string|false|none|
| receiver|body|object|false|none|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| display|body|string|false|none|
| sender|body|object|false|none|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| display|body|string|true|none|
| source|body|object|true|The organisation originating the message.|
| endpoint|body|string|false|ODS code of the organisation originating the message, expressed as a URL.|
| focus|body|[object]|false|none|
| reference|body|string|false|none|
| *anonymous*|body|object|false|Patient|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|The patient the prescription is for.|
| resourceType|body|string|true|FHIR resource type.|
| identifier|body|[object]|true|The patient's NHS number.|
| system|body|string(url)|true|FHIR codesystem URL for NHS numbers.|
| value|body|string|true|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.|
| name|body|[object]|true|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|body|string|false|How this name should be used.|
| family|body|string|true|Family name (often called Surname).|
| given|body|[string]|false|Given names, including any middle names.|
| prefix|body|[string]|false|Name prefixes, titles, and prenominals.|
| gender|body|string|true|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.|
| birthDate|body|string(date)|true|The date on which the patient was born or is officially deemed to have been born.|
| address|body|[object]|true|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|body|string|false|Purpose of this address:|
| line|body|[string]|false|All lines of the address except the postal code.|
| postalCode|body|string|false|Postal code of the address.|
| telecom|body|[object]|false|The patient's telephone number.|
| system|body|string|false|Means of communication, such as phone or email.|
| use|body|string|false|Location associated with communication system.|
| value|body|string|false|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|body|[object]|true|General practice (not practitioner) with which the patient is or was registered.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| *anonymous*|body|object|false|Organization|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.|
| resourceType|body|string|false|FHIR resource type.|
| identifier|body|[object]|false|An array containing the ODS code of the organisation|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| name|body|string|true|Organisation name.|
| address|body|[object]|true|Organisation address.|
| use|body|string|false|The purpose of the address.|
| type|body|string|false|The type of address.|
| line|body|[string]|false|All lines of the address except the city, district, and postal code.|
| city|body|string|false|The city of the address.|
| district|body|string|false|The district of the address.|
| postalCode|body|string|false|The postal code of the address.|
| telecom|body|[object]|true|The telephone number associated with the organisation.|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| partOf|body|object|true|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| display|body|string|true|the name of the managing organisation|
| *anonymous*|body|object|false|CommunicationRequest|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Additional instructions intended for the patient.|
| resourceType|body|string|false|FHIR resource type.|
| status|body|string|false|The status of the CommunicationRequest. Must always default to "active".|
| subject|body|object|false|A reference object to identify the patient the prescription is for.|
| reference|body|string|false|A reference to a Patient resource within the Bundle.|
| payload|body|[object]|true|Additional instructions provided as part of this prescription.|
| contentString|body|string|false|Additional instructions intended for the patient.|
| contentReference|body|object|false|A reference to the list of repeat medications that the patient is on.|
| reference|body|string|false|A reference to a List resource within the Bundle|
| requester|body|object|false|Details of the prescribing organisation originating the instructions.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| recipient|body|[object]|false|Details of the patient receiving the instructions.|
| identifier|body|object|false|none|
| system|body|string(url)|true|FHIR codesystem URL for NHS numbers.|
| value|body|string|true|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.|
| *anonymous*|body|object|false|List|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|For repeat and eRD prescriptions only. |
| resourceType|body|string|false|FHIR resource type.|
| status|body|string|false|The status of the List object. Must always default to "current".|
| mode|body|string|false|The type of List being represented. Must always default to "snapshot".|
| code|body|object|false|A description of what the list represents.|
| text|body|string|false|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|body|object|false|A reference object to identify the patient the prescription is for.|
| reference|body|string|false|A reference to a Patient resource within the Bundle.|
| entry|body|[object]|false|list of repeat medication items prescribed to the patient.|
| item|body|object|false|A medication item, represented using its dm+d name and description.|

#### Detailed descriptions

**Authorization**: An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).

Required in all environments except sandbox.

**NHSD-Session-URID**: The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).

If you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, see [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) for guidance.

This field is optional.

**X-Request-ID**: A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.

Must be a universally unique identifier (UUID) (ideally version 4).

Mirrored back in a response header.

If you re-send a failed request, use the same value in this header.

Required in all environments except sandbox.

**X-Correlation-ID**: An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.

Mirrored back in a response header.

** resource**: A MedicationRequest object is required. An EPS prescription must contain at least one and up to four MedicationRequest objects. This is equivalent to an item on a prescription.
Any fields mentioned in the Simplifer Spec but not in this schema are permitted, but may not be preserved or acted on by the API. 
Reason for medication dispense should be appended to dosageInstruction.text, as reasonCode is not made available to dispensers.

** url**: The review date of the prescription.
This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.

** *anonymous***: The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.

For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.

** *anonymous***: Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. 

View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).

** status**: The status of a MedicationRequest object. 
This must be consistent across all MedicationRequests in a Bundle.

** intent**: The intent of a MedicationRequest object. 
This must be consistent across all MedicationRequests in a Bundle.

** category**: Identifies the context in which a prescription is created.
For example, a prescription created within primary care will be categorised as "community."
Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."
This must be consistent across all MedicationRequests in a Bundle.

** medicationCodeableConcept**: The medication that is being prescribed. 
This must be represented using a VMP or AMP concept from the dm+d.

** subject**: Reference object to identify the patient a prescription is for. 
A Patient resource within the Bundle must be referenced.

** requester**: Reference object to identify the requester of a prescription. 
A PractitionerRole resource within the Bundle must be referenced.

** value**: The short-form Prescription ID. 
An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). 
It is to be formatted as follows:
  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.
  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  
  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.
  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.

** code**: Code identifying the prescription treatment type.
* acute: acute prescriptions
* continuous: repeat prescriptions
* continuous-repeat-dispensing: eRD prescriptions

** dosageInstruction**: The dosage instructions for a prescription. 
These must be expressed as both structured dose and text.

** sequence**: The order of the dosage instructions.
Indicates the order in which the dosage instructions should be applied or interpreted.

** text**: The dosage instructions expressed as text.
Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.
Instructions with the same sequence number will be separated by ", and"
Instructions with different sequence numbers will be separated by ", then"
Please do not use full stops or commas at the end of any instructions provided.

** additionalInstruction**: Supplemental instruction or warnings to the patient.
E.g. "with meals", "may cause drowsiness".

** boundsDuration**: The bounds duration at which the medication should be consumed.
E.g. "4.5" for 4 & 1/2 days.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** frequency**: The frequency at which the medication should be consumed within a given period.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.
E.g. "4" for 4 times over a given period.

** period**: The period over which the frequency applies.
e.g. "1" for 1 day.

** asNeeded**: Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), 
or it indicates the precondition for taking the Medication (CodeableConcept).

** asNeededBoolean**: The asNeeded structure can be used to define a simple "as required" instructions.
The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.

** asNeededCodeableConcept**: The asNeeded structure can be used to define a simple "as required" instructions.
The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.

** userSelected**: Indicates that this coding was chosen by a user directly 
- e.g. off a pick list of available items (codes or displays).

** userSelected**: Indicates that this coding was chosen by a user directly 
- e.g. off a pick list of available items (codes or displays).

** value**: A rational number with implicit precision, 
to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something 
like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** rateQuantity**: Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent
to defining the rate using the more complex rateRatio structure.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** dispenseRequest**: A FHIR object containing information relevant to how the prescription should be dispensed. 
These values should be consistent across all MedicationRequests in a Bundle.

** code**: The nomination applied to a prescription.
This could either be a nomination for:
  * A dispensing contractor (P1)
  * A dispensing appliance contractor (P2)
  * A dispensing doctor (P3)
Or a non-nominated prescription (0004).

** numberOfRepeatsAllowed**: For eRD and repeat prescriptions only.
The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. 
For repeat prescriptions, this value must always default to 0.

** end**: End date of an issue; capped at 12 months and cannot exceed the prescription's end date.
Overall validity of the drug.

** expectedSupplyDuration**: For eRD prescriptions only. 
Duration of each issue in days; defaults to 28.

** performer**: For nominated prescriptions only, including one-off nominations.
The ODS code of the nominated pharmacy that a prescription is going to.

** value**: The numeric value of the quantity being prescribed.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** resource**: Role-specific details of the requester or responsible practitioner of a prescription.
If for a responsible practitioner, at least one of the practitionerRole, referenced practitioner,
or referenced organization must have a telecom field. Note that PractitionerRole level
NHS BSA spurious code will take priority over supplier practitioner identifier, if present.

** value**: The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.
Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).

** use**: How this name should be used.
* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.

** given**: Given names, including any middle names.
Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.
Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.

** gender**: Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.
It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.

** birthDate**: The date on which the patient was born or is officially deemed to have been born.

It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.

When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.

** use**: Purpose of this address:
  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address
  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged

  A patient should have no more than one current `temp` address.
  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.
  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).

  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.
  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.

** line**: All lines of the address except the postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`
*  line 4 - post town, e.g. `Leeds`
*  line 5 - county (if present), e.g. `West Yorkshire`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

** resource**: Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.

Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.

** line**: All lines of the address except the city, district, and postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

** resource**: Additional instructions intended for the patient.
For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.

** value**: The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.
Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).

** resource**: For repeat and eRD prescriptions only. 

A structured list of repeat medication items prescribed to the patient.

#### Enumerated Values

|Parameter|Value|
|---|---|
| id|164996aa-29eb-4f14-a5ac-4b556a7baf6e|
| system|https://tools.ietf.org/html/rfc4122|
| type|message|
| resourceType|MedicationRequest|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
| url|quantityWords|
| url|schedule|
| system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
| code|CD1|
| code|CD2|
| code|CD3|
| code|CD4|
| code|CD5|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
| url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
| url|authorisationExpiryDate|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
| system|https://fhir.nhs.uk/CodeSystem/prescription-type|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
| system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
| code|ACBS|
| code|AF|
| code|CC|
| code|FS|
| code|SLS|
| system|https://fhir.nhs.uk/Id/prescription-order-item-number|
| status|active|
| status|cancelled|
| status|completed|
| intent|order|
| intent|original-order|
| intent|instance-order|
| system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
| code|inpatient|
| code|outpatient|
| code|community|
| code|discharge|
| display|Inpatient|
| display|Outpatient|
| display|Community|
| display|Discharge|
| system|http://snomed.info/sct|
| system|https://fhir.nhs.uk/Id/prescription-order-number|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
| system|https://fhir.nhs.uk/Id/prescription|
| system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
| code|acute|
| code|continuous|
| code|continuous-repeat-dispensing|
| display|Short course (acute) therapy|
| display|Continuous long term therapy|
| display|Continuous long term (repeat dispensing)|
| system|http://snomed.info/sct|
| asNeededBoolean|true|
| system|http://snomed.info/sct|
| userSelected|true|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| userSelected|true|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
| system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
| code|P1|
| code|P2|
| code|P3|
| code|0004|
| system|http://unitsofmeasure.org|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|http://snomed.info/sct|
| allowedBoolean|false|
| resourceType|PractitionerRole|
| system|https://fhir.nhs.uk/Id/sds-role-profile-id|
| system|https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code|
| system|https://fhir.hl7.org.uk/Id/din-number|
| system|https://fhir.hl7.org.uk/Id/gmc-number|
| system|https://fhir.hl7.org.uk/Id/gmp-number|
| system|https://fhir.hl7.org.uk/Id/nmc-number|
| system|https://fhir.hl7.org.uk/Id/gphc-number|
| system|https://fhir.hl7.org.uk/Id/hcpc-number|
| system|https://fhir.hl7.org.uk/Id/professional-code|
| system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| resourceType|Practitioner|
| system|https://fhir.nhs.uk/Id/sds-user-id|
| system|https://fhir.hl7.org.uk/Id/din-number|
| system|https://fhir.hl7.org.uk/Id/gmc-number|
| system|https://fhir.hl7.org.uk/Id/gphc-number|
| system|https://fhir.hl7.org.uk/Id/hcpc-number|
| system|https://fhir.hl7.org.uk/Id/nmc-number|
| resourceType|MessageHeader|
| system|https://fhir.nhs.uk/CodeSystem/message-event|
| code|prescription-order|
| display|Prescription Order|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/nhs-number|
| use|usual|
| gender|male|
| gender|female|
| gender|other|
| gender|unknown|
| use|home|
| use|temp|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| use|home|
| use|work|
| use|billing|
| use|temp|
| type|postal|
| type|physical|
| type|both|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| status|active|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/nhs-number|
| status|current|
| mode|snapshot|
| text|Repeat Medications|

> Example responses

> A successful response to an acute, primary care prepare request.

```json
{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "digest",
      "valueString": "PFNpZ25lZEluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZHNpZy1tb3JlI3JzYS1zaGEyNTYiPjwvU2lnbmF0dXJlTWV0aG9kPjxSZWZlcmVuY2U+PFRyYW5zZm9ybXM+PFRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyI+PC9UcmFuc2Zvcm0+PC9UcmFuc2Zvcm1zPjxEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiPjwvRGlnZXN0TWV0aG9kPjxEaWdlc3RWYWx1ZT5EczVrbEVqbjFvQ0UrcHBtcXFzU0o2ZEpaUWFZZ1FkNlUxbVlEM1R6WmM4PTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPg=="
    },
    {
      "name": "timestamp",
      "valueString": "2024-09-12T09:19:00+00:00"
    },
    {
      "name": "algorithm",
      "valueString": "RS1"
    }
  ]
}
```

> A successful response to an acute with multiple dosages, primary care prescription order request.

```json
{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "digest",
      "valueString": "PFNpZ25lZEluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+aDBHZnFHSjl4VG4rMTMvbytlbG1iT05JRFY0PTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPg=="
    },
    {
      "name": "timestamp",
      "valueString": "2022-10-21T13:47:00+00:00"
    },
    {
      "name": "algorithm",
      "valueString": "RS1"
    }
  ]
}
```

> A successful response to a repeat, primary care request.

```json
{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "digest",
      "valueString": "PFNpZ25lZEluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+aDBHZnFHSjl4VG4rMTMvbytlbG1iT05JRFY0PTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPg=="
    },
    {
      "name": "timestamp",
      "valueString": "2022-10-21T13:47:00+00:00"
    },
    {
      "name": "algorithm",
      "valueString": "RS1"
    }
  ]
}
```

> A successful response to a eRD, primary care prepare request.

```json
{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "digest",
      "valueString": "PFNpZ25lZEluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+aDBHZnFHSjl4VG4rMTMvbytlbG1iT05JRFY0PTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPg=="
    },
    {
      "name": "timestamp",
      "valueString": "2022-10-21T13:47:00+00:00"
    },
    {
      "name": "algorithm",
      "valueString": "RS1"
    }
  ]
}
```

```json
{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "digest",
      "valueString": "PFNpZ25lZEluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+WlpKMTdKZU54NXMwOHVFWUloaGM0VjFiRDY0PTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPg=="
    },
    {
      "name": "timestamp",
      "valueString": "2022-10-21T13:47:00+00:00"
    },
    {
      "name": "algorithm",
      "valueString": "RS1"
    }
  ]
}
```

> An error response to a prepare request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "error",
      "code": "value",
      "details": {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
            "code": "MISSING_FIELD",
            "display": "ResourceType Bundle must contain 'entry' field"
          }
        ]
      }
    }
  ]
}
```

<h3 id="prepare-prescription-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Successful conversion.|Inline|
|4XX|Unknown|Invalid request.|Inline|

<h3 id="prepare-prescription-responseschema">Response Schema</h3>

Status Code **200**

*A response from the /$prepare endpoint.*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|none|
| parameter|[oneOf]|false|none|none|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| name|string|false|none|none|
| valueString|string|false|none|The Prescription Information that requires signing.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| name|string|false|none|none|
| valueString|string(date-time)|false|none|none|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| name|string|false|none|none|
| valueString|string|false|none|none|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|Parameters|
|name|digest|
|name|timestamp|
|name|algorithm|
|valueString|RS1|

Status Code **4XX**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

<aside class="success">
This operation does not require authentication
</aside>

## send-prescription-order-message

<a id="opIdsend-prescription-order-message"></a>

> Code samples

```shell
# You can also use wget
curl -X POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order \
  -H 'Content-Type: application/fhir+json' \
  -H 'Accept: application/fhir+json' \
  -H 'Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM' \
  -H 'NHSD-Session-URID: 555254240100' \
  -H 'X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068' \
  -H 'X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'

```

```http
POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order HTTP/1.1
Host: sandbox.api.service.nhs.uk
Content-Type: application/fhir+json
Accept: application/fhir+json
Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
NHSD-Session-URID: 555254240100
X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068
X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA

```

```javascript
const inputBody = '{
  "resourceType": "Bundle",
  "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "46183abc-9fad-4673-85db-ce2cb6614732"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
      "resource": {
        "resourceType": "MessageHeader",
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "prescription-order",
          "display": "Prescription Order"
        },
        "destination": [
          {
            "endpoint": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message",
            "receiver": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                "value": "FA565"
              },
              "display": "ASDA INSTORE PHARMACY"
            }
          }
        ],
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          },
          "display": "HALLGARTH SURGERY"
        },
        "source": {
          "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008"
        },
        "focus": [
          {
            "reference": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6"
          },
          {
            "reference": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00"
          },
          {
            "reference": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a"
          },
          {
            "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
          },
          {
            "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
          },
          {
            "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "39732311000001104",
              "display": "Amoxicillin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "2 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "322341003",
              "display": "Co-codamol 30mg/500mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "2 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "321080004",
              "display": "Pseudoephedrine hydrochloride 60mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
      "resource": {
        "resourceType": "Patient",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "5839945242"
          }
        ],
        "name": [
          {
            "use": "usual",
            "family": "TWITCHETT",
            "given": [
              "STACEY",
              "MARISA"
            ],
            "prefix": [
              "MS"
            ]
          }
        ],
        "gender": "female",
        "birthDate": "1948-04-30",
        "address": [
          {
            "use": "home",
            "line": [
              "10 HEATHFIELD",
              "COBHAM",
              "SURREY"
            ],
            "postalCode": "KT11 2QY"
          }
        ],
        "generalPractitioner": [
          {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
      "resource": {
        "resourceType": "PractitionerRole",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "200102238987"
          }
        ],
        "practitioner": {
          "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
        },
        "organization": {
          "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              },
              {
                "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "01234567890"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
      "resource": {
        "resourceType": "Practitioner",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "555086689106"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/gmc-number",
            "value": "6095103"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/din-number",
            "value": "977677"
          }
        ],
        "name": [
          {
            "family": "BOIN",
            "given": [
              "C"
            ],
            "prefix": [
              "DR"
            ]
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
      "resource": {
        "resourceType": "Organization",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          }
        ],
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "76",
                "display": "GP PRACTICE"
              }
            ]
          }
        ],
        "name": "HALLGARTH SURGERY",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0115 9737320"
          }
        ],
        "address": [
          {
            "use": "work",
            "type": "both",
            "line": [
              "HALLGARTH SURGERY",
              "CHEAPSIDE"
            ],
            "city": "SHILDON",
            "district": "COUNTY DURHAM",
            "postalCode": "DL4 2HP"
          }
        ],
        "partOf": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "84H"
          },
          "display": "NHS COUNTY DURHAM CCG"
        }
      }
    },
    {
      "fullUrl": "urn:uuid:28828c55-8fa7-42d7-916f-fcf076e0c10e",
      "resource": {
        "resourceType": "Provenance",
        "id": "28828c55-8fa7-42d7-916f-fcf076e0c10e",
        "target": [
          {
            "reference": "urn:uuid:0cb82cfa-76c8-4fb2-a08e-bf0e326e5487"
          }
        ],
        "recorded": "2022-10-21T13:47:00+00:00",
        "agent": [
          {
            "who": {
              "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
            }
          }
        ],
        "signature": [
          {
            "type": [
              {
                "system": "urn:iso-astm:E1762-95:2013",
                "code": "1.2.840.10065.1.12.1.1"
              }
            ],
            "when": "2022-10-21T13:47:00+00:00",
            "who": {
              "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
            },
            "data": "PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+CiAgICAgICAgICAgIDxTaWduZWRJbmZvPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+WTg5YWNmSC90VkVtSXI2aVlrRVJrWWMxbG1jPTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPgogICAgICAgICAgICA8U2lnbmF0dXJlVmFsdWU+PC9TaWduYXR1cmVWYWx1ZT4KICAgICAgICAgICAgPEtleUluZm8+PFg1MDlEYXRhPjxYNTA5Q2VydGlmaWNhdGU+PC9YNTA5Q2VydGlmaWNhdGU+PC9YNTA5RGF0YT48L0tleUluZm8+CiAgICAgICAgICA8L1NpZ25hdHVyZT4="
          }
        ]
      }
    }
  ]
}';
const headers = {
  'Content-Type':'application/fhir+json',
  'Accept':'application/fhir+json',
  'Authorization':'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID':'555254240100',
  'X-Request-ID':'60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID':'11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
};

fetch('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/fhir+json',
  'Accept' => 'application/fhir+json',
  'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID' => '555254240100',
  'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

result = RestClient.post 'https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order',
  params: {
  }, headers: headers

p JSON.parse(result)

```

```python
import requests
headers = {
  'Content-Type': 'application/fhir+json',
  'Accept': 'application/fhir+json',
  'Authorization': 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID': '555254240100',
  'X-Request-ID': '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID': '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

r = requests.post('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order', headers = headers)

print(r.json())

```

```php
<?php

require 'vendor/autoload.php';

$headers = array(
    'Content-Type' => 'application/fhir+json',
    'Accept' => 'application/fhir+json',
    'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
    'NHSD-Session-URID' => '555254240100',
    'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
    'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('POST','https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

```

```java
URL obj = new URL("https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order");
HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");
int responseCode = con.getResponseCode();
BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();
System.out.println(response.toString());

```

```go
package main

import (
       "bytes"
       "net/http"
)

func main() {

    headers := map[string][]string{
        "Content-Type": []string{"application/fhir+json"},
        "Accept": []string{"application/fhir+json"},
        "Authorization": []string{"Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"},
        "NHSD-Session-URID": []string{"555254240100"},
        "X-Request-ID": []string{"60E0B220-8136-4CA5-AE46-1D97EF59D068"},
        "X-Correlation-ID": []string{"11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"},
    }

    data := bytes.NewBuffer([]byte{jsonReq})
    req, err := http.NewRequest("POST", "https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order", data)
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}

```

`POST /FHIR/R4/$process-message#prescription-order`

*Create a new prescription - Prescribing*

## Overview
Use this endpoint to create a new prescription in EPS.

The prescription must include a digital signature, which can be generated using the [Signing Service](https://digital.nhs.uk/developer/api-catalogue/signing-service).

The `#prescription-order` in the URL has been added to distinguish this from the other operations which
can be performed using the [`$process-message` endpoint](https://simplifier.net/guide/NHSDigital/Home/FHIRAssets/AllAssets/OperationDefinition/process-message). It is not required in requests to the API.

The only difference between the prepare requests and create request should be the inclusion of the provenance resource.

To generate a Provenance resource, guidance can be found at this link [here](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/how-to-embed-a-signature-within-a-prescription).

> Body parameter

> A valid acute, primary care prescription order request.

```json
{
  "resourceType": "Bundle",
  "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "46183abc-9fad-4673-85db-ce2cb6614732"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
      "resource": {
        "resourceType": "MessageHeader",
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "prescription-order",
          "display": "Prescription Order"
        },
        "destination": [
          {
            "endpoint": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message",
            "receiver": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                "value": "FA565"
              },
              "display": "ASDA INSTORE PHARMACY"
            }
          }
        ],
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          },
          "display": "HALLGARTH SURGERY"
        },
        "source": {
          "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008"
        },
        "focus": [
          {
            "reference": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6"
          },
          {
            "reference": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00"
          },
          {
            "reference": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a"
          },
          {
            "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
          },
          {
            "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
          },
          {
            "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "39732311000001104",
              "display": "Amoxicillin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "2 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "322341003",
              "display": "Co-codamol 30mg/500mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "2 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "321080004",
              "display": "Pseudoephedrine hydrochloride 60mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "FA565"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
      "resource": {
        "resourceType": "Patient",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "5839945242"
          }
        ],
        "name": [
          {
            "use": "usual",
            "family": "TWITCHETT",
            "given": [
              "STACEY",
              "MARISA"
            ],
            "prefix": [
              "MS"
            ]
          }
        ],
        "gender": "female",
        "birthDate": "1948-04-30",
        "address": [
          {
            "use": "home",
            "line": [
              "10 HEATHFIELD",
              "COBHAM",
              "SURREY"
            ],
            "postalCode": "KT11 2QY"
          }
        ],
        "generalPractitioner": [
          {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
      "resource": {
        "resourceType": "PractitionerRole",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "200102238987"
          }
        ],
        "practitioner": {
          "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
        },
        "organization": {
          "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              },
              {
                "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "01234567890"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
      "resource": {
        "resourceType": "Practitioner",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "555086689106"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/gmc-number",
            "value": "6095103"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/din-number",
            "value": "977677"
          }
        ],
        "name": [
          {
            "family": "BOIN",
            "given": [
              "C"
            ],
            "prefix": [
              "DR"
            ]
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
      "resource": {
        "resourceType": "Organization",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          }
        ],
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "76",
                "display": "GP PRACTICE"
              }
            ]
          }
        ],
        "name": "HALLGARTH SURGERY",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0115 9737320"
          }
        ],
        "address": [
          {
            "use": "work",
            "type": "both",
            "line": [
              "HALLGARTH SURGERY",
              "CHEAPSIDE"
            ],
            "city": "SHILDON",
            "district": "COUNTY DURHAM",
            "postalCode": "DL4 2HP"
          }
        ],
        "partOf": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "84H"
          },
          "display": "NHS COUNTY DURHAM CCG"
        }
      }
    },
    {
      "fullUrl": "urn:uuid:28828c55-8fa7-42d7-916f-fcf076e0c10e",
      "resource": {
        "resourceType": "Provenance",
        "id": "28828c55-8fa7-42d7-916f-fcf076e0c10e",
        "target": [
          {
            "reference": "urn:uuid:0cb82cfa-76c8-4fb2-a08e-bf0e326e5487"
          }
        ],
        "recorded": "2022-10-21T13:47:00+00:00",
        "agent": [
          {
            "who": {
              "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
            }
          }
        ],
        "signature": [
          {
            "type": [
              {
                "system": "urn:iso-astm:E1762-95:2013",
                "code": "1.2.840.10065.1.12.1.1"
              }
            ],
            "when": "2022-10-21T13:47:00+00:00",
            "who": {
              "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
            },
            "data": "PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+CiAgICAgICAgICAgIDxTaWduZWRJbmZvPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+WTg5YWNmSC90VkVtSXI2aVlrRVJrWWMxbG1jPTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPgogICAgICAgICAgICA8U2lnbmF0dXJlVmFsdWU+PC9TaWduYXR1cmVWYWx1ZT4KICAgICAgICAgICAgPEtleUluZm8+PFg1MDlEYXRhPjxYNTA5Q2VydGlmaWNhdGU+PC9YNTA5Q2VydGlmaWNhdGU+PC9YNTA5RGF0YT48L0tleUluZm8+CiAgICAgICAgICA8L1NpZ25hdHVyZT4="
          }
        ]
      }
    }
  ]
}
```

<h3 id="send-prescription-order-message-parameters">Parameters</h3>

|Name|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string(^Bearer\ [[:ascii:]]+$)|true|An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).|
|NHSD-Session-URID|header|string|false|The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).|
|X-Request-ID|header|string|true|A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.|
|X-Correlation-ID|header|string|false|An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.|
|body|body|object|true|none|
| resourceType|body|string|true|FHIR resource type.|
| id|body|string|false|An object ID for the Bundle.|
| identifier|body|object|true|none|
| system|body|string|false|codesystem URL for identifiers|
| value|body|string|false|The X-Request ID for the message.|
| type|body|string|true|The type of payload being carried within the Bundle.|
| entry|body|[oneOf]|true|A collection of resources contained within the Bundle.|
| *anonymous*|body|object|false|MedicationRequest|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|A MedicationRequest object is required. An EPS prescription must contain at least one and up to four MedicationRequest objects. This is equivalent to an item on a prescription.|
| resourceType|body|string|true|FHIR resource type|
| extension|body|[oneOf]|true|FHIR extension array.|
| *anonymous*|body|object|false|The quantity of a controlled drug, expressed in words|
| url|body|string|false|URL of the extension definition.|
| extension|body|[oneOf]|false|FHIR extension array.|
| *anonymous*|body|object|false|object containing the quantity in words|
| url|body|string|false|URL for the controlled drug quantity|
| valueString|body|string|false|quantity expressed in words|
| *anonymous*|body|object|false|object containing the schedule of the controlled drug|
| url|body|string|false|URL for the controlled drug schedule|
| valueCoding|body|object|false|none|
| system|body|string|false|codesystem to identify the controlled drug schedule|
| code|body|string|false|a code to identify the controlled drug schedule|
| display|body|string|false|a human readable display to accompany the controlled drug schedule code|
| *anonymous*|body|object|false|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|body|string|false|URL of the extension definition.|
| valueReference|body|object|false|none|
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle.|
| display|body|string|false|The name of the responsible practitioner.|
| *anonymous*|body|object|false|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|body|string|false|URL of the extension definition.|
| extension|body|[object]|false|FHIR extension array.|
| url|body|string|false|The review date of the prescription.|
| valueDateTime|body|string|false|A date value|
| *anonymous*|body|object|false|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| url|body|string|false|URL of the extension definition.|
| valueCoding|body|object|false|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|body|string|false|codesystem URL for the prescription type|
| code|body|string|false|The prescription type code|
| display|body|string|false|The display that accompanies the prescription type code|
| *anonymous*|body|object|false|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. |
| url|body|string|false|URL of the extension definition.|
| valueCodeableConcept|body|object|false|none|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for endorsements.|
| code|body|string|true|The endorsement code.|
| identifier|body|[object]|true|The unique identifier for this line item on the prescription.|
| system|body|string|true|Codesystem URL for the line item ID.|
| value|body|string|true|The unique ID for a given line item.|
| status|body|string|true|The status of a MedicationRequest object. |
| intent|body|string|true|The intent of a MedicationRequest object. |
| category|body|[object]|true|Identifies the context in which a prescription is created.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the prescription category.|
| code|body|string|true|Code for the prescription category.|
| display|body|string|false|Display value for the prescription category.|
| medicationCodeableConcept|body|object|true|The medication that is being prescribed. |
| coding|body|[object]|false|none|
| system|body|string|true|SNOMED codesystem URL.|
| code|body|string|true|SNOMED code for the medication, as defined in the dm+d.|
| display|body|string|false|Human readable name for the medication.|
| subject|body|object|true|Reference object to identify the patient a prescription is for. |
| reference|body|string|false|A reference to a Patient resource within the Bundle|
| authoredOn|body|string(date-time)|false|Reserved for future use and will currently be ignored. Do not use.|
| requester|body|object|true|Reference object to identify the requester of a prescription. |
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|body|object|true|An object containing the short-form and long-form Prescription ID.|
| system|body|string|true|Codesystem URL for the short-form Prescription ID.|
| value|body|string|true|The short-form Prescription ID. |
| extension|body|[object]|false|FHIR extension array containing the long-form Prescription ID.|
| url|body|string|true|none|
| valueIdentifier|body|object|true|The long-form identifier of the prescription.|
| system|body|string|true|Codesystem URL for the long-form Prescription ID.|
| value|body|string|true|The long-form prescription ID.|
| courseOfTherapyType|body|object|true|Denotes whether a prescription is an acute, a repeat, or an eRD.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the prescription treatment type.|
| code|body|string|true|Code identifying the prescription treatment type.|
| display|body|string|false|Display value for the prescription treatment type.|
| dosageInstruction|body|[object]|true|The dosage instructions for a prescription. |
| sequence|body|integer(int32)|false|The order of the dosage instructions.|
| text|body|string|false|The dosage instructions expressed as text.|
| additionalInstruction|body|[object]|false|Supplemental instruction or warnings to the patient.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|SNOMED code for additional dosage instructions.|
| display|body|string|false|Additional dosage instructions (qualifier value).|
| patientInstruction|body|string|false|Patient or consumer oriented instructions.|
| timing|body|object|false|A structured expression of dose frequency.|
| repeat|body|object|false|The frequency and period over which the medication should be consumed.|
| boundsDuration|body|object|false|The bounds duration at which the medication should be consumed.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| frequency|body|number|false|The frequency at which the medication should be consumed within a given period.|
| period|body|integer(int32)|false|The period over which the frequency applies.|
| periodUnit|body|string|false|The fundamental unit of the period, defined in UCUM.|
| asNeeded|body|object|false|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), |
| asNeededBoolean|body|boolean|false|The asNeeded structure can be used to define a simple "as required" instructions.|
| asNeededCodeableConcept|body|object|false|The asNeeded structure can be used to define a simple "as required" instructions.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| version|body|string|false|Version of the system - if relevant.|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|Representation defined by the system.|
| userSelected|body|boolean|false|Indicates that this coding was chosen by a user directly |
| text|body|string|false|Plain text representation of the concept.|
| site|body|object|false|Body site to administer to.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|none|
| route|body|object|false|A structured expression of how the medication should be consumed.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| version|body|string|false|Version of the system - if relevant.|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|Representation defined by the system.|
| userSelected|body|boolean|false|Indicates that this coding was chosen by a user directly |
| method|body|object|false|Technique for administering medication.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|Valid SNOMED code identifying the technique for administering medication.|
| display|body|string|false|none|
| doseAndRate|body|[oneOf]|false|Amount of medication administered.|
| *anonymous*|body|object|false|none|
| type|body|object|false|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|body|[object]|false|none|
| system|body|string|true|SNOMED codesystem URL.|
| code|body|integer|true|Valid SNOMED code identifying how the medication should be consumed.|
| display|body|string|false|Human readable name for the method of consumption.|
| text|body|string|false|Plain text representation of the concept.|
| *anonymous*|body|object|false|none|
| dose|body|[object]|false|Amount of medication per dose.|
| doseRange|body|object|false|A dose that may be in a given low / high range.|
| low|body|object|false|The low limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, |
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| high|body|object|false|The high limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| doseQuantity|body|object|false|The amount of medication per dose, as a simple coded quantity.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rate|body|[object]|false|Amount of medication per unit of time.|
| rateRatio|body|object|false|Where the rate is expressed as coded numerator and denominator values.|
| numerator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| denominator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rateRange|body|object|false|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|body|object|false|The low limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| high|body|object|false|The high limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rateQuantity|body|object|false|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerPeriod|body|object|false|Upper limit on medication per unit of time.|
| numerator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| denominator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerAdministration|body|object|false|Used to define a maximum dose for a single administration.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerLifetime|body|object|false|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| note|body|[object]|false|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|body|string|false|Specific additional instructions for a prescription line item.|
| dispenseRequest|body|object|true|A FHIR object containing information relevant to how the prescription should be dispensed. |
| extension|body|[object]|true|FHIR extension array.|
| url|body|string|false|Extension URL for DM-PerformerSiteType.|
| valueCoding|body|object|false|none|
| system|body|string|false|Codesystem URL to hold the nomination.|
| code|body|string|false|The nomination applied to a prescription.|
| numberOfRepeatsAllowed|body|integer|false|For eRD and repeat prescriptions only.|
| validityPeriod|body|object|false|The start and end dates of a prescription.|
| start|body|string(date)|false|Start date of an issue; sometimes same as prescription's start date.|
| end|body|string(date)|false|End date of an issue; capped at 12 months and cannot exceed the prescription's end date.|
| expectedSupplyDuration|body|object|false|For eRD prescriptions only. |
| value|body|integer|false|The number of days each issue in an eRD prescription is valid for.|
| unit|body|string|false|The UCUM unit of measure display for days.|
| system|body|string|false|Codesystem URL for UCUM.|
| code|body|string|false|The UCUM unit of measure code for days.|
| performer|body|object|false|For nominated prescriptions only, including one-off nominations.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| quantity|body|object|true|The quantity of a medication item being prescribed.|
| value|body|number|false|The numeric value of the quantity being prescribed.|
| unit|body|string|false|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|body|string|false|SNOMED codesystem URL.|
| code|body|integer|false|The dm+d code associated with a given unit of measure.|
| substitution|body|object|true|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|body|boolean|false|none|
| *anonymous*|body|object|false|PractitionerRole|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Role-specific details of the requester or responsible practitioner of a prescription.|
| resourceType|body|string|false|FHIR resource type.|
| identifier|body|[oneOf]|false|An array containing role-specific identifiers for the prescriber|
| *anonymous*|body|object|false|The prescriber or dispenser's SDS Role Profile ID.|
| system|body|string|true|Codesystem URL for the SDS role profile ID.|
| value|body|string|true|SDS role profile ID.|
| *anonymous*|body|object|false|The prescriber or dispenser's spurious code.|
| system|body|string|true|Codesystem URL for the spurious code.|
| value|body|string|true|Spurious code.|
| practitioner|body|any|true|none|
| *anonymous*|body|object|false|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|body|string|false|A FHIR reference object.|
| *anonymous*|body|object|false|An identifier if part of an organization-only responsible practitioner.|
| identifier|body|any|false|none|
| *anonymous*|body|object|false|none|
| system|body|string|true|Codesystem URL for the DIN Number.|
| value|body|string|true|The DIN Number.|
| *anonymous*|body|object|false|The prescriber's GMC number.|
| system|body|string|false|Codesystem URL for the GMC Number.|
| value|body|string|false|GMC Number|
| *anonymous*|body|object|false|The prescriber's GMP number.|
| system|body|string|true|Codesystem URL for the GMP number.|
| value|body|string|true|The GMP number.|
| *anonymous*|body|object|false|The prescriber's NMC number.|
| system|body|string|true|Codesystem URL for the NMC number.|
| value|body|string|true|The NMC number.|
| *anonymous*|body|object|false|The prescriber's GPhC number.|
| system|body|string|false|Codesystem URL for the GPhC number.|
| value|body|string|false|GPhC number.|
| *anonymous*|body|object|false|The prescriber or dispenser's HCPC number.|
| system|body|string|true|Codesystem URL for the HCPC number.|
| value|body|string|true|The HCPC number.|
| *anonymous*|body|object|false|none|
| system|body|string|true|Codesystem URL for the Professional Code.|
| value|body|string|true|The Professional Code.|
| organization|body|object|true|A reference to an Organization resource.|
| reference|body|string|false|A FHIR reference object.|
| code|body|[object]|false|The SDS job role code for a given prescriber or dispenser.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the job role code.|
| code|body|string|true|The SDS job role code.|
| display|body|string|false|Display text for the SDS job role code.|
| telecom|body|object|false|none|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| *anonymous*|body|object|false|Practitioner|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Details of the author or responsible party of a prescription.|
| resourceType|body|string|true|FHIR resource type.|
| identifier|body|[oneOf]|true|An array containing the prescriber's professional codes and identifiers.|
| *anonymous*|body|object|false|The prescriber or dispenser's SDS User Identifier.|
| system|body|string|true|Codesystem URL for the SDS User Identifier.|
| value|body|string|true|SDS User Identifier.|
| *anonymous*|body|object|false|none|
| system|body|string|true|Codesystem URL for the DIN Number.|
| value|body|string|true|The DIN Number.|
| *anonymous*|body|object|false|The prescriber's GMC number.|
| system|body|string|false|Codesystem URL for the GMC Number.|
| value|body|string|false|GMC Number|
| *anonymous*|body|object|false|The prescriber's GPhC number.|
| system|body|string|false|Codesystem URL for the GPhC number.|
| value|body|string|false|GPhC number.|
| *anonymous*|body|object|false|The prescriber or dispenser's HCPC number.|
| system|body|string|true|Codesystem URL for the HCPC number.|
| value|body|string|true|The HCPC number.|
| *anonymous*|body|object|false|The prescriber's NMC number.|
| system|body|string|true|Codesystem URL for the NMC number.|
| value|body|string|true|The NMC number.|
| name|body|[object]|true|The prescriber's name.|
| family|body|string|true|Family name (often called Surname).|
| given|body|[string]|false|Given names, including any middle names.|
| prefix|body|[string]|false|Name prefixes, titles, and prenominals.|
| *anonymous*|body|object|false|MessageHeader|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|none|
| resourceType|body|string|true|FHIR resource type.|
| eventCoding|body|object|true|The type of message event being generated.|
| system|body|string|false|codesystem URL for message events.|
| code|body|string|false|code for the message event.|
| display|body|string|false|display value accompanying the code for the message event.|
| destination|body|[object]|false|none|
| endpoint|body|string|false|none|
| receiver|body|object|false|none|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| display|body|string|false|none|
| sender|body|object|false|none|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| display|body|string|true|none|
| source|body|object|true|The organisation originating the message.|
| endpoint|body|string|false|ODS code of the organisation originating the message, expressed as a URL.|
| focus|body|[object]|false|none|
| reference|body|string|false|none|
| *anonymous*|body|object|false|Patient|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|The patient the prescription is for.|
| resourceType|body|string|true|FHIR resource type.|
| identifier|body|[object]|true|The patient's NHS number.|
| system|body|string(url)|true|FHIR codesystem URL for NHS numbers.|
| value|body|string|true|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.|
| name|body|[object]|true|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|body|string|false|How this name should be used.|
| family|body|string|true|Family name (often called Surname).|
| given|body|[string]|false|Given names, including any middle names.|
| prefix|body|[string]|false|Name prefixes, titles, and prenominals.|
| gender|body|string|true|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.|
| birthDate|body|string(date)|true|The date on which the patient was born or is officially deemed to have been born.|
| address|body|[object]|true|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|body|string|false|Purpose of this address:|
| line|body|[string]|false|All lines of the address except the postal code.|
| postalCode|body|string|false|Postal code of the address.|
| telecom|body|[object]|false|The patient's telephone number.|
| system|body|string|false|Means of communication, such as phone or email.|
| use|body|string|false|Location associated with communication system.|
| value|body|string|false|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|body|[object]|true|General practice (not practitioner) with which the patient is or was registered.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| *anonymous*|body|object|false|Organization|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.|
| resourceType|body|string|false|FHIR resource type.|
| identifier|body|[object]|false|An array containing the ODS code of the organisation|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| name|body|string|true|Organisation name.|
| address|body|[object]|true|Organisation address.|
| use|body|string|false|The purpose of the address.|
| type|body|string|false|The type of address.|
| line|body|[string]|false|All lines of the address except the city, district, and postal code.|
| city|body|string|false|The city of the address.|
| district|body|string|false|The district of the address.|
| postalCode|body|string|false|The postal code of the address.|
| telecom|body|[object]|true|The telephone number associated with the organisation.|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| partOf|body|object|true|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| display|body|string|true|the name of the managing organisation|
| *anonymous*|body|object|false|CommunicationRequest|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Additional instructions intended for the patient.|
| resourceType|body|string|false|FHIR resource type.|
| status|body|string|false|The status of the CommunicationRequest. Must always default to "active".|
| subject|body|object|false|A reference object to identify the patient the prescription is for.|
| reference|body|string|false|A reference to a Patient resource within the Bundle.|
| payload|body|[object]|true|Additional instructions provided as part of this prescription.|
| contentString|body|string|false|Additional instructions intended for the patient.|
| contentReference|body|object|false|A reference to the list of repeat medications that the patient is on.|
| reference|body|string|false|A reference to a List resource within the Bundle|
| requester|body|object|false|Details of the prescribing organisation originating the instructions.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| recipient|body|[object]|false|Details of the patient receiving the instructions.|
| identifier|body|object|false|none|
| system|body|string(url)|true|FHIR codesystem URL for NHS numbers.|
| value|body|string|true|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.|
| *anonymous*|body|object|false|List|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|For repeat and eRD prescriptions only. |
| resourceType|body|string|false|FHIR resource type.|
| status|body|string|false|The status of the List object. Must always default to "current".|
| mode|body|string|false|The type of List being represented. Must always default to "snapshot".|
| code|body|object|false|A description of what the list represents.|
| text|body|string|false|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|body|object|false|A reference object to identify the patient the prescription is for.|
| reference|body|string|false|A reference to a Patient resource within the Bundle.|
| entry|body|[object]|false|list of repeat medication items prescribed to the patient.|
| item|body|object|false|A medication item, represented using its dm+d name and description.|
| *anonymous*|body|object|false|Provenance|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|A resource to contain the digital signature attached to a prescription, see [Generation of the provenance resource](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/how-to-embed-a-signature-within-a-prescription#step-three-create-signature-block) for guidance.|
| resourceType|body|string|false|FHIR resource type.|
| id|body|string|false|none|
| target|body|[object]|false|Reference object to identify the line items in a prescription that are being signed.|
| type|body|string|false|none|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the line item ID.|
| value|body|string|true|The unique ID for a given line item.|
| recorded|body|string(date-time)|false|The time the prescription was signed.|
| agent|body|[object]|false|A reference to the prescriber who signed the prescription, i.e. the requester of the prescription.|
| who|body|object|false|none|
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle.|
| signature|body|[object]|false|The Advanced Electronic Signature (AES) attached to a prescription.|
| type|body|[object]|false|The type of signature attached to a prescription.|
| system|body|string|false|FHIR codesystem URN for signatures|
| code|body|string|false|none|
| when|body|string(date-time)|true|The time the prescription was signed. This must be the timestamp found in the prepare endpoint response.|
| who|body|object|false|none|
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle. |
| data|body|string(byte)|false|An advanced electronic signature, which may be generated using the Signing Service. See [this link](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/how-to-embed-a-signature-within-a-prescription#step-three-create-signature-block) for guidance.|

#### Detailed descriptions

**Authorization**: An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).

Required in all environments except sandbox.

**NHSD-Session-URID**: The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).

If you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, see [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) for guidance.

This field is optional.

**X-Request-ID**: A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.

Must be a universally unique identifier (UUID) (ideally version 4).

Mirrored back in a response header.

If you re-send a failed request, use the same value in this header.

Required in all environments except sandbox.

**X-Correlation-ID**: An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.

Mirrored back in a response header.

** resource**: A MedicationRequest object is required. An EPS prescription must contain at least one and up to four MedicationRequest objects. This is equivalent to an item on a prescription.
Any fields mentioned in the Simplifer Spec but not in this schema are permitted, but may not be preserved or acted on by the API. 
Reason for medication dispense should be appended to dosageInstruction.text, as reasonCode is not made available to dispensers.

** url**: The review date of the prescription.
This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.

** *anonymous***: The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.

For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.

** *anonymous***: Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. 

View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).

** status**: The status of a MedicationRequest object. 
This must be consistent across all MedicationRequests in a Bundle.

** intent**: The intent of a MedicationRequest object. 
This must be consistent across all MedicationRequests in a Bundle.

** category**: Identifies the context in which a prescription is created.
For example, a prescription created within primary care will be categorised as "community."
Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."
This must be consistent across all MedicationRequests in a Bundle.

** medicationCodeableConcept**: The medication that is being prescribed. 
This must be represented using a VMP or AMP concept from the dm+d.

** subject**: Reference object to identify the patient a prescription is for. 
A Patient resource within the Bundle must be referenced.

** requester**: Reference object to identify the requester of a prescription. 
A PractitionerRole resource within the Bundle must be referenced.

** value**: The short-form Prescription ID. 
An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). 
It is to be formatted as follows:
  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.
  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  
  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.
  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.

** code**: Code identifying the prescription treatment type.
* acute: acute prescriptions
* continuous: repeat prescriptions
* continuous-repeat-dispensing: eRD prescriptions

** dosageInstruction**: The dosage instructions for a prescription. 
These must be expressed as both structured dose and text.

** sequence**: The order of the dosage instructions.
Indicates the order in which the dosage instructions should be applied or interpreted.

** text**: The dosage instructions expressed as text.
Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.
Instructions with the same sequence number will be separated by ", and"
Instructions with different sequence numbers will be separated by ", then"
Please do not use full stops or commas at the end of any instructions provided.

** additionalInstruction**: Supplemental instruction or warnings to the patient.
E.g. "with meals", "may cause drowsiness".

** boundsDuration**: The bounds duration at which the medication should be consumed.
E.g. "4.5" for 4 & 1/2 days.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** frequency**: The frequency at which the medication should be consumed within a given period.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.
E.g. "4" for 4 times over a given period.

** period**: The period over which the frequency applies.
e.g. "1" for 1 day.

** asNeeded**: Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), 
or it indicates the precondition for taking the Medication (CodeableConcept).

** asNeededBoolean**: The asNeeded structure can be used to define a simple "as required" instructions.
The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.

** asNeededCodeableConcept**: The asNeeded structure can be used to define a simple "as required" instructions.
The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.

** userSelected**: Indicates that this coding was chosen by a user directly 
- e.g. off a pick list of available items (codes or displays).

** userSelected**: Indicates that this coding was chosen by a user directly 
- e.g. off a pick list of available items (codes or displays).

** value**: A rational number with implicit precision, 
to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something 
like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** rateQuantity**: Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent
to defining the rate using the more complex rateRatio structure.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** dispenseRequest**: A FHIR object containing information relevant to how the prescription should be dispensed. 
These values should be consistent across all MedicationRequests in a Bundle.

** code**: The nomination applied to a prescription.
This could either be a nomination for:
  * A dispensing contractor (P1)
  * A dispensing appliance contractor (P2)
  * A dispensing doctor (P3)
Or a non-nominated prescription (0004).

** numberOfRepeatsAllowed**: For eRD and repeat prescriptions only.
The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. 
For repeat prescriptions, this value must always default to 0.

** end**: End date of an issue; capped at 12 months and cannot exceed the prescription's end date.
Overall validity of the drug.

** expectedSupplyDuration**: For eRD prescriptions only. 
Duration of each issue in days; defaults to 28.

** performer**: For nominated prescriptions only, including one-off nominations.
The ODS code of the nominated pharmacy that a prescription is going to.

** value**: The numeric value of the quantity being prescribed.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** resource**: Role-specific details of the requester or responsible practitioner of a prescription.
If for a responsible practitioner, at least one of the practitionerRole, referenced practitioner,
or referenced organization must have a telecom field. Note that PractitionerRole level
NHS BSA spurious code will take priority over supplier practitioner identifier, if present.

** value**: The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.
Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).

** use**: How this name should be used.
* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.

** given**: Given names, including any middle names.
Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.
Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.

** gender**: Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.
It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.

** birthDate**: The date on which the patient was born or is officially deemed to have been born.

It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.

When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.

** use**: Purpose of this address:
  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address
  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged

  A patient should have no more than one current `temp` address.
  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.
  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).

  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.
  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.

** line**: All lines of the address except the postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`
*  line 4 - post town, e.g. `Leeds`
*  line 5 - county (if present), e.g. `West Yorkshire`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

** resource**: Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.

Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.

** line**: All lines of the address except the city, district, and postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

** resource**: Additional instructions intended for the patient.
For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.

** value**: The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.
Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).

** resource**: For repeat and eRD prescriptions only. 

A structured list of repeat medication items prescribed to the patient.

** target**: Reference object to identify the line items in a prescription that are being signed.
A reference to each MedicationRequest resource in the Bundle must be provided.

** agent**: A reference to the prescriber who signed the prescription, i.e. the requester of the prescription.
A PractitionerRole resource within the Bundle must be referenced.

** reference**: A reference to a PractitionerRole resource within the Bundle. 
This will still be a reference to the prescriber who signed the prescription.

#### Enumerated Values

|Parameter|Value|
|---|---|
| id|164996aa-29eb-4f14-a5ac-4b556a7baf6e|
| system|https://tools.ietf.org/html/rfc4122|
| type|message|
| resourceType|MedicationRequest|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
| url|quantityWords|
| url|schedule|
| system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
| code|CD1|
| code|CD2|
| code|CD3|
| code|CD4|
| code|CD5|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
| url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
| url|authorisationExpiryDate|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
| system|https://fhir.nhs.uk/CodeSystem/prescription-type|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
| system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
| code|ACBS|
| code|AF|
| code|CC|
| code|FS|
| code|SLS|
| system|https://fhir.nhs.uk/Id/prescription-order-item-number|
| status|active|
| status|cancelled|
| status|completed|
| intent|order|
| intent|original-order|
| intent|instance-order|
| system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
| code|inpatient|
| code|outpatient|
| code|community|
| code|discharge|
| display|Inpatient|
| display|Outpatient|
| display|Community|
| display|Discharge|
| system|http://snomed.info/sct|
| system|https://fhir.nhs.uk/Id/prescription-order-number|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
| system|https://fhir.nhs.uk/Id/prescription|
| system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
| code|acute|
| code|continuous|
| code|continuous-repeat-dispensing|
| display|Short course (acute) therapy|
| display|Continuous long term therapy|
| display|Continuous long term (repeat dispensing)|
| system|http://snomed.info/sct|
| asNeededBoolean|true|
| system|http://snomed.info/sct|
| userSelected|true|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| userSelected|true|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
| system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
| code|P1|
| code|P2|
| code|P3|
| code|0004|
| system|http://unitsofmeasure.org|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|http://snomed.info/sct|
| allowedBoolean|false|
| resourceType|PractitionerRole|
| system|https://fhir.nhs.uk/Id/sds-role-profile-id|
| system|https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code|
| system|https://fhir.hl7.org.uk/Id/din-number|
| system|https://fhir.hl7.org.uk/Id/gmc-number|
| system|https://fhir.hl7.org.uk/Id/gmp-number|
| system|https://fhir.hl7.org.uk/Id/nmc-number|
| system|https://fhir.hl7.org.uk/Id/gphc-number|
| system|https://fhir.hl7.org.uk/Id/hcpc-number|
| system|https://fhir.hl7.org.uk/Id/professional-code|
| system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| resourceType|Practitioner|
| system|https://fhir.nhs.uk/Id/sds-user-id|
| system|https://fhir.hl7.org.uk/Id/din-number|
| system|https://fhir.hl7.org.uk/Id/gmc-number|
| system|https://fhir.hl7.org.uk/Id/gphc-number|
| system|https://fhir.hl7.org.uk/Id/hcpc-number|
| system|https://fhir.hl7.org.uk/Id/nmc-number|
| resourceType|MessageHeader|
| system|https://fhir.nhs.uk/CodeSystem/message-event|
| code|prescription-order|
| display|Prescription Order|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/nhs-number|
| use|usual|
| gender|male|
| gender|female|
| gender|other|
| gender|unknown|
| use|home|
| use|temp|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| use|home|
| use|work|
| use|billing|
| use|temp|
| type|postal|
| type|physical|
| type|both|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| status|active|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/nhs-number|
| status|current|
| mode|snapshot|
| text|Repeat Medications|
| resourceType|Provenance|
| type|MedicationRequest|
| system|https://fhir.nhs.uk/Id/prescription-order-item-number|
| system|urn:iso-astm:E1762-95:2013|
| code|1.2.840.10065.1.12.1.1|

> Example responses

> A successful response to an acute, primary care prescription order request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to an acute with multiple dosages, primary care prescription order request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a repeat, primary care prescription order request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a eRD, primary care prescription order request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a eRD, primary care prepare request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "code": "informational",
      "severity": "information"
    }
  ]
}
```

> An error response.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "error",
      "code": "value",
      "details": {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
            "code": "MISSING_FIELD",
            "display": "ResourceType Bundle must contain 'entry' field"
          }
        ]
      }
    }
  ]
}
```

<h3 id="send-prescription-order-message-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Successfully submitted.|Inline|
|4XX|Unknown|An error occurred as follows:

| HTTP status | Error code                 | Description                                                                                                                 |
|-------------|----------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| 400         | DUPLICATE_PRESCRIPTION_ID  | Duplicate prescription ID exists.                                                                                           |
| 400         | FAILURE_TO_PROCESS_MESSAGE | Unable to process message for example where the prescription ID has an invalid checksum or an invalid NHS number is passed. |
| 400         | MISSING_DIGITAL_SIGNATURE  | Digital signature not found.                                                                                                |
| 400         | MISSING_VALUE              | The request contains multiple dosage instruction lines but no corresponding dosage sequence number.                         ||Inline|

<h3 id="send-prescription-order-message-responseschema">Response Schema</h3>

Status Code **200**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

Status Code **4XX**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

<aside class="success">
This operation does not require authentication
</aside>

## send-prescription-order-update-message

<a id="opIdsend-prescription-order-update-message"></a>

> Code samples

```shell
# You can also use wget
curl -X POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order-update \
  -H 'Content-Type: application/fhir+json' \
  -H 'Accept: application/fhir+json' \
  -H 'Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM' \
  -H 'NHSD-Session-URID: 555254240100' \
  -H 'X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068' \
  -H 'X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'

```

```http
POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order-update HTTP/1.1
Host: sandbox.api.service.nhs.uk
Content-Type: application/fhir+json
Accept: application/fhir+json
Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
NHSD-Session-URID: 555254240100
X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068
X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA

```

```javascript
const inputBody = '{
  "resourceType": "Bundle",
  "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "46183abc-9fad-4673-85db-ce2cb6614732"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
      "resource": {
        "resourceType": "MessageHeader",
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "prescription-order-update",
          "display": "Prescription Order Update"
        },
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          },
          "display": "HALLGARTH SURGERY"
        },
        "source": {
          "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008"
        },
        "reason": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/message-reason-prescription",
              "code": "cancel",
              "display": "Cancel"
            }
          ]
        },
        "focus": [
          {
            "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
          },
          {
            "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
          },
          {
            "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ],
        "status": "cancelled",
        "statusReason": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason",
              "code": "0002",
              "display": "Clinical contra-indication"
            }
          ]
        },
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "VNE51"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
      "resource": {
        "resourceType": "Patient",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          }
        ],
        "name": [
          {
            "use": "usual",
            "family": "TWITCHETT",
            "given": [
              "STACEY",
              "MARISA"
            ],
            "prefix": [
              "MS"
            ]
          }
        ],
        "gender": "female",
        "birthDate": "1948-04-30",
        "address": [
          {
            "use": "home",
            "line": [
              "10 HEATHFIELD",
              "COBHAM",
              "SURREY"
            ],
            "postalCode": "KT11 2QY"
          }
        ],
        "generalPractitioner": [
          {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
      "resource": {
        "resourceType": "PractitionerRole",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "200102238987"
          }
        ],
        "practitioner": {
          "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
        },
        "organization": {
          "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              },
              {
                "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "01234567890"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
      "resource": {
        "resourceType": "Practitioner",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "555086689106"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/gmc-number",
            "value": "6095103"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/din-number",
            "value": "977677"
          }
        ],
        "name": [
          {
            "family": "BOIN",
            "given": [
              "C"
            ],
            "prefix": [
              "DR"
            ]
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
      "resource": {
        "resourceType": "Organization",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          }
        ],
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "76",
                "display": "GP PRACTICE"
              }
            ]
          }
        ],
        "name": "HALLGARTH SURGERY",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0115 9737320"
          }
        ],
        "address": [
          {
            "use": "work",
            "type": "both",
            "line": [
              "HALLGARTH SURGERY",
              "CHEAPSIDE"
            ],
            "city": "SHILDON",
            "district": "COUNTY DURHAM",
            "postalCode": "DL4 2HP"
          }
        ],
        "partOf": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "84H"
          },
          "display": "NHS COUNTY DURHAM CCG"
        }
      }
    }
  ]
}';
const headers = {
  'Content-Type':'application/fhir+json',
  'Accept':'application/fhir+json',
  'Authorization':'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID':'555254240100',
  'X-Request-ID':'60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID':'11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
};

fetch('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order-update',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/fhir+json',
  'Accept' => 'application/fhir+json',
  'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID' => '555254240100',
  'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

result = RestClient.post 'https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order-update',
  params: {
  }, headers: headers

p JSON.parse(result)

```

```python
import requests
headers = {
  'Content-Type': 'application/fhir+json',
  'Accept': 'application/fhir+json',
  'Authorization': 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID': '555254240100',
  'X-Request-ID': '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID': '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

r = requests.post('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order-update', headers = headers)

print(r.json())

```

```php
<?php

require 'vendor/autoload.php';

$headers = array(
    'Content-Type' => 'application/fhir+json',
    'Accept' => 'application/fhir+json',
    'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
    'NHSD-Session-URID' => '555254240100',
    'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
    'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('POST','https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order-update', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

```

```java
URL obj = new URL("https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order-update");
HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");
int responseCode = con.getResponseCode();
BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();
System.out.println(response.toString());

```

```go
package main

import (
       "bytes"
       "net/http"
)

func main() {

    headers := map[string][]string{
        "Content-Type": []string{"application/fhir+json"},
        "Accept": []string{"application/fhir+json"},
        "Authorization": []string{"Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"},
        "NHSD-Session-URID": []string{"555254240100"},
        "X-Request-ID": []string{"60E0B220-8136-4CA5-AE46-1D97EF59D068"},
        "X-Correlation-ID": []string{"11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"},
    }

    data := bytes.NewBuffer([]byte{jsonReq})
    req, err := http.NewRequest("POST", "https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#prescription-order-update", data)
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}

```

`POST /FHIR/R4/$process-message#prescription-order-update`

*Cancel a prescription - Prescribing*

## Overview
Use this endpoint to cancel a prescription.

The effect of calling this endpoint depends on the type of the message, which is determined by the `MessageHeader` resource.
To cancel a prescription, send a [prescription-order-update message](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/MessageDefinition-duplicate-2/prescription-order-update).

The `#prescription-order-update` in the URL has been added to distinguish this from the other operations which
can be performed using the [`$process-message` endpoint](https://simplifier.net/guide/NHSDigital/Home/FHIRAssets/AllAssets/OperationDefinition/process-message). It is not required in requests to the API.

> Body parameter

> A valid acute, primary care prescription order update request.

```json
{
  "resourceType": "Bundle",
  "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "46183abc-9fad-4673-85db-ce2cb6614732"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
      "resource": {
        "resourceType": "MessageHeader",
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "prescription-order-update",
          "display": "Prescription Order Update"
        },
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          },
          "display": "HALLGARTH SURGERY"
        },
        "source": {
          "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008"
        },
        "reason": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/message-reason-prescription",
              "code": "cancel",
              "display": "Cancel"
            }
          ]
        },
        "focus": [
          {
            "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
          },
          {
            "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
          },
          {
            "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ],
        "status": "cancelled",
        "statusReason": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason",
              "code": "0002",
              "display": "Clinical contra-indication"
            }
          ]
        },
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "VNE51"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
      "resource": {
        "resourceType": "Patient",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          }
        ],
        "name": [
          {
            "use": "usual",
            "family": "TWITCHETT",
            "given": [
              "STACEY",
              "MARISA"
            ],
            "prefix": [
              "MS"
            ]
          }
        ],
        "gender": "female",
        "birthDate": "1948-04-30",
        "address": [
          {
            "use": "home",
            "line": [
              "10 HEATHFIELD",
              "COBHAM",
              "SURREY"
            ],
            "postalCode": "KT11 2QY"
          }
        ],
        "generalPractitioner": [
          {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
      "resource": {
        "resourceType": "PractitionerRole",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "200102238987"
          }
        ],
        "practitioner": {
          "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
        },
        "organization": {
          "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              },
              {
                "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "01234567890"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
      "resource": {
        "resourceType": "Practitioner",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "555086689106"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/gmc-number",
            "value": "6095103"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/din-number",
            "value": "977677"
          }
        ],
        "name": [
          {
            "family": "BOIN",
            "given": [
              "C"
            ],
            "prefix": [
              "DR"
            ]
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
      "resource": {
        "resourceType": "Organization",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          }
        ],
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "76",
                "display": "GP PRACTICE"
              }
            ]
          }
        ],
        "name": "HALLGARTH SURGERY",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0115 9737320"
          }
        ],
        "address": [
          {
            "use": "work",
            "type": "both",
            "line": [
              "HALLGARTH SURGERY",
              "CHEAPSIDE"
            ],
            "city": "SHILDON",
            "district": "COUNTY DURHAM",
            "postalCode": "DL4 2HP"
          }
        ],
        "partOf": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "84H"
          },
          "display": "NHS COUNTY DURHAM CCG"
        }
      }
    }
  ]
}
```

<h3 id="send-prescription-order-update-message-parameters">Parameters</h3>

|Name|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string(^Bearer\ [[:ascii:]]+$)|true|An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).|
|NHSD-Session-URID|header|string|false|The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).|
|X-Request-ID|header|string|true|A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.|
|X-Correlation-ID|header|string|false|An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.|
|body|body|object|true|none|
| resourceType|body|string|true|FHIR resource type.|
| id|body|string|false|An object ID for the Bundle.|
| identifier|body|object|true|none|
| system|body|string|false|codesystem URL for identifiers|
| value|body|string|false|The X-Request ID for the message.|
| type|body|string|true|The reason why a series of resources and objects are grouped together.|
| entry|body|[oneOf]|true|A collection of resources contained within the Bundle.|
| *anonymous*|body|object|false|MessageHeader|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|none|
| resourceType|body|string|true|FHIR resource type.|
| eventCoding|body|object|true|The type of message event being generated.|
| system|body|string|false|codesystem URL for message events.|
| code|body|string|false|code for the message event.|
| display|body|string|false|display value accompanying the code for the message event.|
| source|body|object|true|The organisation originating the message.|
| endpoint|body|string|false|ODS code of the organisation originating the message, expressed as a URN.|
| *anonymous*|body|object|false|MedicationRequest|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|A cancel request is effectively an update to a prescription, expressed through a MedicationRequest resource for each line item that is being cancelled.|
| resourceType|body|string|true|FHIR resource type.|
| statusReason|body|object|true|The reason the line item is being cancelled.|
| coding|body|[object]|false|none|
| system|body|string|true|codesystem URL for the cancellation reason.|
| code|body|string|true|cancel reason code.|
| display|body|string|false|the display accompanying the cancel reason code.|
| extension|body|[object]|false|FHIR extension array.|
| url|body|string|false|URL of the extension definition.|
| valueReference|body|object|false|none|
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle.|
| display|body|string|false|The name of the responsible practitioner.|
| identifier|body|[object]|true|The unique ID for each line item on a prescription.|
| system|body|string|true|Codesystem URL for the line item ID.|
| value|body|string|true|The unique ID for a given line item.|
| status|body|string|true|The status of a MedicationRequest object. |
| intent|body|string|true|The intent of a MedicationRequest object. |
| category|body|[object]|true|Identifies the context in which a prescription is created.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the prescription category.|
| code|body|string|true|Code for the prescription category.|
| display|body|string|false|Display value for the prescription category.|
| medicationCodeableConcept|body|object|true|The medication that is being cancelled. |
| coding|body|[object]|false|none|
| system|body|string|true|SNOMED codesystem URL.|
| code|body|string|true|SNOMED code for the medication, as defined in the dm+d.|
| display|body|string|false|Human readable name for the medication.|
| subject|body|object|true|Reference object to identify the patient a prescription is for. |
| reference|body|string|false|A reference to a Patient resource within the Bundle.|
| requester|body|object|true|Reference object to identify the author of a cancel request. |
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle.|
| groupIdentifier|body|object|true|An object containing the short-form and long-form Prescription ID.|
| system|body|string|true|Codesystem URL for the short-form Prescription ID.|
| value|body|string|true|The short-form Prescription ID. |
| extension|body|[object]|false|FHIR extension array containing the long-form Prescription ID.|
| url|body|string|true|none|
| valueIdentifier|body|object|true|The long-form identifier of the prescription.|
| system|body|string|true|Codesystem URL for the long-form Prescription ID.|
| value|body|string|true|The long-form prescription ID.|
| courseOfTherapyType|body|object|true|The treatment type of the prescription, i.e. whether it is an acute, repeat, or eRD prescription.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the prescription treatment type.|
| code|body|string|true|Code identifying the prescription treatment type.|
| display|body|string|false|Display value for the prescription treatment type.|
| dosageInstruction|body|[object]|true|The dosage instructions for a prescription. |
| sequence|body|integer(int32)|false|The order of the dosage instructions.|
| text|body|string|false|The dosage instructions expressed as text.|
| additionalInstruction|body|[object]|false|Supplemental instruction or warnings to the patient.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|SNOMED code for additional dosage instructions.|
| display|body|string|false|Additional dosage instructions (qualifier value).|
| patientInstruction|body|string|false|Patient or consumer oriented instructions.|
| timing|body|object|false|A structured expression of dose frequency.|
| repeat|body|object|false|The frequency and period over which the medication should be consumed.|
| boundsDuration|body|object|false|The bounds duration at which the medication should be consumed.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| frequency|body|number|false|The frequency at which the medication should be consumed within a given period.|
| period|body|integer(int32)|false|The period over which the frequency applies.|
| periodUnit|body|string|false|The fundamental unit of the period, defined in UCUM.|
| asNeeded|body|object|false|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), |
| asNeededBoolean|body|boolean|false|The asNeeded structure can be used to define a simple "as required" instructions.|
| asNeededCodeableConcept|body|object|false|The asNeeded structure can be used to define a simple "as required" instructions.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| version|body|string|false|Version of the system - if relevant.|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|Representation defined by the system.|
| userSelected|body|boolean|false|Indicates that this coding was chosen by a user directly |
| text|body|string|false|Plain text representation of the concept.|
| site|body|object|false|Body site to administer to.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|none|
| route|body|object|false|A structured expression of how the medication should be consumed.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| version|body|string|false|Version of the system - if relevant.|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|Representation defined by the system.|
| userSelected|body|boolean|false|Indicates that this coding was chosen by a user directly |
| method|body|object|false|Technique for administering medication.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|Valid SNOMED code identifying the technique for administering medication.|
| display|body|string|false|none|
| doseAndRate|body|[oneOf]|false|Amount of medication administered.|
| *anonymous*|body|object|false|none|
| type|body|object|false|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|body|[object]|false|none|
| system|body|string|true|SNOMED codesystem URL.|
| code|body|integer|true|Valid SNOMED code identifying how the medication should be consumed.|
| display|body|string|false|Human readable name for the method of consumption.|
| text|body|string|false|Plain text representation of the concept.|
| *anonymous*|body|object|false|none|
| dose|body|[object]|false|Amount of medication per dose.|
| doseRange|body|object|false|A dose that may be in a given low / high range.|
| low|body|object|false|The low limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, |
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| high|body|object|false|The high limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| doseQuantity|body|object|false|The amount of medication per dose, as a simple coded quantity.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rate|body|[object]|false|Amount of medication per unit of time.|
| rateRatio|body|object|false|Where the rate is expressed as coded numerator and denominator values.|
| numerator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| denominator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rateRange|body|object|false|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|body|object|false|The low limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| high|body|object|false|The high limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rateQuantity|body|object|false|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerPeriod|body|object|false|Upper limit on medication per unit of time.|
| numerator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| denominator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerAdministration|body|object|false|Used to define a maximum dose for a single administration.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerLifetime|body|object|false|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| note|body|[object]|false|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|body|string|false|Specific additional instructions for a prescription line item.|
| dispenseRequest|body|object|true|A FHIR object containing information relevant to how the prescription should be dispensed. |
| extension|body|[object]|true|FHIR extension array.|
| url|body|string|false|Extension URL for DM-PerformerSiteType.|
| valueCoding|body|object|false|none|
| system|body|string|false|Codesystem URL to hold the nomination.|
| code|body|string|false|The nomination applied to a prescription.|
| numberOfRepeatsAllowed|body|integer|false|For eRD and repeat prescriptions only.|
| validityPeriod|body|object|false|The start and end dates of a prescription.|
| start|body|string|false|The start date of a prescription.|
| end|body|string|false|For eRD prescriptions only. The end date of a prescription.|
| expectedSupplyDuration|body|object|false|For eRD prescriptions only. |
| value|body|number|false|The number of days each issue in an eRD prescription is valid for.|
| unit|body|string|false|The UCUM unit of measure display for days.|
| system|body|string|false|Codesystem URL for UCUM.|
| code|body|string|false|The UCUM unit of measure code for days.|
| performer|body|object|false|For nominated prescriptions only, including one-off nominations.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| quantity|body|object|true|The quantity of the medication being prescribed.|
| value|body|number|false|The numeric value of the quantity being prescribed.|
| unit|body|string|false|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|body|string|false|SNOMED codesystem URL.|
| code|body|integer|false|The dm+d code associated with a given unit of measure.|
| substitution|body|object|true|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|body|boolean|false|none|
| *anonymous*|body|object|false|Patient|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|The patient the prescription is for.|
| resourceType|body|string|true|FHIR resource type.|
| identifier|body|[object]|true|The patient's NHS number.|
| system|body|string(url)|true|FHIR codesystem URL for NHS numbers.|
| value|body|string|true|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.|
| name|body|[object]|true|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|body|string|false|How this name should be used.|
| family|body|string|true|Family name (often called Surname).|
| given|body|[string]|false|Given names, including any middle names.|
| prefix|body|[string]|false|Name prefixes, titles, and prenominals.|
| gender|body|string|true|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.|
| birthDate|body|string(date)|true|The date on which the patient was born or is officially deemed to have been born.|
| address|body|[object]|true|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|body|string|false|Purpose of this address:|
| line|body|[string]|false|All lines of the address except the postal code.|
| postalCode|body|string|false|Postal code of the address.|
| telecom|body|[object]|false|The patient's telephone number.|
| system|body|string|false|Means of communication, such as phone or email.|
| use|body|string|false|Location associated with communication system.|
| value|body|string|false|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|body|[object]|true|General practice (not practitioner) with which the patient is or was registered.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| *anonymous*|body|object|false|Organization|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.|
| resourceType|body|string|false|FHIR resource type.|
| identifier|body|[object]|false|An array containing the ODS code of the organisation|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| name|body|string|true|Organisation name.|
| address|body|[object]|true|Organisation address.|
| use|body|string|false|The purpose of the address.|
| type|body|string|false|The type of address.|
| line|body|[string]|false|All lines of the address except the city, district, and postal code.|
| city|body|string|false|The city of the address.|
| district|body|string|false|The district of the address.|
| postalCode|body|string|false|The postal code of the address.|
| telecom|body|[object]|true|The telephone number associated with the organisation.|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| partOf|body|object|true|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| display|body|string|true|the name of the managing organisation|
| *anonymous*|body|object|false|CommunicationRequest|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Additional instructions intended for the patient.|
| resourceType|body|string|false|FHIR resource type.|
| status|body|string|false|The status of the CommunicationRequest. Must always default to "active".|
| subject|body|object|false|A reference object to identify the patient the prescription is for.|
| reference|body|string|false|A reference to a Patient resource within the Bundle.|
| payload|body|[object]|true|Additional instructions provided as part of this prescription.|
| contentString|body|string|false|Additional instructions intended for the patient.|
| contentReference|body|object|false|A reference to the list of repeat medications that the patient is on.|
| reference|body|string|false|A reference to a List resource within the Bundle|
| requester|body|object|false|Details of the prescribing organisation originating the instructions.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| recipient|body|[object]|false|Details of the patient receiving the instructions.|
| identifier|body|object|false|none|
| system|body|string(url)|true|FHIR codesystem URL for NHS numbers.|
| value|body|string|true|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.|
| *anonymous*|body|object|false|List|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|For repeat and eRD prescriptions only. |
| resourceType|body|string|false|FHIR resource type.|
| status|body|string|false|The status of the List object. Must always default to "current".|
| mode|body|string|false|The type of List being represented. Must always default to "snapshot".|
| code|body|object|false|A description of what the list represents.|
| text|body|string|false|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|body|object|false|A reference object to identify the patient the prescription is for.|
| reference|body|string|false|A reference to a Patient resource within the Bundle.|
| entry|body|[object]|false|list of repeat medication items prescribed to the patient.|
| item|body|object|false|A medication item, represented using its dm+d name and description.|
| *anonymous*|body|object|false|PractitionerRole|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Role-specific details of the author or responsible party of a cancel request. |
| resourceType|body|string|false|FHIR resource type.|
| identifier|body|[object]|false|An array containing role-specific identifiers for the prescriber or dispenser.|
| SDS Role Profile ID|body|object|false|The prescriber or dispenser's SDS Role Profile ID.|
| system|body|string|true|Codesystem URL for the SDS role profile ID.|
| value|body|string|true|SDS role profile ID.|
| practitioner|body|object|true|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|body|string|false|A FHIR reference object|
| organization|body|object|true|A reference to an Organization resource.|
| reference|body|string|false|a FHIR reference object|
| code|body|[object]|false|The SDS job role code for a given prescriber or dispenser.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the job role code.|
| code|body|string|true|The SDS job role code.|
| display|body|string|false|Display text for the SDS job role code.|
| telecom|body|[object]|false|the telephone number of a given prescriber or dispenser.|
| system|body|string|false|Means of communication, such as phone or email.|
| use|body|string|false|Location associated with the contact details provided.|
| value|body|string|false|Phone number, email address, or other identifier for use with contact system.|
| *anonymous*|body|object|false|Practitioner|
| fullUrl|body|string|true|object URL for the resource|
| resource|body|object|false|Details of the author or responsible party of a cancel request.|
| resourceType|body|string|true|FHIR resource type.|
| identifier|body|[object]|true|An array containing the prescriber's professional codes and identifiers.|
| system|body|string|true|Codesystem URL for the SDS User Identifier.|
| value|body|string|true|SDS User Identifier.|
| name|body|[object]|true|The prescriber's name.|
| family|body|string|true|Family name (often called Surname).|
| given|body|[string]|false|Given names, including any middle names.|
| prefix|body|[string]|false|Name prefixes, titles, and prenominals.|

#### Detailed descriptions

**Authorization**: An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).

Required in all environments except sandbox.

**NHSD-Session-URID**: The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).

If you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, see [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) for guidance.

This field is optional.

**X-Request-ID**: A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.

Must be a universally unique identifier (UUID) (ideally version 4).

Mirrored back in a response header.

If you re-send a failed request, use the same value in this header.

Required in all environments except sandbox.

**X-Correlation-ID**: An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.

Mirrored back in a response header.

** statusReason**: The reason the line item is being cancelled.
The reason must be in line with the cancellation reasons vocabulary <link>.

** status**: The status of a MedicationRequest object. 
This must be consistent across all MedicationRequests in a Bundle.

** intent**: The intent of a MedicationRequest object. 
This must be consistent across all MedicationRequests in a Bundle.

** category**: Identifies the context in which a prescription is created.
For example, a prescription created within primary care will be categorised as "community."
Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."

** medicationCodeableConcept**: The medication that is being cancelled. 
This must be represented as a VMP or AMP concept from the dm+d.

** subject**: Reference object to identify the patient a prescription is for. 
A Patient resource within the Bundle must be referenced.

** requester**: Reference object to identify the author of a cancel request. 
A PractitionerRole resource within the Bundle must be referenced.

** value**: The short-form Prescription ID. 
An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). 
It is to be formatted as follows:
  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.
  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  
  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.
  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.

** code**: Code identifying the prescription treatment type.
* acute: acute prescriptions
* continuous: repeat prescriptions
* continuous-repeat-dispensing: eRD prescriptions

** dosageInstruction**: The dosage instructions for a prescription. 
These must be expressed as both structured dose and text.

** sequence**: The order of the dosage instructions.
Indicates the order in which the dosage instructions should be applied or interpreted.

** text**: The dosage instructions expressed as text.
Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.
Instructions with the same sequence number will be separated by ", and"
Instructions with different sequence numbers will be separated by ", then"
Please do not use full stops or commas at the end of any instructions provided.

** additionalInstruction**: Supplemental instruction or warnings to the patient.
E.g. "with meals", "may cause drowsiness".

** boundsDuration**: The bounds duration at which the medication should be consumed.
E.g. "4.5" for 4 & 1/2 days.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** frequency**: The frequency at which the medication should be consumed within a given period.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.
E.g. "4" for 4 times over a given period.

** period**: The period over which the frequency applies.
e.g. "1" for 1 day.

** asNeeded**: Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), 
or it indicates the precondition for taking the Medication (CodeableConcept).

** asNeededBoolean**: The asNeeded structure can be used to define a simple "as required" instructions.
The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.

** asNeededCodeableConcept**: The asNeeded structure can be used to define a simple "as required" instructions.
The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.

** userSelected**: Indicates that this coding was chosen by a user directly 
- e.g. off a pick list of available items (codes or displays).

** userSelected**: Indicates that this coding was chosen by a user directly 
- e.g. off a pick list of available items (codes or displays).

** value**: A rational number with implicit precision, 
to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something 
like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** rateQuantity**: Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent
to defining the rate using the more complex rateRatio structure.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** dispenseRequest**: A FHIR object containing information relevant to how the prescription should be dispensed. 
These values should be consistent across all MedicationRequests in a Bundle.

** code**: The nomination applied to a prescription.
This could either be a nomination for:
  * A dispensing contractor (P1)
  * A dispensing appliance contractor (P2)
  * A dispensing doctor (P3)
Or a non-nominated prescription (0004).

** numberOfRepeatsAllowed**: For eRD and repeat prescriptions only.
The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. 
For repeat prescriptions, this value must always default to 0.

** expectedSupplyDuration**: For eRD prescriptions only. 
The duration of each issue within an eRD prescription. This must be expressed in days.

** value**: The number of days each issue in an eRD prescription is valid for.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** performer**: For nominated prescriptions only, including one-off nominations.
The ODS code of the nominated dispenser.

** value**: The numeric value of the quantity being prescribed.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.
Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).

** use**: How this name should be used.
* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.

** given**: Given names, including any middle names.
Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.
Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.

** gender**: Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.
It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.

** birthDate**: The date on which the patient was born or is officially deemed to have been born.

It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.

When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.

** use**: Purpose of this address:
  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address
  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged

  A patient should have no more than one current `temp` address.
  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.
  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).

  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.
  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.

** line**: All lines of the address except the postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`
*  line 4 - post town, e.g. `Leeds`
*  line 5 - county (if present), e.g. `West Yorkshire`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

** resource**: Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.

Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.

** line**: All lines of the address except the city, district, and postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

** resource**: Additional instructions intended for the patient.
For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.

** value**: The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.
Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).

** resource**: For repeat and eRD prescriptions only. 

A structured list of repeat medication items prescribed to the patient.

** resource**: Role-specific details of the author or responsible party of a cancel request. 

Where a cancel response contains details of the dispenser, role-specific details of the dispenser will also be contained within a PractitionerRole resource.

** organization**: A reference to an Organization resource.

Where the cancel response contains details of the dispenser, this will contain the details of the dispensing organisation.

#### Enumerated Values

|Parameter|Value|
|---|---|
| id|164996aa-29eb-4f14-a5ac-4b556a7baf6e|
| system|https://tools.ietf.org/html/rfc4122|
| type|message|
| system|https://fhir.nhs.uk/CodeSystem/message-event|
| code|prescription-order-update|
| display|Prescription Order Update|
| resourceType|MedicationRequest|
| system|https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason|
| code|0001|
| code|0002|
| code|0003|
| code|0004|
| code|0005|
| code|0006|
| code|0007|
| code|0008|
| code|0009|
| display|Prescribing error|
| display|Clinical contra-indication|
| display|Change to medication treatment regime|
| display|Clinical grounds|
| display|At the Patient's request|
| display|At the Pharmacist's request|
| display|Notification of Death|
| display|Patient deducted - other reason|
| display|Patient deducted- registered with new practice|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
| system|https://fhir.nhs.uk/Id/prescription-order-item-number|
| status|cancelled|
| system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
| code|inpatient|
| code|outpatient|
| code|community|
| code|discharge|
| display|Inpatient|
| display|Outpatient|
| display|Community|
| display|Discharge|
| system|http://snomed.info/sct|
| system|https://fhir.nhs.uk/Id/prescription-order-number|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
| system|https://fhir.nhs.uk/Id/prescription|
| system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
| code|acute|
| code|continuous|
| code|continuous-repeat-dispensing|
| display|Short course (acute) therapy|
| display|Continuous long term therapy|
| display|Continuous long term (repeat dispensing)|
| system|http://snomed.info/sct|
| asNeededBoolean|true|
| system|http://snomed.info/sct|
| userSelected|true|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| userSelected|true|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
| system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
| code|P1|
| code|P2|
| code|P3|
| code|0004|
| system|http://unitsofmeasure.org|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|http://snomed.info/sct|
| allowedBoolean|false|
| system|https://fhir.nhs.uk/Id/nhs-number|
| use|usual|
| gender|male|
| gender|female|
| gender|other|
| gender|unknown|
| use|home|
| use|temp|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| use|home|
| use|work|
| use|billing|
| use|temp|
| type|postal|
| type|physical|
| type|both|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| status|active|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/nhs-number|
| status|current|
| mode|snapshot|
| text|Repeat Medications|
| system|https://fhir.nhs.uk/Id/sds-role-profile-id|
| system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| system|https://fhir.nhs.uk/Id/sds-user-id|

> Example responses

> A successful response to an acute, primary care prescription order update request.

```json
{
  "resourceType": "Bundle",
  "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "46183abc-9fad-4673-85db-ce2cb6614732"
  },
  "timestamp": "2022-10-21T13:48:00+00:00",
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
      "resource": {
        "resourceType": "MessageHeader",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-MessageHeader-messageId",
            "valueIdentifier": {
              "system": "https://tools.ietf.org/html/rfc4122",
              "value": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487"
            }
          }
        ],
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "prescription-order-response",
          "display": "Prescription Order Response"
        },
        "destination": [
          {
            "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008",
            "receiver": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                "value": "A83008"
              }
            }
          }
        ],
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "X2601"
          },
          "display": "NHS Digital Spine"
        },
        "source": {
          "name": "NHS Spine",
          "endpoint": "https://internal-dev.api.service.nhs.uk/electronic-prescriptions/$process-message"
        },
        "response": {
          "identifier": "d03e713b-e62c-4a2f-964d-d83b68d825a9",
          "code": "ok"
        },
        "focus": [
          {
            "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          },
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionStatusHistory",
            "extension": [
              {
                "url": "status",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history",
                  "code": "R-0001",
                  "display": "Prescription/item was cancelled"
                }
              },
              {
                "url": "statusDate",
                "valueDateTime": "2022-10-21T13:48:00+00:00"
              }
            ]
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ],
        "status": "cancelled",
        "statusReason": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason",
              "code": "0002",
              "display": "Clinical contra-indication"
            }
          ]
        },
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "VNE51"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
      "resource": {
        "resourceType": "Patient",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          }
        ],
        "name": [
          {
            "use": "usual",
            "family": "TWITCHETT",
            "given": [
              "STACEY",
              "MARISA"
            ],
            "prefix": [
              "MS"
            ]
          }
        ],
        "gender": "female",
        "birthDate": "1948-04-30",
        "address": [
          {
            "use": "home",
            "line": [
              "10 HEATHFIELD",
              "COBHAM",
              "SURREY"
            ],
            "postalCode": "KT11 2QY"
          }
        ],
        "generalPractitioner": [
          {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
      "resource": {
        "resourceType": "PractitionerRole",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "200102238987"
          }
        ],
        "practitioner": {
          "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
        },
        "organization": {
          "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              },
              {
                "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "01234567890"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
      "resource": {
        "resourceType": "Practitioner",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "555086689106"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/gmc-number",
            "value": "6095103"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/din-number",
            "value": "977677"
          }
        ],
        "name": [
          {
            "family": "BOIN",
            "given": [
              "C"
            ],
            "prefix": [
              "DR"
            ]
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
      "resource": {
        "resourceType": "Organization",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          }
        ],
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "76",
                "display": "GP PRACTICE"
              }
            ]
          }
        ],
        "name": "HALLGARTH SURGERY",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0115 9737320"
          }
        ],
        "address": [
          {
            "use": "work",
            "type": "both",
            "line": [
              "HALLGARTH SURGERY",
              "CHEAPSIDE"
            ],
            "city": "SHILDON",
            "district": "COUNTY DURHAM",
            "postalCode": "DL4 2HP"
          }
        ],
        "partOf": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "84H"
          },
          "display": "NHS COUNTY DURHAM CCG"
        }
      }
    }
  ]
}
```

> A successful response to a repeat, primary care prescription order update request.

```json
{
  "resourceType": "Bundle",
  "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "46183abc-9fad-4673-85db-ce2cb6614732"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
      "resource": {
        "resourceType": "MessageHeader",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-MessageHeader-messageId",
            "valueIdentifier": {
              "system": "https://tools.ietf.org/html/rfc4122",
              "value": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487"
            }
          }
        ],
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "prescription-order-response",
          "display": "Prescription Order Response"
        },
        "destination": [
          {
            "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008",
            "receiver": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                "value": "A83008"
              }
            }
          }
        ],
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "X2601"
          },
          "display": "NHS Digital Spine"
        },
        "source": {
          "name": "NHS Spine",
          "endpoint": "https://internal-dev.api.service.nhs.uk/electronic-prescriptions/$process-message"
        },
        "response": {
          "identifier": "d03e713b-e62c-4a2f-964d-d83b68d825a9",
          "code": "ok"
        },
        "focus": [
          {
            "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          },
          {
            "url": "https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation",
            "extension": [
              {
                "url": "numberOfPrescriptionsIssued",
                "valueUnsignedInt": 2
              },
              {
                "url": "authorisationExpiryDate",
                "valueDateTime": "2023-04-07"
              }
            ]
          },
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionStatusHistory",
            "extension": [
              {
                "url": "status",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history",
                  "code": "R-0001",
                  "display": "Prescription/item was cancelled"
                }
              },
              {
                "url": "statusDate",
                "valueDateTime": "2022-10-21T13:48:00+00:00"
              }
            ]
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ],
        "status": "cancelled",
        "statusReason": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason",
              "code": "0002",
              "display": "Clinical contra-indication"
            }
          ]
        },
        "intent": "instance-order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "basedOn": [
          {
            "extension": [
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation",
                "extension": [
                  {
                    "url": "numberOfRepeatsAllowed",
                    "valueUnsignedInt": 5
                  }
                ]
              }
            ],
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
              "value": "299c610b-f4f1-4eac-a7d7-4fb6b0556e11"
            }
          }
        ],
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "continuous",
              "display": "Continuous long term therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "numberOfRepeatsAllowed": 0,
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "VNE51"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
      "resource": {
        "resourceType": "Patient",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          }
        ],
        "name": [
          {
            "use": "usual",
            "family": "TWITCHETT",
            "given": [
              "STACEY",
              "MARISA"
            ],
            "prefix": [
              "MS"
            ]
          }
        ],
        "gender": "female",
        "birthDate": "1948-04-30",
        "address": [
          {
            "use": "home",
            "line": [
              "10 HEATHFIELD",
              "COBHAM",
              "SURREY"
            ],
            "postalCode": "KT11 2QY"
          }
        ],
        "generalPractitioner": [
          {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
      "resource": {
        "resourceType": "PractitionerRole",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "200102238987"
          }
        ],
        "practitioner": {
          "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
        },
        "organization": {
          "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              },
              {
                "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "01234567890"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
      "resource": {
        "resourceType": "Practitioner",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "555086689106"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/gmc-number",
            "value": "6095103"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/din-number",
            "value": "977677"
          }
        ],
        "name": [
          {
            "family": "BOIN",
            "given": [
              "C"
            ],
            "prefix": [
              "DR"
            ]
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
      "resource": {
        "resourceType": "Organization",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          }
        ],
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "76",
                "display": "GP PRACTICE"
              }
            ]
          }
        ],
        "name": "HALLGARTH SURGERY",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0115 9737320"
          }
        ],
        "address": [
          {
            "use": "work",
            "type": "both",
            "line": [
              "HALLGARTH SURGERY",
              "CHEAPSIDE"
            ],
            "city": "SHILDON",
            "district": "COUNTY DURHAM",
            "postalCode": "DL4 2HP"
          }
        ],
        "partOf": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "84H"
          },
          "display": "NHS COUNTY DURHAM CCG"
        }
      }
    }
  ]
}
```

> A successful response to a eRD, primary care prescription order update request.

```json
{
  "resourceType": "Bundle",
  "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "46183abc-9fad-4673-85db-ce2cb6614732"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
      "resource": {
        "resourceType": "MessageHeader",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-MessageHeader-messageId",
            "valueIdentifier": {
              "system": "https://tools.ietf.org/html/rfc4122",
              "value": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487"
            }
          }
        ],
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "prescription-order-response",
          "display": "Prescription Order Response"
        },
        "destination": [
          {
            "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008",
            "receiver": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                "value": "A83008"
              }
            }
          }
        ],
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "X2601"
          },
          "display": "NHS Digital Spine"
        },
        "source": {
          "name": "NHS Spine",
          "endpoint": "https://internal-dev.api.service.nhs.uk/electronic-prescriptions/$process-message"
        },
        "response": {
          "identifier": "d03e713b-e62c-4a2f-964d-d83b68d825a9",
          "code": "ok"
        },
        "focus": [
          {
            "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
              "code": "0101",
              "display": "Primary Care Prescriber - Medical Prescriber"
            }
          },
          {
            "url": "https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation",
            "extension": [
              {
                "url": "authorisationExpiryDate",
                "valueDateTime": "2023-04-07"
              }
            ]
          },
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionStatusHistory",
            "extension": [
              {
                "url": "status",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history",
                  "code": "R-0001",
                  "display": "Prescription/item was cancelled"
                }
              },
              {
                "url": "statusDate",
                "valueDateTime": "2022-10-21T13:48:00+00:00"
              }
            ]
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
          }
        ],
        "status": "cancelled",
        "statusReason": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason",
              "code": "0002",
              "display": "Clinical contra-indication"
            }
          ]
        },
        "intent": "original-order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "community",
                "display": "Community"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "24F5DA-A83008-7EFE6Z",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-course-of-therapy",
              "code": "continuous-repeat-dispensing",
              "display": "Continuous long term (repeat dispensing)"
            }
          ]
        },
        "dosageInstruction": [
          {
            "text": "3 times a day for 10 days",
            "timing": {
              "repeat": {
                "frequency": 3,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "validityPeriod": {
            "start": "2022-10-21"
          },
          "numberOfRepeatsAllowed": 6,
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "expectedSupplyDuration": {
            "value": 10,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "VNE51"
            }
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    },
    {
      "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
      "resource": {
        "resourceType": "Patient",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          }
        ],
        "name": [
          {
            "use": "usual",
            "family": "TWITCHETT",
            "given": [
              "STACEY",
              "MARISA"
            ],
            "prefix": [
              "MS"
            ]
          }
        ],
        "gender": "female",
        "birthDate": "1948-04-30",
        "address": [
          {
            "use": "home",
            "line": [
              "10 HEATHFIELD",
              "COBHAM",
              "SURREY"
            ],
            "postalCode": "KT11 2QY"
          }
        ],
        "generalPractitioner": [
          {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
      "resource": {
        "resourceType": "PractitionerRole",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "200102238987"
          }
        ],
        "practitioner": {
          "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
        },
        "organization": {
          "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              },
              {
                "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "01234567890"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
      "resource": {
        "resourceType": "Practitioner",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "555086689106"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/gmc-number",
            "value": "6095103"
          },
          {
            "system": "https://fhir.hl7.org.uk/Id/din-number",
            "value": "977677"
          }
        ],
        "name": [
          {
            "family": "BOIN",
            "given": [
              "C"
            ],
            "prefix": [
              "DR"
            ]
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
      "resource": {
        "resourceType": "Organization",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          }
        ],
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "76",
                "display": "GP PRACTICE"
              }
            ]
          }
        ],
        "name": "HALLGARTH SURGERY",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0115 9737320"
          }
        ],
        "address": [
          {
            "use": "work",
            "type": "both",
            "line": [
              "HALLGARTH SURGERY",
              "CHEAPSIDE"
            ],
            "city": "SHILDON",
            "district": "COUNTY DURHAM",
            "postalCode": "DL4 2HP"
          }
        ],
        "partOf": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "84H"
          },
          "display": "NHS COUNTY DURHAM CCG"
        }
      }
    }
  ]
}
```

> An error response.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "error",
      "code": "value",
      "details": {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
            "code": "MISSING_FIELD",
            "display": "ResourceType Bundle must contain 'entry' field"
          }
        ]
      }
    }
  ]
}
```

<h3 id="send-prescription-order-update-message-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Successfully submitted.

Note that both successful and unsuccessful cancel responses will be successfully processed.

| HTTP status | Response code          | Description                                                                                                                           |
| ----------- | ---------------------- | --------------------------------------------------------------------------------------------------------------------------------------|
| 200         | R-0001                 | Prescription or item was cancelled.                                                                                                   ||Inline|
|4XX|Unknown|An error occurred as follows:

| HTTP status | Error code  | Description                                                                              |
|-------------|-------------|------------------------------------------------------------------------------------------|
| 400         | R-0002      | Prescription or item was not cancelled. With dispenser. Marked for cancellation.         |
| 400         | R-0003      | Prescription or item was not cancelled. With dispenser active. Marked for cancellation.  |
| 400         | R-0004      | Prescription or item was not cancelled. Prescription has been dispensed.                 |
| 400         | R-0005      | Prescription or item had expired.                                                        |
| 400         | R-0006      | Prescription or item had already been cancelled.                                         |
| 400         | R-0007      | Prescription or item cancellation requested by another prescriber.                       |
| 400         | R-0010      | Prescription or item was not cancelled. Prescription has been not dispensed.             |
| 400         | R-0008      | Prescription or item not found.                                                          |
| 400         | R-5000      | Unable to process message due to invalid information within the cancel request.          ||Inline|

<h3 id="send-prescription-order-update-message-responseschema">Response Schema</h3>

Status Code **200**

*A FHIR Bundle.*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|true|none|FHIR resource type.|
| id|string|false|none|An object ID for the Bundle.|
| identifier|object|true|none|none|
| system|string|false|none|codesystem URL for identifiers|
| value|string|false|none|The X-Request ID for the message.|
| type|string|true|none|The reason why a series of resources and objects are grouped together.|
| entry|[oneOf]|true|none|A collection of resources contained within the Bundle.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|MedicationRequest|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|A cancel response and any information associated with it will be contained within a MedicationRequest resource.|
| resourceType|string|true|none|FHIR resource type|
| extension|[oneOf]|false|none|FHIR extension array.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|cancel response for a successful or unsuccessful cancel request.|
| url|string|false|none|codesystem URL for cancel responses.|
| extension|[oneOf]|false|none|FHIR extension array|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| url|string|false|none|none|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem URL for cancel response.|
| code|string|false|none|cancel response code|
| display|string|false|none|cancel response display|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| url|string|false|none|URL to identify the time that the cancel response was received|
| valueDateTime|string|false|none|The time that the cancel response was received|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|string|false|none|URL of the extension definition.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|The review date of the prescription.<br>This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.|
| valueDateTime|string|false|none|A date value|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.<br><br>For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.|
| url|string|false|none|URL of the extension definition.|
| valueCoding|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|string|false|none|codesystem URL for the prescription type|
| code|string|false|none|The prescription type code|
| display|string|false|none|The display that accompanies the prescription type code|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. <br><br>View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).|
| url|string|false|none|URL of the extension definition.|
| valueCodeableConcept|object|false|none|none|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for endorsements.|
| code|string|true|none|The endorsement code.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| display|string|false|none|The name of the responsible practitioner.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The quantity of a controlled drug, expressed in words|
| url|string|false|none|URL of the extension definition.|
| extension|[oneOf]|false|none|FHIR extension array.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the quantity in words|
| url|string|false|none|URL for the controlled drug quantity|
| valueString|string|false|none|quantity expressed in words|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the schedule of the controlled drug|
| url|string|false|none|URL for the controlled drug schedule|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem to identify the controlled drug schedule|
| code|string|false|none|a code to identify the controlled drug schedule|
| display|string|false|none|a human readable display to accompany the controlled drug schedule code|

*continued*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| identifier|[object]|true|none|The unique ID for each line item on a prescription.|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| status|string|true|none|The status of a MedicationRequest object. <br><br>This must be consistent across all MedicationRequests in a Bundle.|
| intent|string|true|none|The intent of a MedicationRequest object. <br><br>This must be consistent across all MedicationRequests in a Bundle.|
| medicationCodeableConcept|object|true|none|The medication that is being cancelled. <br><br>This must be represented as a VMP or AMP concepts from the dm+d.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|string|true|none|SNOMED code for the medication, as defined in the dm+d.|
| display|string|false|none|Human readable name for the medication.|
| subject|object|true|none|Reference object to identify the patient a prescription is for. <br><br>A Patient resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a Patient resource within the Bundle|
| requester|object|true|none|Reference object to identify the author of a prescription. <br><br>A PractitionerRole resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|object|true|none|An object containing the short-form and long-form Prescription ID.|
| system|string|true|none|Codesystem URL for the short-form Prescription ID.|
| value|string|true|none|The short-form Prescription ID. <br>An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). <br>It is to be formatted as follows:<br>  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.<br>  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  <br>  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.<br>  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.|
| extension|[object]|false|none|FHIR extension array containing the long-form Prescription ID.|
| url|string|true|none|none|
| valueIdentifier|object|true|none|The long-form identifier of the prescription.|
| system|string|true|none|Codesystem URL for the long-form Prescription ID.|
| value|string|true|none|The long-form prescription ID.|
| dispenseRequest|object|true|none|A FHIR object containing information relevant to how the prescription should be dispensed. <br><br>These values should be consistent across all MedicationRequests in a Bundle.|
| performer|object|false|none|Where a cancel response is unsuccessful due to the prescription being with a dispenser, details of the dispenser who downloaded the prescription will be provided as part of the cancel response to enable the prescriber to contact the dispenser.|
| extension|[object]|false|none|Details of the dispenser who downloaded the prescription|
| url|string|false|none|codesystem URL for the dispenser.|
| valueReference|object|false|none|A reference to a PractitionerRole resource for the dispenser.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|false|none|The name of the dispensing organisation that downloaded the prescription|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|MessageHeader|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|none|
| resourceType|string|true|none|FHIR resource type.|
| eventCoding|object|true|none|The type of message event being generated.|
| system|string|false|none|codesystem URL for message events.|
| code|string|false|none|code for the message event.|
| display|string|false|none|display value accompanying the code for the message event.|
| source|object|true|none|The organisation originating the message.|
| endpoint|string|false|none|ODS code of the organisation originating the message, expressed as a URN.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Patient|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|The patient the prescription is for.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|The patient's NHS number.|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|
| name|[object]|true|none|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|How this name should be used.<br>* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.<br>Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.<br>Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|
| gender|string|true|none|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.<br>It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.|
| birthDate|string(date)|true|none|The date on which the patient was born or is officially deemed to have been born.<br><br>It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.<br><br>When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.|
| address|[object]|true|none|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|Purpose of this address:<br>  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address<br>  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged<br><br>  A patient should have no more than one current `temp` address.<br>  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.<br>  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).<br><br>  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.<br>  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>*  line 4 - post town, e.g. `Leeds`<br>*  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
| telecom|[object]|false|none|The patient's telephone number.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with communication system.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|[object]|true|none|General practice (not practitioner) with which the patient is or was registered.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|PractitionerRole|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Role-specific details of the author or responsible party of a cancel request. <br><br>Where a cancel response contains details of the dispenser, role-specific details of the dispenser will also be contained within a PractitionerRole resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing role-specific identifiers for the prescriber or dispenser.|
| SDS Role Profile ID|object|false|none|The prescriber or dispenser's SDS Role Profile ID.|
| system|string|true|none|Codesystem URL for the SDS role profile ID.|
| value|string|true|none|SDS role profile ID.|
| practitioner|object|true|none|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|string|false|none|A FHIR reference object|
| organization|object|true|none|A reference to an Organization resource.<br><br>Where the cancel response contains details of the dispenser, this will contain the details of the dispensing organisation.|
| reference|string|false|none|a FHIR reference object|
| code|[object]|false|none|The SDS job role code for a given prescriber or dispenser.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the job role code.|
| code|string|true|none|The SDS job role code.|
| display|string|false|none|Display text for the SDS job role code.|
| telecom|[object]|false|none|the telephone number of a given prescriber or dispenser.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with the contact details provided.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Practitioner|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Details of the author or responsible party of a cancel request.<br><br>Where a cancel response contains details of the dispenser, details of the dispenser will also be contained within a Practitioner resource.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[oneOf]|true|none|An array containing the prescriber's professional codes and identifiers.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS User Identifier.|
| system|string|true|none|Codesystem URL for the SDS User Identifier.|
| value|string|true|none|SDS User Identifier.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the Professional Code.|
| value|string|true|none|The Professional Code.|

*continued*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| name|[object]|true|none|The prescriber's or dispenser's name.|
| family|string|false|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Organization|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.<br><br>Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing the ODS code of the organisation|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| name|string|true|none|Organisation name.|
| address|[object]|true|none|Organisation address.|
| use|string|false|none|The purpose of the address.|
| type|string|false|none|The type of address.|
| line|[string]|false|none|All lines of the address except the city, district, and postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| city|string|false|none|The city of the address.|
| district|string|false|none|The district of the address.|
| postalCode|string|false|none|The postal code of the address.|
| telecom|[object]|true|none|The telephone number associated with the organisation.|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|
| partOf|object|true|none|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|the name of the managing organisation|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|CommunicationRequest|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Additional instructions intended for the patient.<br>For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the CommunicationRequest. Must always default to "active".|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| payload|[object]|true|none|Additional instructions provided as part of this prescription.|
| contentString|string|false|none|Additional instructions intended for the patient.|
| contentReference|object|false|none|A reference to the list of repeat medications that the patient is on.|
| reference|string|false|none|A reference to a List resource within the Bundle|
| requester|object|false|none|Details of the prescribing organisation originating the instructions.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| recipient|[object]|false|none|Details of the patient receiving the instructions.|
| identifier|object|false|none|none|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|List|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|For repeat and eRD prescriptions only. <br><br>A structured list of repeat medication items prescribed to the patient.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the List object. Must always default to "current".|
| mode|string|false|none|The type of List being represented. Must always default to "snapshot".|
| code|object|false|none|A description of what the list represents.|
| text|string|false|none|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| entry|[object]|false|none|list of repeat medication items prescribed to the patient.|
| item|object|false|none|A medication item, represented using its dm+d name and description.|

#### Enumerated Values

|Property|Value|
|---|---|
|id|164996aa-29eb-4f14-a5ac-4b556a7baf6e|
|system|https://tools.ietf.org/html/rfc4122|
|type|message|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionTaskStatusReason|
|url|status|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history|
|url|statusdate|
|url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
|url|authorisationExpiryDate|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
|system|https://fhir.nhs.uk/CodeSystem/prescription-type|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
|code|ACBS|
|code|AF|
|code|CC|
|code|FS|
|code|SLS|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
|url|quantityWords|
|url|schedule|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
|code|CD1|
|code|CD2|
|code|CD3|
|code|CD4|
|code|CD5|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|status|active|
|status|cancelled|
|status|completed|
|system|http://snomed.info/sct|
|system|https://fhir.nhs.uk/Id/prescription-order-number|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
|system|https://fhir.nhs.uk/Id/prescription|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-DispensingPerformer|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/CodeSystem/message-event|
|code|prescription-order-response|
|display|Prescription Order Response|
|system|https://fhir.nhs.uk/Id/nhs-number|
|use|usual|
|gender|male|
|gender|female|
|gender|other|
|gender|unknown|
|use|home|
|use|temp|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/sds-role-profile-id|
|system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/sds-user-id|
|system|https://fhir.hl7.org.uk/Id/professional-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|use|home|
|use|work|
|use|billing|
|use|temp|
|type|postal|
|type|physical|
|type|both|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|status|active|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|
|status|current|
|mode|snapshot|
|text|Repeat Medications|

Status Code **4XX**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

<aside class="success">
This operation does not require authentication
</aside>

<h1 id="electronic-prescription-service-fhir-api-dispensing">dispensing</h1>

## release

<a id="opIdrelease"></a>

> Code samples

```shell
# You can also use wget
curl -X POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task/$release \
  -H 'Content-Type: application/fhir+json' \
  -H 'Accept: application/fhir+json' \
  -H 'Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM' \
  -H 'NHSD-Session-URID: 555254240100' \
  -H 'X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068' \
  -H 'X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'

```

```http
POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task/$release HTTP/1.1
Host: sandbox.api.service.nhs.uk
Content-Type: application/fhir+json
Accept: application/fhir+json
Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
NHSD-Session-URID: 555254240100
X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068
X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA

```

```javascript
const inputBody = '{
  "resourceType": "Parameters",
  "id": "854b706a-c6e5-11ec-9d64-0242ac120002",
  "parameter": [
    {
      "name": "group-identifier",
      "valueIdentifier": {
        "system": "https://fhir.nhs.uk/Id/prescription-order-number",
        "value": "24F5DA-A83008-7EFE6Z"
      }
    },
    {
      "name": "owner",
      "resource": {
        "resourceType": "Organization",
        "id": "4a964042-3c11-4b0f-990f-22d7b41ad603",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "VNE51"
          }
        ],
        "active": true,
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "182",
                "display": "PHARMACY"
              }
            ]
          }
        ],
        "name": "The Simple Pharmacy",
        "telecom": [
          {
            "system": "phone",
            "value": "0113 3180277",
            "use": "work"
          }
        ],
        "address": [
          {
            "use": "work",
            "line": [
              "17 Austhorpe Road",
              "Crossgates",
              "Leeds"
            ],
            "city": "West Yorkshire",
            "postalCode": "LS15 8BA"
          }
        ]
      }
    },
    {
      "name": "status",
      "valueCode": "accepted"
    },
    {
      "name": "agent",
      "resource": {
        "resourceType": "PractitionerRole",
        "id": "16708936-6397-4e03-b84f-4aaa790633e0",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "555086415105"
          }
        ],
        "practitioner": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "3415870201"
          },
          "display": "Jackie Clark"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "value": "02380798431",
            "use": "work"
          }
        ]
      }
    }
  ]
}';
const headers = {
  'Content-Type':'application/fhir+json',
  'Accept':'application/fhir+json',
  'Authorization':'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID':'555254240100',
  'X-Request-ID':'60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID':'11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
};

fetch('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task/$release',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/fhir+json',
  'Accept' => 'application/fhir+json',
  'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID' => '555254240100',
  'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

result = RestClient.post 'https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task/$release',
  params: {
  }, headers: headers

p JSON.parse(result)

```

```python
import requests
headers = {
  'Content-Type': 'application/fhir+json',
  'Accept': 'application/fhir+json',
  'Authorization': 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID': '555254240100',
  'X-Request-ID': '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID': '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

r = requests.post('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task/$release', headers = headers)

print(r.json())

```

```php
<?php

require 'vendor/autoload.php';

$headers = array(
    'Content-Type' => 'application/fhir+json',
    'Accept' => 'application/fhir+json',
    'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
    'NHSD-Session-URID' => '555254240100',
    'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
    'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('POST','https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task/$release', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

```

```java
URL obj = new URL("https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task/$release");
HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");
int responseCode = con.getResponseCode();
BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();
System.out.println(response.toString());

```

```go
package main

import (
       "bytes"
       "net/http"
)

func main() {

    headers := map[string][]string{
        "Content-Type": []string{"application/fhir+json"},
        "Accept": []string{"application/fhir+json"},
        "Authorization": []string{"Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"},
        "NHSD-Session-URID": []string{"555254240100"},
        "X-Request-ID": []string{"60E0B220-8136-4CA5-AE46-1D97EF59D068"},
        "X-Correlation-ID": []string{"11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"},
    }

    data := bytes.NewBuffer([]byte{jsonReq})
    req, err := http.NewRequest("POST", "https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task/$release", data)
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}

```

`POST /FHIR/R4/Task/$release`

*Download prescriptions - Dispensing*

## Overview
Use this endpoint to download prescriptions from EPS that are available for dispensing.
You can download a single prescription using the prescription's ID,
or download up to 25 prescriptions (per request) nominated to a dispenser using the dispenser's ODS code.

Send a [Task-release message](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/OperationDefinition-duplicate-2/release-duplicate-2) to this endpoint to download the prescription.

> Body parameter

> A valid acute, primary care release request.

```json
{
  "resourceType": "Parameters",
  "id": "854b706a-c6e5-11ec-9d64-0242ac120002",
  "parameter": [
    {
      "name": "group-identifier",
      "valueIdentifier": {
        "system": "https://fhir.nhs.uk/Id/prescription-order-number",
        "value": "24F5DA-A83008-7EFE6Z"
      }
    },
    {
      "name": "owner",
      "resource": {
        "resourceType": "Organization",
        "id": "4a964042-3c11-4b0f-990f-22d7b41ad603",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "VNE51"
          }
        ],
        "active": true,
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "182",
                "display": "PHARMACY"
              }
            ]
          }
        ],
        "name": "The Simple Pharmacy",
        "telecom": [
          {
            "system": "phone",
            "value": "0113 3180277",
            "use": "work"
          }
        ],
        "address": [
          {
            "use": "work",
            "line": [
              "17 Austhorpe Road",
              "Crossgates",
              "Leeds"
            ],
            "city": "West Yorkshire",
            "postalCode": "LS15 8BA"
          }
        ]
      }
    },
    {
      "name": "status",
      "valueCode": "accepted"
    },
    {
      "name": "agent",
      "resource": {
        "resourceType": "PractitionerRole",
        "id": "16708936-6397-4e03-b84f-4aaa790633e0",
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
            "value": "555086415105"
          }
        ],
        "practitioner": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/sds-user-id",
            "value": "3415870201"
          },
          "display": "Jackie Clark"
        },
        "code": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                "code": "R8000",
                "display": "Clinical Practitioner Access Role"
              }
            ]
          }
        ],
        "telecom": [
          {
            "system": "phone",
            "value": "02380798431",
            "use": "work"
          }
        ]
      }
    }
  ]
}
```

<h3 id="release-parameters">Parameters</h3>

|Name|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string(^Bearer\ [[:ascii:]]+$)|true|An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).|
|NHSD-Session-URID|header|string|false|The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).|
|X-Request-ID|header|string|true|A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.|
|X-Correlation-ID|header|string|false|An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.|
|body|body|object|true|none|
| resourceType|body|string|true|FHIR resource type.|
| parameter|body|[oneOf]|true|none|
| *anonymous*|body|object|false|none|
| name|body|string|true|none|
| valueCode|body|string|true|none|
| *anonymous*|body|object|false|The professional submitting the release request.|
| name|body|string|true|none|
| resource|body|object|true|none|
| id|body|string|false|none|
| resourceType|body|string|true|none|
| identifier|body|[oneOf]|true|none|
| system|body|string|true|Codesystem URL for the SDS role profile ID.|
| value|body|string|true|SDS role profile ID.|
| practitioner|body|object|true|none|
| identifier|body|object|false|none|
| system|body|string|false|none|
| value|body|string|false|none|
| display|body|string|false|none|
| code|body|[oneOf]|true|none|
| coding|body|[object]|true|none|
| system|body|string|true|Codesystem URL for the job role code.|
| code|body|string|true|The SDS job role code.|
| display|body|string|false|Display text for the SDS job role code.|
| telecom|body|[oneOf]|true|none|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| *anonymous*|body|object|false|The organization (pharmacy) downloading the prescriptions.|
| name|body|string|true|none|
| resource|body|object|true|Details of organization (pharmacy) downloading the prescriptions.|
| id|body|string|false|none|
| resourceType|body|string|true|none|
| identifier|body|[oneOf]|true|An array containing the ODS code of the organisation.|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| name|body|string|true|Organisation name.|
| address|body|[object]|true|Organisation address.|
| use|body|string|false|The purpose of the address.|
| type|body|string|false|The type of address.|
| line|body|[string]|false|All lines of the address except the city, district, and postal code.|
| city|body|string|false|The city of the address.|
| district|body|string|false|The district of the address.|
| postalCode|body|string|false|The postal code of the address.|
| telecom|body|[object]|true|The telephone number associated with the organisation.|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| type|body|[object]|true|none|
| coding|body|[object]|true|none|
| system|body|string|true|none|
| code|body|string|true|none|
| display|body|string|false|none|
| *anonymous*|body|object|false|The short-form-prescription-id (token) of the prescription.|
| name|body|string|true|none|
| valueIdentifier|body|object|true|none|
| system|body|string|true|CodeSystem URL for the short-form prescription ID.|
| value|body|string|true|The short-form prescription ID.|

#### Detailed descriptions

**Authorization**: An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).

Required in all environments except sandbox.

**NHSD-Session-URID**: The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).

If you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, see [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) for guidance.

This field is optional.

**X-Request-ID**: A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.

Must be a universally unique identifier (UUID) (ideally version 4).

Mirrored back in a response header.

If you re-send a failed request, use the same value in this header.

Required in all environments except sandbox.

**X-Correlation-ID**: An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.

Mirrored back in a response header.

** line**: All lines of the address except the city, district, and postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

#### Enumerated Values

|Parameter|Value|
|---|---|
| resourceType|Parameters|
| name|status|
| valueCode|accepted|
| name|agent|
| resourceType|PractitionerRole|
| system|https://fhir.nhs.uk/Id/sds-role-profile-id|
| system|https://fhir.nhs.uk/Id/sds-user-id|
| system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| name|organization|
| resourceType|Organization|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| use|home|
| use|work|
| use|billing|
| use|temp|
| type|postal|
| type|physical|
| type|both|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| system|https://fhir.nhs.uk/CodeSystem/organisation-role|
| name|group-identifier|
| system|https://fhir.nhs.uk/Id/prescription-order-number|

> Example responses

> A successful response to an acute, primary care release request.

```json
{
  "resourceType": "Parameters",
  "id": "a5d77265-8ba5-4c74-b8ce-ea0dbaafbdb8",
  "parameter": [
    {
      "name": "passedPrescriptions",
      "resource": {
        "resourceType": "Bundle",
        "id": "155e1102-9e71-4f19-9453-b905c0bbc494",
        "meta": {
          "lastUpdated": "2022-11-21T14:00:00+00:00"
        },
        "identifier": {
          "system": "https://tools.ietf.org/html/rfc4122",
          "value": "155e1102-9e71-4f19-9453-b905c0bbc494"
        },
        "type": "searchset",
        "link": [
          {
            "relation": "self",
            "url": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/Task/$release"
          }
        ],
        "total": 1,
        "entry": [
          {
            "fullUrl": "urn:uuid:0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
            "search": {
              "mode": "match"
            },
            "resource": {
              "resourceType": "Bundle",
              "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
              "timestamp": "2022-10-21T13:47:00+00:00",
              "identifier": {
                "system": "https://tools.ietf.org/html/rfc4122",
                "value": "46183abc-9fad-4673-85db-ce2cb6614732"
              },
              "type": "message",
              "entry": [
                {
                  "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
                  "resource": {
                    "resourceType": "MessageHeader",
                    "id": "17773b27-427e-4940-8c16-64cdac715001",
                    "eventCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/message-event",
                      "code": "prescription-order",
                      "display": "Prescription Order"
                    },
                    "destination": [
                      {
                        "endpoint": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message",
                        "receiver": {
                          "identifier": {
                            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                            "value": "VNE51"
                          },
                          "display": "The Simple Pharmacy"
                        }
                      }
                    ],
                    "sender": {
                      "identifier": {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "A83008"
                      },
                      "display": "HALLGARTH SURGERY"
                    },
                    "source": {
                      "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008"
                    },
                    "focus": [
                      {
                        "reference": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                      },
                      {
                        "reference": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00"
                      },
                      {
                        "reference": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a"
                      },
                      {
                        "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
                      },
                      {
                        "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                      },
                      {
                        "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                      },
                      {
                        "reference": "urn:uuid:28828c55-8fa7-42d7-916f-fcf076e0c10e"
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "id": "a54219b8-f741-4c47-b662-e4f8dfa49ab6",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0008",
                              "display": "Item with dispenser"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                      }
                    ],
                    "status": "active",
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "39732311000001104",
                          "display": "Amoxicillin 250mg capsules"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "2 times a day for 10 days"
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "quantity": {
                        "value": 20,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "id": "6989b7bd-8db6-428c-a593-4022e3044c00",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0008",
                              "display": "Item with dispenser"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
                      }
                    ],
                    "status": "active",
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "322341003",
                          "display": "Codeine phosphate 30 mg and paracetamol 500 mg oral tablet"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "2 times a day for 10 days"
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "quantity": {
                        "value": 20,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "id": "2868554c-5565-4d31-b92a-c5b8dab8b90a",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0008",
                              "display": "Item with dispenser"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
                      }
                    ],
                    "status": "active",
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "321080004",
                          "display": "Pseudoephedrine hydrochloride 60 mg oral tablet"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "3 times a day for 10 days"
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "quantity": {
                        "value": 30,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "id": "5cb17f5a-11ac-4e18-825f-6470467238b3",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionStatusHistory",
                        "extension": [
                          {
                            "url": "status",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history",
                              "code": "R-0001",
                              "display": "Prescription/item was cancelled"
                            }
                          },
                          {
                            "url": "statusDate",
                            "valueDateTime": "2022-10-21T13:48:00+00:00"
                          }
                        ]
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0005",
                              "display": "Item cancelled"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
                      }
                    ],
                    "status": "cancelled",
                    "statusReason": {
                      "coding": [
                        {
                          "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason",
                          "code": "0002",
                          "display": "Clinical contra-indication"
                        }
                      ]
                    },
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "324252006",
                          "display": "Azithromycin 250mg capsules"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "3 times a day for 10 days"
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "quantity": {
                        "value": 30,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
                  "resource": {
                    "resourceType": "Patient",
                    "id": "78d3c2eb-009e-4ec8-a358-b042954aa9b2",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/nhs-number",
                        "value": "9449304130"
                      }
                    ],
                    "name": [
                      {
                        "use": "usual",
                        "family": "TWITCHETT",
                        "given": [
                          "STACEY",
                          "MARISA"
                        ],
                        "prefix": [
                          "MS"
                        ]
                      }
                    ],
                    "gender": "female",
                    "birthDate": "1948-04-30",
                    "address": [
                      {
                        "use": "home",
                        "line": [
                          "10 HEATHFIELD",
                          "COBHAM",
                          "SURREY"
                        ],
                        "postalCode": "KT11 2QY"
                      }
                    ],
                    "generalPractitioner": [
                      {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "A83008"
                        }
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
                  "resource": {
                    "resourceType": "PractitionerRole",
                    "id": "56166769-c1c4-4d07-afa8-132b5dfca666",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                        "value": "200102238987"
                      }
                    ],
                    "practitioner": {
                      "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
                    },
                    "organization": {
                      "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
                    },
                    "code": [
                      {
                        "coding": [
                          {
                            "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                            "code": "R8000",
                            "display": "Clinical Practitioner Access Role"
                          },
                          {
                            "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                            "code": "R8000",
                            "display": "Clinical Practitioner Access Role"
                          }
                        ]
                      }
                    ],
                    "telecom": [
                      {
                        "system": "phone",
                        "use": "work",
                        "value": "01234567890"
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
                  "resource": {
                    "resourceType": "Practitioner",
                    "id": "a8c85454-f8cb-498d-9629-78e2cb5fa47a",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/sds-user-id",
                        "value": "555086689106"
                      },
                      {
                        "system": "https://fhir.hl7.org.uk/Id/gmc-number",
                        "value": "C6095103"
                      },
                      {
                        "system": "https://fhir.hl7.org.uk/Id/din-number",
                        "value": "977677"
                      }
                    ],
                    "name": [
                      {
                        "family": "BOIN",
                        "given": [
                          "C"
                        ],
                        "prefix": [
                          "DR"
                        ]
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
                  "resource": {
                    "resourceType": "Organization",
                    "id": "3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "A83008"
                      }
                    ],
                    "name": "HALLGARTH SURGERY",
                    "address": [
                      {
                        "use": "work",
                        "type": "both",
                        "line": [
                          "HALLGARTH SURGERY",
                          "CHEAPSIDE"
                        ],
                        "city": "SHILDON",
                        "district": "COUNTY DURHAM",
                        "postalCode": "DL4 2HP"
                      }
                    ],
                    "partOf": {
                      "identifier": {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "84H"
                      },
                      "display": "NHS COUNTY DURHAM CCG"
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:28828c55-8fa7-42d7-916f-fcf076e0c10e",
                  "resource": {
                    "resourceType": "Provenance",
                    "id": "28828c55-8fa7-42d7-916f-fcf076e0c10e",
                    "agent": [
                      {
                        "who": {
                          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                        }
                      }
                    ],
                    "recorded": "2022-10-21T13:47:00+00:00",
                    "signature": [
                      {
                        "when": "2022-10-21T13:47:00+00:00",
                        "who": {
                          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                        },
                        "data": "PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+CiAgICAgICAgICAgIDxTaWduZWRJbmZvPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+WTg5YWNmSC90VkVtSXI2aVlrRVJrWWMxbG1jPTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPgogICAgICAgICAgICA8U2lnbmF0dXJlVmFsdWU+PC9TaWduYXR1cmVWYWx1ZT4KICAgICAgICAgICAgPEtleUluZm8+PFg1MDlEYXRhPjxYNTA5Q2VydGlmaWNhdGU+PC9YNTA5Q2VydGlmaWNhdGU+PC9YNTA5RGF0YT48L0tleUluZm8+CiAgICAgICAgICA8L1NpZ25hdHVyZT4=",
                        "type": [
                          {
                            "system": "urn:iso-astm:E1762-95:2013",
                            "code": "1.2.840.10065.1.12.1.1"
                          }
                        ]
                      }
                    ],
                    "target": [
                      {
                        "type": "MedicationRequest",
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                          "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                        }
                      },
                      {
                        "reference": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001"
                      }
                    ]
                  }
                }
              ]
            }
          }
        ]
      }
    },
    {
      "name": "failedPrescriptions",
      "resource": {
        "resourceType": "Bundle",
        "id": "914298fd-bc64-4c00-8d8d-bf88709db470",
        "meta": {
          "lastUpdated": "2023-02-15T15:14:47+00:00"
        },
        "identifier": {
          "system": "https://tools.ietf.org/html/rfc4122",
          "value": "57674b6e-c6c9-42de-943d-f2ed90f36862"
        },
        "type": "searchset",
        "total": 2,
        "entry": [
          {
            "fullUrl": "urn:uuid:ebf8917e-d613-4b8e-ae3c-45084d3156ad",
            "resource": {
              "resourceType": "OperationOutcome",
              "id": "ebf8917e-d613-4b8e-ae3c-45084d3156ad",
              "meta": {
                "lastUpdated": "2023-02-15T15:14:47+00:00"
              },
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-Spine-supportingInfo-prescription",
                  "valueReference": {
                    "identifier": {
                      "system": "https://tools.ietf.org/html/rfc4122",
                      "value": "e8a0fd11-fc4c-43a2-afe9-c2d8f3a19e6d"
                    }
                  }
                }
              ],
              "issue": [
                {
                  "severity": "error",
                  "code": "invalid",
                  "details": {
                    "coding": [
                      {
                        "system": "https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode",
                        "code": "INVALID_VALUE",
                        "display": "Signature is invalid."
                      }
                    ]
                  },
                  "expression": [
                    "Provenance.signature.data"
                  ]
                }
              ]
            }
          },
          {
            "fullUrl": "urn:uuid:5727e86f-b9b4-4234-ae90-7170bf76a278",
            "resource": {
              "resourceType": "Bundle",
              "id": "5727e86f-b9b4-4234-ae90-7170bf76a278",
              "meta": {
                "lastUpdated": "2022-10-20T00:00:00+00:00"
              },
              "identifier": {
                "system": "https://tools.ietf.org/html/rfc4122",
                "value": "e8a0fd11-fc4c-43a2-afe9-c2d8f3a19e6d"
              },
              "type": "message",
              "entry": [
                {
                  "fullUrl": "urn:uuid:fcffc3d3-ba67-4930-be1d-449c41f62b79",
                  "resource": {
                    "resourceType": "MessageHeader",
                    "id": "fcffc3d3-ba67-4930-be1d-449c41f62b79",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-MessageHeader-messageId",
                        "valueIdentifier": {
                          "system": "https://tools.ietf.org/html/rfc4122",
                          "value": "e8a0fd11-fc4c-43a2-afe9-c2d8f3a19e6d"
                        }
                      }
                    ],
                    "eventCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/message-event",
                      "code": "prescription-order",
                      "display": "Prescription Order"
                    },
                    "destination": [
                      {
                        "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/FCG75",
                        "receiver": {
                          "identifier": {
                            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                            "value": "FCG75"
                          }
                        }
                      }
                    ],
                    "sender": {
                      "identifier": {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "X2601"
                      },
                      "display": "NHS Digital Spine"
                    },
                    "source": {
                      "name": "NHS Spine",
                      "endpoint": "https://internal-dev.api.service.nhs.uk/electronic-prescriptions/$process-message"
                    },
                    "response": {
                      "identifier": "264fe32e-7217-43d2-8954-a87f9da514b8",
                      "code": "ok"
                    },
                    "focus": [
                      {
                        "reference": "urn:uuid:39a01317-cebb-4ac9-b0b4-f8ffeefa600d"
                      },
                      {
                        "reference": "urn:uuid:5917ea66-a012-43ab-97b6-794b431a610b"
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:5917ea66-a012-43ab-97b6-794b431a610b",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "id": "5917ea66-a012-43ab-97b6-794b431a610b",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner",
                        "valueReference": {
                          "reference": "urn:uuid:89049c4d-f5d7-4e5b-9d52-0d9a9cd4a446"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101"
                        }
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "64f4fceb-ff9c-4b3f-8e9a-95ef781e24a7"
                      }
                    ],
                    "status": "active",
                    "intent": "order",
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "39113611000001102",
                          "display": "Salbutamol 100micrograms/dose inhaler CFC free"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:39a01317-cebb-4ac9-b0b4-f8ffeefa600d"
                    },
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "outpatient",
                            "display": "Outpatient"
                          }
                        ]
                      }
                    ],
                    "requester": {
                      "reference": "urn:uuid:89049c4d-f5d7-4e5b-9d52-0d9a9cd4a446"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "819851-A83008-2EFE34",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "e974ae58-a883-405b-9b91-32acfbe8a8e5"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "5 times a day - Inhalation"
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "numberOfRepeatsAllowed": 0,
                      "quantity": {
                        "value": 200,
                        "unit": "dose",
                        "system": "http://snomed.info/sct",
                        "code": "3317411000001100"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "FCG75"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:39a01317-cebb-4ac9-b0b4-f8ffeefa600d",
                  "resource": {
                    "resourceType": "Patient",
                    "id": "39a01317-cebb-4ac9-b0b4-f8ffeefa600d",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/nhs-number",
                        "value": "9449304130"
                      }
                    ],
                    "name": [
                      {
                        "use": "usual",
                        "family": "TWITCHETT",
                        "given": [
                          "STACEY",
                          "MARISA"
                        ],
                        "prefix": [
                          "MS"
                        ]
                      }
                    ],
                    "gender": "female",
                    "birthDate": "1948-04-30",
                    "address": [
                      {
                        "use": "home",
                        "line": [
                          "10 HEATHFIELD",
                          "COBHAM",
                          "SURREY"
                        ],
                        "postalCode": "KT11 2QY"
                      }
                    ],
                    "generalPractitioner": [
                      {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "A83008"
                        }
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:1c6e4150-d18b-4ac9-a103-43f1bef96a59",
                  "resource": {
                    "resourceType": "Practitioner",
                    "id": "1c6e4150-d18b-4ac9-a103-43f1bef96a59",
                    "identifier": [
                      {
                        "system": "https://fhir.hl7.org.uk/Id/professional-code",
                        "value": "6095103"
                      },
                      {
                        "system": "https://fhir.hl7.org.uk/Id/din-number",
                        "value": "977677"
                      }
                    ],
                    "name": [
                      {
                        "family": "BOIN",
                        "given": [
                          "C"
                        ],
                        "prefix": [
                          "DR"
                        ]
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:89049c4d-f5d7-4e5b-9d52-0d9a9cd4a446",
                  "resource": {
                    "resourceType": "PractitionerRole",
                    "id": "89049c4d-f5d7-4e5b-9d52-0d9a9cd4a446",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                        "value": "200102238987"
                      }
                    ],
                    "practitioner": {
                      "reference": "urn:uuid:1c6e4150-d18b-4ac9-a103-43f1bef96a59"
                    },
                    "code": [
                      {
                        "coding": [
                          {
                            "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                            "code": "R8000",
                            "display": "R8000"
                          }
                        ]
                      }
                    ],
                    "telecom": [
                      {
                        "system": "phone",
                        "use": "work",
                        "value": "01234567890"
                      }
                    ],
                    "organization": {
                      "reference": "urn:uuid:4f2567fb-aac8-4d40-abf4-1ef89be977c9"
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:4f2567fb-aac8-4d40-abf4-1ef89be977c9",
                  "resource": {
                    "resourceType": "Organization",
                    "id": "4f2567fb-aac8-4d40-abf4-1ef89be977c9",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "A83008"
                      }
                    ],
                    "name": "HALLGARTH SURGERY",
                    "telecom": [
                      {
                        "system": "phone",
                        "use": "work",
                        "value": "01159737320"
                      }
                    ],
                    "address": [
                      {
                        "use": "work",
                        "line": [
                          "HALLGARTH SURGERY",
                          "CHEAPSIDE",
                          "SHILDON",
                          "COUNTY DURHAM"
                        ],
                        "postalCode": "DL4 2HP"
                      }
                    ],
                    "partOf": {
                      "identifier": {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "84H"
                      },
                      "display": "NHS COUNTY DURHAM CCG"
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:9bed560c-ad94-4a16-925b-5f05e38f2417",
                  "resource": {
                    "resourceType": "Provenance",
                    "id": "9bed560c-ad94-4a16-925b-5f05e38f2417",
                    "agent": [
                      {
                        "who": {
                          "reference": "urn:uuid:89049c4d-f5d7-4e5b-9d52-0d9a9cd4a446"
                        }
                      }
                    ],
                    "recorded": "2023-02-15T15:14:44+00:00",
                    "signature": [
                      {
                        "who": {
                          "reference": "urn:uuid:89049c4d-f5d7-4e5b-9d52-0d9a9cd4a446"
                        },
                        "when": "2023-02-15T15:14:44+00:00",
                        "data": "PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+PFNpZ25lZEluZm8+PENhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiPjwvQ2Fub25pY2FsaXphdGlvbk1ldGhvZD48U2lnbmF0dXJlTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3JzYS1zaGExIj48L1NpZ25hdHVyZU1ldGhvZD48UmVmZXJlbmNlPjxUcmFuc2Zvcm1zPjxUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiPjwvVHJhbnNmb3JtPjwvVHJhbnNmb3Jtcz48RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI3NoYTEiPjwvRGlnZXN0TWV0aG9kPjxEaWdlc3RWYWx1ZT50K0Vic1V2REREVEpseUVITXlXcXg1bVF3WFU9PC9EaWdlc3RWYWx1ZT48L1JlZmVyZW5jZT48L1NpZ25lZEluZm8+PFNpZ25hdHVyZVZhbHVlPmhsT0JrOXpUaFJ3RjZkd0pYSTVNV1orQklpR1ZqS1FwU2VIMTFrMWgxbTNwQ25GeHg3QU1jVkd4R1NHaHozT0pXeUd1K09hRXFDM3JkT09KTkFSZ1pMMEUrTFlKRW1zWTN4ZUR3cENBMWMzSTVpRWFqTUVENHNLL1ZJK2V6Ty96TDhIdDMwcDExN2VGSmh1QWFIYmVIZ0Y4T25ja2UybUMwV3VqdFRzYzF1bkNLTmg3OWYwWjc2TzREN1NsajE3RU9TVUJ6MVE3WVlGY2FOa2tvb01xSVBzUUZ6OEcyaE90RXlRRmhJUE9OT0NGS25YazZEaXRvVmRYOSt1NlNLbjZSS1U3cTRKWnBadG1SNlZKSjJYU0U3d000NVFEQUxGc0Z4YWwrWmp2blQrYTV2cEg1eGJMTmJVaE8rNHFpYTFOSis3bmdKeW9XeUJBMjhjYXIvTGp3QT09VFZWM1dFUnhTVTB4VjB3NE9EZFJSVFozTzwvU2lnbmF0dXJlVmFsdWU+PEtleUluZm8+PFg1MDlEYXRhPjxYNTA5Q2VydGlmaWNhdGU+TUlJRUFUQ0NBdW1nQXdJQkFnSVVZTEU3S0ZjN0s4RXhQQUIxQnlvYnNwb2IwOTh3RFFZSktvWklodmNOQVFFTEJRQXdnWTh4Q3pBSkJnTlZCQVlUQWtWT01SQXdEZ1lEVlFRSURBZEZibWRzWVc1a01RNHdEQVlEVlFRSERBVk1aV1ZrY3pFVU1CSUdBMVVFQ2d3TGFuVnpkSFJwYlM1dVpYUXhFREFPQmdOVkJBc01CM1JsYzNScGJtY3hFekFSQmdOVkJBTU1DbFJwYlNCRGIyRjBaWE14SVRBZkJna3Foa2lHOXcwQkNRRVdFblJwYlM1amIyRjBaWE5BYm1oekxtNWxkREFlRncweU1qRXdNakF4TWpFNU5USmFGdzB5TXpFd01qQXhNakU1TlRKYU1JR1BNUXN3Q1FZRFZRUUdFd0pGVGpFUU1BNEdBMVVFQ0F3SFJXNW5iR0Z1WkRFT01Bd0dBMVVFQnd3RlRHVmxaSE14RkRBU0JnTlZCQW9NQzJwMWMzUjBhVzB1Ym1WME1SQXdEZ1lEVlFRTERBZDBaWE4wYVc1bk1STXdFUVlEVlFRRERBcFVhVzBnUTI5aGRHVnpNU0V3SHdZSktvWklodmNOQVFrQkZoSjBhVzB1WTI5aGRHVnpRRzVvY3k1dVpYUXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDT2pJMWdBUjkyZGt0dzJGL0hESHlyYWIwL1R4amlXUUtYU2RqYUhWMnFzZmdWdnVieTFHK3llRzBtTCsvTUg3WlVRcFhhU0t0aFc1ZzVWWW82bmt3Ny8vaUNudzNLS0xCT2hDZzJXOWdoUkFqaVBLWitqUSsrUFJaMkNrNGVFeVd3dVRlUHhtc3hVdTJNcktXU1I2QlljeFE0SkJlN2dqMStNVXdYRHFJTTFXTDg4N1FFNnc4ZVFwS0RQenpJM05JY0l5K2ZBcjQ4UjNURmRENThLZExDNFBHN1Y3MmowUTljUXdoTTVpVEJkbmtrdWMxYmRIQk9LOG1VNTREeHZLc3JEN0xwUC8zdHZHYUxYV1hzUWVLK1M0NTA4bUtsZDJwT2RGbGc3U0FkbUQ3TUg3aFFLNE01WG13SnlESzBjN050QUR4a1RlSjQ2UnBPZXRSaE9abTFBZ01CQUFHalV6QlJNQjBHQTFVZERnUVdCQlNVZmFDcit4T3J3S3p0WjZZOTFFRnJpbms4ZVRBZkJnTlZIU01FR0RBV2dCU1VmYUNyK3hPcndLenRaNlk5MUVGcmluazhlVEFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUJTY1pZV3h3cm0reUVxQXJhQldRLzdJY1p5ejhXTnZ2cFg4UzZob3A1Wnc1RU1FRVNjVlcwMHc2VkF6bmU4Nkc5L0lNdE9zSHhLWDRKcFlMbUJheldzRmh4d3c5R0c3cnVlNFVrdi9zdGZDcGhreHcrMW9vUWtzZ043UjBWNU42d1RIbEoxNFJkOEpmZVBtc1NPR3MwMUVxSURFY01NeG9PdGJEb28xOXJaU0EwVnRPam01aG9GWi82VGZ2TlpNZ09admFXbFJzZUpnZ0EzaW41UTZ3ZWhVNWdOY09hQXVtTkp1eXZpQTgwN1dTSGYvVi9iQ3U2ZWhtU2hUY2lPMGNKSnl6V2FrdktCZEZkMC9vUXk4Vk1wQXFUM0U2N1BiN25OWHovb2pYL1NSMzNBMUMya2NvSitHZWhmdzJrUURPL1lkaWY5OTZHejZ3cW9xQkd1TWs5SjwvWDUwOUNlcnRpZmljYXRlPjwvWDUwOURhdGE+PC9LZXlJbmZvPjwvU2lnbmF0dXJlPg==",
                        "type": [
                          {
                            "code": "1.2.840.10065.1.12.1.1",
                            "system": "urn:iso-astm:E1762-95:2013"
                          }
                        ]
                      }
                    ],
                    "target": [
                      {
                        "reference": "urn:uuid:fcffc3d3-ba67-4930-be1d-449c41f62b79"
                      },
                      {
                        "reference": "urn:uuid:39a01317-cebb-4ac9-b0b4-f8ffeefa600d"
                      },
                      {
                        "reference": "urn:uuid:89049c4d-f5d7-4e5b-9d52-0d9a9cd4a446"
                      },
                      {
                        "reference": "urn:uuid:1c6e4150-d18b-4ac9-a103-43f1bef96a59"
                      },
                      {
                        "reference": "urn:uuid:4f2567fb-aac8-4d40-abf4-1ef89be977c9"
                      },
                      {
                        "reference": "urn:uuid:5917ea66-a012-43ab-97b6-794b431a610b"
                      }
                    ]
                  }
                }
              ]
            }
          }
        ]
      }
    }
  ]
}
```

> A successful response to a repeat, primary care release request.

```json
{
  "resourceType": "Parameters",
  "id": "a5d77265-8ba5-4c74-b8ce-ea0dbaafbdb8",
  "parameter": [
    {
      "name": "passedPrescriptions",
      "resource": {
        "resourceType": "Bundle",
        "id": "155e1102-9e71-4f19-9453-b905c0bbc494",
        "meta": {
          "lastUpdated": "2022-11-21T14:00:00+00:00"
        },
        "identifier": {
          "system": "https://tools.ietf.org/html/rfc4122",
          "value": "155e1102-9e71-4f19-9453-b905c0bbc494"
        },
        "type": "searchset",
        "link": [
          {
            "relation": "self",
            "url": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/Task/$release"
          }
        ],
        "total": 1,
        "entry": [
          {
            "fullUrl": "urn:uuid:0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
            "search": {
              "mode": "match"
            },
            "resource": {
              "resourceType": "Bundle",
              "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
              "timestamp": "2022-10-21T13:47:00+00:00",
              "identifier": {
                "system": "https://tools.ietf.org/html/rfc4122",
                "value": "46183abc-9fad-4673-85db-ce2cb6614732"
              },
              "type": "message",
              "entry": [
                {
                  "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
                  "resource": {
                    "resourceType": "MessageHeader",
                    "eventCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/message-event",
                      "code": "prescription-order",
                      "display": "Prescription Order"
                    },
                    "destination": [
                      {
                        "endpoint": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message",
                        "receiver": {
                          "identifier": {
                            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                            "value": "VNE51"
                          },
                          "display": "The Simple Pharmacy"
                        }
                      }
                    ],
                    "sender": {
                      "identifier": {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "A83008"
                      },
                      "display": "HALLGARTH SURGERY"
                    },
                    "source": {
                      "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008"
                    },
                    "focus": [
                      {
                        "reference": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                      },
                      {
                        "reference": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00"
                      },
                      {
                        "reference": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a"
                      },
                      {
                        "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
                      },
                      {
                        "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                      },
                      {
                        "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                      },
                      {
                        "reference": "urn:uuid:28828c55-8fa7-42d7-916f-fcf076e0c10e"
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101",
                          "display": "Primary Care Prescriber - Medical Prescriber"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0008",
                              "display": "Item with dispenser"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                      }
                    ],
                    "status": "active",
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "39732311000001104",
                          "display": "Amoxicillin 250mg capsules"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "authoredOn": "2022-10-21T13:47:00+00:00",
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "2 times a day for 10 days",
                        "timing": {
                          "repeat": {
                            "frequency": 2,
                            "period": 1,
                            "periodUnit": "d"
                          }
                        },
                        "route": {
                          "coding": [
                            {
                              "system": "http://snomed.info/sct",
                              "code": "26643006",
                              "display": "Oral"
                            }
                          ]
                        }
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "validityPeriod": {
                        "start": "2022-10-21"
                      },
                      "quantity": {
                        "value": 20,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "expectedSupplyDuration": {
                        "value": 10,
                        "unit": "day",
                        "system": "http://unitsofmeasure.org",
                        "code": "d"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101",
                          "display": "Primary Care Prescriber - Medical Prescriber"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0008",
                              "display": "Item with dispenser"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
                      }
                    ],
                    "status": "active",
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "322341003",
                          "display": "Co-codamol 30mg/500mg tablets"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "authoredOn": "2022-10-21T13:47:00+00:00",
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "2 times a day for 10 days",
                        "timing": {
                          "repeat": {
                            "frequency": 2,
                            "period": 1,
                            "periodUnit": "d"
                          }
                        },
                        "route": {
                          "coding": [
                            {
                              "system": "http://snomed.info/sct",
                              "code": "26643006",
                              "display": "Oral"
                            }
                          ]
                        }
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "validityPeriod": {
                        "start": "2022-10-21"
                      },
                      "quantity": {
                        "value": 20,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "expectedSupplyDuration": {
                        "value": 10,
                        "unit": "day",
                        "system": "http://unitsofmeasure.org",
                        "code": "d"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101",
                          "display": "Primary Care Prescriber - Medical Prescriber"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0008",
                              "display": "Item with dispenser"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
                      }
                    ],
                    "status": "active",
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "321080004",
                          "display": "Pseudoephedrine hydrochloride 60mg tablets"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "authoredOn": "2022-10-21T13:47:00+00:00",
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "3 times a day for 10 days",
                        "timing": {
                          "repeat": {
                            "frequency": 3,
                            "period": 1,
                            "periodUnit": "d"
                          }
                        },
                        "route": {
                          "coding": [
                            {
                              "system": "http://snomed.info/sct",
                              "code": "26643006",
                              "display": "Oral"
                            }
                          ]
                        }
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "validityPeriod": {
                        "start": "2022-10-21"
                      },
                      "quantity": {
                        "value": 30,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "expectedSupplyDuration": {
                        "value": 10,
                        "unit": "day",
                        "system": "http://unitsofmeasure.org",
                        "code": "d"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101",
                          "display": "Primary Care Prescriber - Medical Prescriber"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionStatusHistory",
                        "extension": [
                          {
                            "url": "status",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history",
                              "code": "R-0001",
                              "display": "Prescription/item was cancelled"
                            }
                          },
                          {
                            "url": "statusDate",
                            "valueDateTime": "2022-10-21T13:48:00+00:00"
                          }
                        ]
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0005",
                              "display": "Item cancelled"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
                      }
                    ],
                    "status": "cancelled",
                    "statusReason": {
                      "coding": [
                        {
                          "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason",
                          "code": "0002",
                          "display": "Clinical contra-indication"
                        }
                      ]
                    },
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "324252006",
                          "display": "Azithromycin 250mg capsules"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "authoredOn": "2022-10-21T13:47:00+00:00",
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "3 times a day for 10 days",
                        "timing": {
                          "repeat": {
                            "frequency": 3,
                            "period": 1,
                            "periodUnit": "d"
                          }
                        },
                        "route": {
                          "coding": [
                            {
                              "system": "http://snomed.info/sct",
                              "code": "26643006",
                              "display": "Oral"
                            }
                          ]
                        }
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "validityPeriod": {
                        "start": "2022-10-21"
                      },
                      "quantity": {
                        "value": 30,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "expectedSupplyDuration": {
                        "value": 10,
                        "unit": "day",
                        "system": "http://unitsofmeasure.org",
                        "code": "d"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
                  "resource": {
                    "resourceType": "Patient",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/nhs-number",
                        "value": "9449304130"
                      }
                    ],
                    "name": [
                      {
                        "use": "usual",
                        "family": "TWITCHETT",
                        "given": [
                          "STACEY",
                          "MARISA"
                        ],
                        "prefix": [
                          "MS"
                        ]
                      }
                    ],
                    "gender": "female",
                    "birthDate": "1948-04-30",
                    "address": [
                      {
                        "use": "home",
                        "line": [
                          "10 HEATHFIELD",
                          "COBHAM",
                          "SURREY"
                        ],
                        "postalCode": "KT11 2QY"
                      }
                    ],
                    "generalPractitioner": [
                      {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "A83008"
                        }
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
                  "resource": {
                    "resourceType": "PractitionerRole",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                        "value": "200102238987"
                      }
                    ],
                    "practitioner": {
                      "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
                    },
                    "organization": {
                      "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
                    },
                    "code": [
                      {
                        "coding": [
                          {
                            "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                            "code": "R8000",
                            "display": "Clinical Practitioner Access Role"
                          },
                          {
                            "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                            "code": "R8000",
                            "display": "Clinical Practitioner Access Role"
                          }
                        ]
                      }
                    ],
                    "telecom": [
                      {
                        "system": "phone",
                        "use": "work",
                        "value": "01234567890"
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
                  "resource": {
                    "resourceType": "Practitioner",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/sds-user-id",
                        "value": "555086689106"
                      },
                      {
                        "system": "https://fhir.hl7.org.uk/Id/gmc-number",
                        "value": "C6095103"
                      },
                      {
                        "system": "https://fhir.hl7.org.uk/Id/din-number",
                        "value": "977677"
                      }
                    ],
                    "name": [
                      {
                        "family": "BOIN",
                        "given": [
                          "C"
                        ],
                        "prefix": [
                          "DR"
                        ]
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
                  "resource": {
                    "resourceType": "Organization",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "A83008"
                      }
                    ],
                    "type": [
                      {
                        "coding": [
                          {
                            "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                            "code": "76",
                            "display": "GP PRACTICE"
                          }
                        ]
                      }
                    ],
                    "name": "HALLGARTH SURGERY",
                    "telecom": [
                      {
                        "system": "phone",
                        "use": "work",
                        "value": "0115 9737320"
                      }
                    ],
                    "address": [
                      {
                        "use": "work",
                        "type": "both",
                        "line": [
                          "HALLGARTH SURGERY",
                          "CHEAPSIDE"
                        ],
                        "city": "SHILDON",
                        "district": "COUNTY DURHAM",
                        "postalCode": "DL4 2HP"
                      }
                    ],
                    "partOf": {
                      "identifier": {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "84H"
                      },
                      "display": "NHS COUNTY DURHAM CCG"
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:28828c55-8fa7-42d7-916f-fcf076e0c10e",
                  "resource": {
                    "resourceType": "Provenance",
                    "id": "28828c55-8fa7-42d7-916f-fcf076e0c10e",
                    "target": [
                      {
                        "type": "MedicationRequest",
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                          "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                        }
                      }
                    ],
                    "recorded": "2022-10-21T13:47:00+00:00",
                    "agent": [
                      {
                        "who": {
                          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                        }
                      }
                    ],
                    "signature": [
                      {
                        "type": [
                          {
                            "system": "urn:iso-astm:E1762-95:2013",
                            "code": "1.2.840.10065.1.12.1.1"
                          }
                        ],
                        "when": "2022-10-21T13:47:00+00:00",
                        "who": {
                          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                        },
                        "data": "PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+CiAgICAgICAgICAgIDxTaWduZWRJbmZvPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+WTg5YWNmSC90VkVtSXI2aVlrRVJrWWMxbG1jPTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPgogICAgICAgICAgICA8U2lnbmF0dXJlVmFsdWU+PC9TaWduYXR1cmVWYWx1ZT4KICAgICAgICAgICAgPEtleUluZm8+PFg1MDlEYXRhPjxYNTA5Q2VydGlmaWNhdGU+PC9YNTA5Q2VydGlmaWNhdGU+PC9YNTA5RGF0YT48L0tleUluZm8+CiAgICAgICAgICA8L1NpZ25hdHVyZT4="
                      }
                    ]
                  }
                }
              ]
            }
          }
        ]
      }
    },
    {
      "name": "failedPrescriptions",
      "resource": {
        "resourceType": "Bundle",
        "id": "155e1102-9e71-4f19-9453-b905c0bbc495",
        "meta": {
          "lastUpdated": "2022-11-21T14:00:00+00:00"
        },
        "identifier": {
          "system": "https://tools.ietf.org/html/rfc4122",
          "value": "155e1102-9e71-4f19-9453-b905c0bbc4950"
        },
        "type": "searchset",
        "link": [
          {
            "relation": "self",
            "url": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/Task/$release"
          }
        ],
        "total": 0
      }
    }
  ]
}
```

> A successful response to a eRD, primary care prepare release request.

```json
{
  "resourceType": "Parameters",
  "id": "a5d77265-8ba5-4c74-b8ce-ea0dbaafbdb8",
  "parameter": [
    {
      "name": "passedPrescriptions",
      "resource": {
        "resourceType": "Bundle",
        "id": "155e1102-9e71-4f19-9453-b905c0bbc494",
        "meta": {
          "lastUpdated": "2022-11-21T14:00:00+00:00"
        },
        "identifier": {
          "system": "https://tools.ietf.org/html/rfc4122",
          "value": "155e1102-9e71-4f19-9453-b905c0bbc494"
        },
        "type": "searchset",
        "link": [
          {
            "relation": "self",
            "url": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/Task/$release"
          }
        ],
        "total": 1,
        "entry": [
          {
            "fullUrl": "urn:uuid:0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
            "search": {
              "mode": "match"
            },
            "resource": {
              "resourceType": "Bundle",
              "id": "0cb82cfa-76c8-4fb2-a08e-bf0e326e5487",
              "timestamp": "2022-10-21T13:47:00+00:00",
              "identifier": {
                "system": "https://tools.ietf.org/html/rfc4122",
                "value": "46183abc-9fad-4673-85db-ce2cb6614732"
              },
              "type": "message",
              "entry": [
                {
                  "fullUrl": "urn:uuid:17773b27-427e-4940-8c16-64cdac715001",
                  "resource": {
                    "resourceType": "MessageHeader",
                    "eventCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/message-event",
                      "code": "prescription-order",
                      "display": "Prescription Order"
                    },
                    "destination": [
                      {
                        "endpoint": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message",
                        "receiver": {
                          "identifier": {
                            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                            "value": "VNE51"
                          },
                          "display": "The Simple Pharmacy"
                        }
                      }
                    ],
                    "sender": {
                      "identifier": {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "A83008"
                      },
                      "display": "HALLGARTH SURGERY"
                    },
                    "source": {
                      "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008"
                    },
                    "focus": [
                      {
                        "reference": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                      },
                      {
                        "reference": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00"
                      },
                      {
                        "reference": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a"
                      },
                      {
                        "reference": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3"
                      },
                      {
                        "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                      },
                      {
                        "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                      },
                      {
                        "reference": "urn:uuid:28828c55-8fa7-42d7-916f-fcf076e0c10e"
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101",
                          "display": "Primary Care Prescriber - Medical Prescriber"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0008",
                              "display": "Item with dispenser"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                      }
                    ],
                    "status": "active",
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "39732311000001104",
                          "display": "Amoxicillin 250mg capsules"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "authoredOn": "2022-10-21T13:47:00+00:00",
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "2 times a day for 10 days",
                        "timing": {
                          "repeat": {
                            "frequency": 2,
                            "period": 1,
                            "periodUnit": "d"
                          }
                        },
                        "route": {
                          "coding": [
                            {
                              "system": "http://snomed.info/sct",
                              "code": "26643006",
                              "display": "Oral"
                            }
                          ]
                        }
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "validityPeriod": {
                        "start": "2022-10-21"
                      },
                      "quantity": {
                        "value": 20,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "expectedSupplyDuration": {
                        "value": 10,
                        "unit": "day",
                        "system": "http://unitsofmeasure.org",
                        "code": "d"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:6989b7bd-8db6-428c-a593-4022e3044c00",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101",
                          "display": "Primary Care Prescriber - Medical Prescriber"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0008",
                              "display": "Item with dispenser"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
                      }
                    ],
                    "status": "active",
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "322341003",
                          "display": "Co-codamol 30mg/500mg tablets"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "authoredOn": "2022-10-21T13:47:00+00:00",
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "2 times a day for 10 days",
                        "timing": {
                          "repeat": {
                            "frequency": 2,
                            "period": 1,
                            "periodUnit": "d"
                          }
                        },
                        "route": {
                          "coding": [
                            {
                              "system": "http://snomed.info/sct",
                              "code": "26643006",
                              "display": "Oral"
                            }
                          ]
                        }
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "validityPeriod": {
                        "start": "2022-10-21"
                      },
                      "quantity": {
                        "value": 20,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "expectedSupplyDuration": {
                        "value": 10,
                        "unit": "day",
                        "system": "http://unitsofmeasure.org",
                        "code": "d"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:2868554c-5565-4d31-b92a-c5b8dab8b90a",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101",
                          "display": "Primary Care Prescriber - Medical Prescriber"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0008",
                              "display": "Item with dispenser"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
                      }
                    ],
                    "status": "active",
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "321080004",
                          "display": "Pseudoephedrine hydrochloride 60mg tablets"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "authoredOn": "2022-10-21T13:47:00+00:00",
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "3 times a day for 10 days",
                        "timing": {
                          "repeat": {
                            "frequency": 3,
                            "period": 1,
                            "periodUnit": "d"
                          }
                        },
                        "route": {
                          "coding": [
                            {
                              "system": "http://snomed.info/sct",
                              "code": "26643006",
                              "display": "Oral"
                            }
                          ]
                        }
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "validityPeriod": {
                        "start": "2022-10-21"
                      },
                      "quantity": {
                        "value": 30,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "expectedSupplyDuration": {
                        "value": 10,
                        "unit": "day",
                        "system": "http://unitsofmeasure.org",
                        "code": "d"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:5cb17f5a-11ac-4e18-825f-6470467238b3",
                  "resource": {
                    "resourceType": "MedicationRequest",
                    "extension": [
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                        "valueCoding": {
                          "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                          "code": "0101",
                          "display": "Primary Care Prescriber - Medical Prescriber"
                        }
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionStatusHistory",
                        "extension": [
                          {
                            "url": "status",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history",
                              "code": "R-0001",
                              "display": "Prescription/item was cancelled"
                            }
                          },
                          {
                            "url": "statusDate",
                            "valueDateTime": "2022-10-21T13:48:00+00:00"
                          }
                        ]
                      },
                      {
                        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                        "extension": [
                          {
                            "url": "dispenseStatus",
                            "valueCoding": {
                              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                              "code": "0005",
                              "display": "Item cancelled"
                            }
                          }
                        ]
                      }
                    ],
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                        "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
                      }
                    ],
                    "status": "cancelled",
                    "statusReason": {
                      "coding": [
                        {
                          "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason",
                          "code": "0002",
                          "display": "Clinical contra-indication"
                        }
                      ]
                    },
                    "intent": "order",
                    "category": [
                      {
                        "coding": [
                          {
                            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                            "code": "community",
                            "display": "Community"
                          }
                        ]
                      }
                    ],
                    "medicationCodeableConcept": {
                      "coding": [
                        {
                          "system": "http://snomed.info/sct",
                          "code": "324252006",
                          "display": "Azithromycin 250mg capsules"
                        }
                      ]
                    },
                    "subject": {
                      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
                    },
                    "authoredOn": "2022-10-21T13:47:00+00:00",
                    "requester": {
                      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                    },
                    "groupIdentifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
                      "value": "24F5DA-A83008-7EFE6Z",
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                          "valueIdentifier": {
                            "system": "https://fhir.nhs.uk/Id/prescription",
                            "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                          }
                        }
                      ]
                    },
                    "courseOfTherapyType": {
                      "coding": [
                        {
                          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                          "code": "acute",
                          "display": "Short course (acute) therapy"
                        }
                      ]
                    },
                    "dosageInstruction": [
                      {
                        "text": "3 times a day for 10 days",
                        "timing": {
                          "repeat": {
                            "frequency": 3,
                            "period": 1,
                            "periodUnit": "d"
                          }
                        },
                        "route": {
                          "coding": [
                            {
                              "system": "http://snomed.info/sct",
                              "code": "26643006",
                              "display": "Oral"
                            }
                          ]
                        }
                      }
                    ],
                    "dispenseRequest": {
                      "extension": [
                        {
                          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                          "valueCoding": {
                            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                            "code": "P1"
                          }
                        }
                      ],
                      "validityPeriod": {
                        "start": "2022-10-21"
                      },
                      "quantity": {
                        "value": 30,
                        "unit": "tablet",
                        "system": "http://snomed.info/sct",
                        "code": "428673006"
                      },
                      "expectedSupplyDuration": {
                        "value": 10,
                        "unit": "day",
                        "system": "http://unitsofmeasure.org",
                        "code": "d"
                      },
                      "performer": {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "VNE51"
                        }
                      }
                    },
                    "substitution": {
                      "allowedBoolean": false
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2",
                  "resource": {
                    "resourceType": "Patient",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/nhs-number",
                        "value": "9449304130"
                      }
                    ],
                    "name": [
                      {
                        "use": "usual",
                        "family": "TWITCHETT",
                        "given": [
                          "STACEY",
                          "MARISA"
                        ],
                        "prefix": [
                          "MS"
                        ]
                      }
                    ],
                    "gender": "female",
                    "birthDate": "1948-04-30",
                    "address": [
                      {
                        "use": "home",
                        "line": [
                          "10 HEATHFIELD",
                          "COBHAM",
                          "SURREY"
                        ],
                        "postalCode": "KT11 2QY"
                      }
                    ],
                    "generalPractitioner": [
                      {
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                          "value": "A83008"
                        }
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666",
                  "resource": {
                    "resourceType": "PractitionerRole",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                        "value": "200102238987"
                      }
                    ],
                    "practitioner": {
                      "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
                    },
                    "organization": {
                      "reference": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8"
                    },
                    "code": [
                      {
                        "coding": [
                          {
                            "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                            "code": "R8000",
                            "display": "Clinical Practitioner Access Role"
                          },
                          {
                            "system": "https://fhir.hl7.org.uk/CodeSystem/UKCore-SDSJobRoleName",
                            "code": "R8000",
                            "display": "Clinical Practitioner Access Role"
                          }
                        ]
                      }
                    ],
                    "telecom": [
                      {
                        "system": "phone",
                        "use": "work",
                        "value": "01234567890"
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a",
                  "resource": {
                    "resourceType": "Practitioner",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/sds-user-id",
                        "value": "555086689106"
                      },
                      {
                        "system": "https://fhir.hl7.org.uk/Id/gmc-number",
                        "value": "C6095103"
                      },
                      {
                        "system": "https://fhir.hl7.org.uk/Id/din-number",
                        "value": "977677"
                      }
                    ],
                    "name": [
                      {
                        "family": "BOIN",
                        "given": [
                          "C"
                        ],
                        "prefix": [
                          "DR"
                        ]
                      }
                    ]
                  }
                },
                {
                  "fullUrl": "urn:uuid:3b4b03a5-52ba-4ba6-9b82-70350aa109d8",
                  "resource": {
                    "resourceType": "Organization",
                    "identifier": [
                      {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "A83008"
                      }
                    ],
                    "type": [
                      {
                        "coding": [
                          {
                            "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                            "code": "76",
                            "display": "GP PRACTICE"
                          }
                        ]
                      }
                    ],
                    "name": "HALLGARTH SURGERY",
                    "telecom": [
                      {
                        "system": "phone",
                        "use": "work",
                        "value": "0115 9737320"
                      }
                    ],
                    "address": [
                      {
                        "use": "work",
                        "type": "both",
                        "line": [
                          "HALLGARTH SURGERY",
                          "CHEAPSIDE"
                        ],
                        "city": "SHILDON",
                        "district": "COUNTY DURHAM",
                        "postalCode": "DL4 2HP"
                      }
                    ],
                    "partOf": {
                      "identifier": {
                        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                        "value": "84H"
                      },
                      "display": "NHS COUNTY DURHAM CCG"
                    }
                  }
                },
                {
                  "fullUrl": "urn:uuid:28828c55-8fa7-42d7-916f-fcf076e0c10e",
                  "resource": {
                    "resourceType": "Provenance",
                    "id": "28828c55-8fa7-42d7-916f-fcf076e0c10e",
                    "target": [
                      {
                        "type": "MedicationRequest",
                        "identifier": {
                          "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                          "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                        }
                      }
                    ],
                    "recorded": "2022-10-21T13:47:00+00:00",
                    "agent": [
                      {
                        "who": {
                          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                        }
                      }
                    ],
                    "signature": [
                      {
                        "type": [
                          {
                            "system": "urn:iso-astm:E1762-95:2013",
                            "code": "1.2.840.10065.1.12.1.1"
                          }
                        ],
                        "when": "2022-10-21T13:47:00+00:00",
                        "who": {
                          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
                        },
                        "data": "PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+CiAgICAgICAgICAgIDxTaWduZWRJbmZvPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+WTg5YWNmSC90VkVtSXI2aVlrRVJrWWMxbG1jPTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPgogICAgICAgICAgICA8U2lnbmF0dXJlVmFsdWU+PC9TaWduYXR1cmVWYWx1ZT4KICAgICAgICAgICAgPEtleUluZm8+PFg1MDlEYXRhPjxYNTA5Q2VydGlmaWNhdGU+PC9YNTA5Q2VydGlmaWNhdGU+PC9YNTA5RGF0YT48L0tleUluZm8+CiAgICAgICAgICA8L1NpZ25hdHVyZT4="
                      }
                    ]
                  }
                }
              ]
            }
          }
        ]
      }
    },
    {
      "name": "failedPrescriptions",
      "resource": {
        "resourceType": "Bundle",
        "id": "155e1102-9e71-4f19-9453-b905c0bbc495",
        "meta": {
          "lastUpdated": "2022-11-21T14:00:00+00:00"
        },
        "identifier": {
          "system": "https://tools.ietf.org/html/rfc4122",
          "value": "155e1102-9e71-4f19-9453-b905c0bbc4950"
        },
        "type": "searchset",
        "link": [
          {
            "relation": "self",
            "url": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/Task/$release"
          }
        ],
        "total": 0
      }
    }
  ]
}
```

> An error response due to requested prescription not being found.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "code": "not-found",
      "severity": "error",
      "details": {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode",
            "code": "RESOURCE_NOT_FOUND",
            "display": "Resource not found"
          }
        ]
      }
    }
  ]
}
```

> An error response due to the prescription being released by another dispenser.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "code": "business-rule",
      "severity": "error",
      "details": {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/CodeSystem/EPS-IssueCode",
            "code": "PRESCRIPTION_WITH_ANOTHER_DISPENSER",
            "display": "Prescription is with another dispenser"
          }
        ]
      },
      "diagnostics": "VNFKT - FIVE STAR HOMECARE LEEDS LTD - 02380798431"
    }
  ]
}
```

<h3 id="release-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Successfully downloaded a prescription for dispensing.|Inline|
|4XX|Unknown|An error occurred as follows:

| HTTP status | Error code                          | Description                                                                                                                                   |
| ----------- | ----------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------|
| 400         | PRESCRIPTION_WITH_ANOTHER_DISPENSER | Another dispenser has previously released this prescription. Details of the prescription will be in OperationOutcome.contained.Organization . |
| 400         | RESOURCE_NOT_FOUND                  | The prescription ID specified in the parameters requested (group-identifier) did not exist.                                                   ||Inline|

<h3 id="release-responseschema">Response Schema</h3>

Status Code **200**

*The requested prescriptions,
expressed as a FHIR bundle of 
[prescription-order FHIR messages](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/MessageDefinition-duplicate-2/prescription-order).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|none|
| id|string|false|none|none|
| parameter|[oneOf]|false|none|none|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| name|string|false|none|none|
| resource|object|false|none|none|
| resourceType|string|false|none|none|
| id|string|false|none|none|
| meta|object|false|none|none|
| lastUpdated|string(date-time)|true|none|The time that a release response was received.|
| identifier|object|true|none|The unique identifier for a release response.|
| system|string|false|none|none|
| value|string|false|none|none|
| type|string|false|none|none|
| link|[object]|false|none|none|
| relation|string|false|none|none|
| url|string|false|none|none|
| total|integer(int32)|false|none|For nominated release responses only.<br>The number of prescriptions that are being released within a release response.|
| entry|[object]|false|none|Container array for the one or many prescriptions that may be released within a release response.|
| fullUrl|string|false|none|none|
| search|object|false|none|none|
| mode|string|false|none|none|
| resource|object|false|none|Container object for the released prescription.|
| resourceType|string|false|none|none|
| id|string|false|none|none|
| timestamp|string(date-time)|false|none|none|
| identifier|object|false|none|Unique identifier for a prescription.|
| system|string|false|none|none|
| value|string|false|none|none|
| meta|object|false|none|none|
| lastUpdated|string(date-time)|false|none|The time a prescription is valid from.|
| type|string|false|none|none|
| entry|[object]|false|none|none|
| fullUrl|string|false|none|none|
| resource|any|false|none|none|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Additional instructions intended for the patient.<br>For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the CommunicationRequest. Must always default to "active".|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| payload|[object]|true|none|Additional instructions provided as part of this prescription.|
| contentString|string|false|none|Additional instructions intended for the patient.|
| contentReference|object|false|none|A reference to the list of repeat medications that the patient is on.|
| reference|string|false|none|A reference to a List resource within the Bundle|
| requester|object|false|none|Details of the prescribing organisation originating the instructions.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| recipient|[object]|false|none|Details of the patient receiving the instructions.|
| identifier|object|false|none|none|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A MedicationRequest object is required. An EPS prescription must contain at least one and up to four MedicationRequest objects. This is equivalent to an item on a prescription.<br>Any fields mentioned in the Simplifer Spec but not in this schema are permitted, but may not be preserved or acted on by the API. <br>Reason for medication dispense should be appended to dosageInstruction.text, as reasonCode is not made available to dispensers.|
| resourceType|string|true|none|FHIR resource type|
| extension|[oneOf]|true|none|FHIR extension array.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The quantity of a controlled drug, expressed in words|
| url|string|false|none|URL of the extension definition.|
| extension|[oneOf]|false|none|FHIR extension array.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the quantity in words|
| url|string|false|none|URL for the controlled drug quantity|
| valueString|string|false|none|quantity expressed in words|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the schedule of the controlled drug|
| url|string|false|none|URL for the controlled drug schedule|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem to identify the controlled drug schedule|
| code|string|false|none|a code to identify the controlled drug schedule|
| display|string|false|none|a human readable display to accompany the controlled drug schedule code|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| display|string|false|none|The name of the responsible practitioner.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|string|false|none|URL of the extension definition.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|The review date of the prescription.<br>This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.|
| valueDateTime|string|false|none|A date value|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.<br><br>For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.|
| url|string|false|none|URL of the extension definition.|
| valueCoding|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|string|false|none|codesystem URL for the prescription type|
| code|string|false|none|The prescription type code|
| display|string|false|none|The display that accompanies the prescription type code|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. <br><br>View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).|
| url|string|false|none|URL of the extension definition.|
| valueCodeableConcept|object|false|none|none|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for endorsements.|
| code|string|true|none|The endorsement code.|

*continued*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| identifier|[object]|true|none|The unique identifier for this line item on the prescription.|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| status|string|true|none|The status of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| intent|string|true|none|The intent of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| category|[object]|true|none|Identifies the context in which a prescription is created.<br>For example, a prescription created within primary care will be categorised as "community."<br>Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."<br>This must be consistent across all MedicationRequests in a Bundle.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription category.|
| code|string|true|none|Code for the prescription category.|
| display|string|false|none|Display value for the prescription category.|
| medicationCodeableConcept|object|true|none|The medication that is being prescribed. <br>This must be represented using a VMP or AMP concept from the dm+d.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|string|true|none|SNOMED code for the medication, as defined in the dm+d.|
| display|string|false|none|Human readable name for the medication.|
| subject|object|true|none|Reference object to identify the patient a prescription is for. <br>A Patient resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a Patient resource within the Bundle|
| authoredOn|string(date-time)|false|none|Reserved for future use and will currently be ignored. Do not use.|
| requester|object|true|none|Reference object to identify the requester of a prescription. <br>A PractitionerRole resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|object|true|none|An object containing the short-form and long-form Prescription ID.|
| system|string|true|none|Codesystem URL for the short-form Prescription ID.|
| value|string|true|none|The short-form Prescription ID. <br>An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). <br>It is to be formatted as follows:<br>  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.<br>  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  <br>  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.<br>  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.|
| extension|[object]|false|none|FHIR extension array containing the long-form Prescription ID.|
| url|string|true|none|none|
| valueIdentifier|object|true|none|The long-form identifier of the prescription.|
| system|string|true|none|Codesystem URL for the long-form Prescription ID.|
| value|string|true|none|The long-form prescription ID.|
| courseOfTherapyType|object|true|none|Denotes whether a prescription is an acute, a repeat, or an eRD.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription treatment type.|
| code|string|true|none|Code identifying the prescription treatment type.<br>* acute: acute prescriptions<br>* continuous: repeat prescriptions<br>* continuous-repeat-dispensing: eRD prescriptions|
| display|string|false|none|Display value for the prescription treatment type.|
| dosageInstruction|[object]|true|none|The dosage instructions for a prescription. <br>These must be expressed as both structured dose and text.|
| sequence|integer(int32)|false|none|The order of the dosage instructions.<br>Indicates the order in which the dosage instructions should be applied or interpreted.|
| text|string|false|none|The dosage instructions expressed as text.<br>Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.<br>Instructions with the same sequence number will be separated by ", and"<br>Instructions with different sequence numbers will be separated by ", then"<br>Please do not use full stops or commas at the end of any instructions provided.|
| additionalInstruction|[object]|false|none|Supplemental instruction or warnings to the patient.<br>E.g. "with meals", "may cause drowsiness".|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|SNOMED code for additional dosage instructions.|
| display|string|false|none|Additional dosage instructions (qualifier value).|
| patientInstruction|string|false|none|Patient or consumer oriented instructions.|
| timing|object|false|none|A structured expression of dose frequency.|
| repeat|object|false|none|The frequency and period over which the medication should be consumed.|
| boundsDuration|object|false|none|The bounds duration at which the medication should be consumed.<br>E.g. "4.5" for 4 & 1/2 days.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| frequency|number|false|none|The frequency at which the medication should be consumed within a given period.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.<br>E.g. "4" for 4 times over a given period.|
| period|integer(int32)|false|none|The period over which the frequency applies.<br>e.g. "1" for 1 day.|
| periodUnit|string|false|none|The fundamental unit of the period, defined in UCUM.|
| asNeeded|object|false|none|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), <br>or it indicates the precondition for taking the Medication (CodeableConcept).|
| asNeededBoolean|boolean|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.|
| asNeededCodeableConcept|object|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| text|string|false|none|Plain text representation of the concept.|
| site|object|false|none|Body site to administer to.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|none|
| route|object|false|none|A structured expression of how the medication should be consumed.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| method|object|false|none|Technique for administering medication.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying the technique for administering medication.|
| display|string|false|none|none|
| doseAndRate|[oneOf]|false|none|Amount of medication administered.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| type|object|false|none|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|integer|true|none|Valid SNOMED code identifying how the medication should be consumed.|
| display|string|false|none|Human readable name for the method of consumption.|
| text|string|false|none|Plain text representation of the concept.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| dose|[object]|false|none|Amount of medication per dose.|
| doseRange|object|false|none|A dose that may be in a given low / high range.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, <br>to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something <br>like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| doseQuantity|object|false|none|The amount of medication per dose, as a simple coded quantity.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rate|[object]|false|none|Amount of medication per unit of time.|
| rateRatio|object|false|none|Where the rate is expressed as coded numerator and denominator values.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateRange|object|false|none|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateQuantity|object|false|none|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent<br>to defining the rate using the more complex rateRatio structure.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|

*continued*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| maxDosePerPeriod|object|false|none|Upper limit on medication per unit of time.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerAdministration|object|false|none|Used to define a maximum dose for a single administration.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerLifetime|object|false|none|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| note|[object]|false|none|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|string|false|none|Specific additional instructions for a prescription line item.|
| dispenseRequest|object|true|none|A FHIR object containing information relevant to how the prescription should be dispensed. <br>These values should be consistent across all MedicationRequests in a Bundle.|
| extension|[object]|true|none|FHIR extension array.|
| url|string|false|none|Extension URL for DM-PerformerSiteType.|
| valueCoding|object|false|none|none|
| system|string|false|none|Codesystem URL to hold the nomination.|
| code|string|false|none|The nomination applied to a prescription.<br>This could either be a nomination for:<br>  * A dispensing contractor (P1)<br>  * A dispensing appliance contractor (P2)<br>  * A dispensing doctor (P3)<br>Or a non-nominated prescription (0004).|
| numberOfRepeatsAllowed|integer|false|none|For eRD and repeat prescriptions only.<br>The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. <br>For repeat prescriptions, this value must always default to 0.|
| validityPeriod|object|false|none|The start and end dates of a prescription.|
| start|string(date)|false|none|Start date of an issue; sometimes same as prescription's start date.|
| end|string(date)|false|none|End date of an issue; capped at 12 months and cannot exceed the prescription's end date.<br>Overall validity of the drug.|
| expectedSupplyDuration|object|false|none|For eRD prescriptions only. <br>Duration of each issue in days; defaults to 28.|
| value|integer|false|none|The number of days each issue in an eRD prescription is valid for.|
| unit|string|false|none|The UCUM unit of measure display for days.|
| system|string|false|none|Codesystem URL for UCUM.|
| code|string|false|none|The UCUM unit of measure code for days.|
| performer|object|false|none|For nominated prescriptions only, including one-off nominations.<br>The ODS code of the nominated pharmacy that a prescription is going to.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| quantity|object|true|none|The quantity of a medication item being prescribed.|
| value|number|false|none|The numeric value of the quantity being prescribed.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|string|false|none|SNOMED codesystem URL.|
| code|integer|false|none|The dm+d code associated with a given unit of measure.|
| substitution|object|true|none|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|boolean|false|none|none|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| resourceType|string|true|none|FHIR resource type.|
| eventCoding|object|true|none|The type of message event being generated.|
| system|string|false|none|codesystem URL for message events.|
| code|string|false|none|code for the message event.|
| display|string|false|none|display value accompanying the code for the message event.|
| destination|[object]|false|none|none|
| endpoint|string|false|none|none|
| receiver|object|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|false|none|none|
| sender|object|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|none|
| source|object|true|none|The organisation originating the message.|
| endpoint|string|false|none|ODS code of the organisation originating the message, expressed as a URL.|
| focus|[object]|false|none|none|
| reference|string|false|none|none|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.<br><br>Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing the ODS code of the organisation|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| name|string|true|none|Organisation name.|
| address|[object]|true|none|Organisation address.|
| use|string|false|none|The purpose of the address.|
| type|string|false|none|The type of address.|
| line|[string]|false|none|All lines of the address except the city, district, and postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| city|string|false|none|The city of the address.|
| district|string|false|none|The district of the address.|
| postalCode|string|false|none|The postal code of the address.|
| telecom|[object]|true|none|The telephone number associated with the organisation.|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|
| partOf|object|true|none|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|the name of the managing organisation|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The patient the prescription is for.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|The patient's NHS number.|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|
| name|[object]|true|none|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|How this name should be used.<br>* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.<br>Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.<br>Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|
| gender|string|true|none|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.<br>It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.|
| birthDate|string(date)|true|none|The date on which the patient was born or is officially deemed to have been born.<br><br>It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.<br><br>When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.|
| address|[object]|true|none|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|Purpose of this address:<br>  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address<br>  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged<br><br>  A patient should have no more than one current `temp` address.<br>  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.<br>  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).<br><br>  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.<br>  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>*  line 4 - post town, e.g. `Leeds`<br>*  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
| telecom|[object]|false|none|The patient's telephone number.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with communication system.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|[object]|true|none|General practice (not practitioner) with which the patient is or was registered.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A resource to contain the digital signature attached to a prescription, see [Generation of the provenance resource](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/how-to-embed-a-signature-within-a-prescription#step-three-create-signature-block) for guidance.|
| resourceType|string|false|none|FHIR resource type.|
| id|string|false|none|none|
| target|[object]|false|none|Reference object to identify the line items in a prescription that are being signed.<br>A reference to each MedicationRequest resource in the Bundle must be provided.|
| type|string|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| recorded|string(date-time)|false|none|The time the prescription was signed.|
| agent|[object]|false|none|A reference to the prescriber who signed the prescription, i.e. the requester of the prescription.<br>A PractitionerRole resource within the Bundle must be referenced.|
| who|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| signature|[object]|false|none|The Advanced Electronic Signature (AES) attached to a prescription.|
| type|[object]|false|none|The type of signature attached to a prescription.|
| system|string|false|none|FHIR codesystem URN for signatures|
| code|string|false|none|none|
| when|string(date-time)|true|none|The time the prescription was signed. This must be the timestamp found in the prepare endpoint response.|
| who|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle. <br>This will still be a reference to the prescriber who signed the prescription.|
| data|string(byte)|false|none|An advanced electronic signature, which may be generated using the Signing Service. See [this link](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/how-to-embed-a-signature-within-a-prescription#step-three-create-signature-block) for guidance.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Details of the author or responsible party of a release.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[anyOf]|false|none|An array containing the prescriber's professional codes and identifiers.<br>The professional code identifier can be used for the GMC or GPhC number.|

*anyOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS User Identifier.|
| system|string|true|none|Codesystem URL for the SDS User Identifier.|
| value|string|true|none|SDS User Identifier.|

*or*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the Professional Code.|
| value|string|true|none|The Professional Code.|

*or*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the DIN Number.|
| value|string|true|none|The DIN Number.|

*or*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's HCPC number.|
| system|string|true|none|Codesystem URL for the HCPC number.|
| value|string|true|none|The HCPC number.|

*or*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's NMC number.|
| system|string|true|none|Codesystem URL for the NMC number.|
| value|string|true|none|The NMC number.|

*continued*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| name|[object]|false|none|The prescriber's name.|
| family|string|false|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Role-specific details of the author or responsible party of a prescription.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[oneOf]|false|none|An array containing role-specific identifiers for the prescriber|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS Role Profile ID.|
| system|string|true|none|Codesystem URL for the SDS role profile ID.|
| value|string|true|none|SDS role profile ID.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's spurious code.|
| system|string|true|none|Codesystem URL for the spurious code.|
| value|string|true|none|Spurious code.|

*continued*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| practitioner|object|false|none|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|string|false|none|A FHIR reference object.|
| organization|object|false|none|A reference to an Organization resource.<br>Where the prescription is a primary care prescription, this will be a reference to the prescribing organisation.<br>Where the prescription is a secondary care prescription, this will be a reference to the managing organisation.|
| reference|string|false|none|a FHIR reference object|
| code|[object]|false|none|The SDS job role code for a given prescriber or dispenser.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the job role code.|
| code|string|true|none|The SDS job role code.|
| display|string|false|none|Display text for the SDS job role code.|
| telecom|object|false|none|none|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| name|string|false|none|none|
| resource|object|false|none|none|
| resourceType|string|false|none|none|
| id|string|false|none|none|
| meta|object|false|none|none|
| lastUpdated|string(date-time)|false|none|The time that a release rejection was received.|
| identifier|object|false|none|The unique identifier for a release rejection.|
| system|string|false|none|none|
| value|string|false|none|none|
| type|string|false|none|none|
| total|integer(int32)|false|none|For nominated release responses only.<br>The number of FHIR resources associated with the failed prescriptions that are being released within a release response.<br>This will be 2n, where n is the number of failed prescriptions.|
| entry|[oneOf]|false|none|Container array for the one or many release rejections that may be released within a release response.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A container resource for a specific release rejection.|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| identifier|object|false|none|An RFC4122 unique identifier.|
| system|string|true|none|Codesystem URL for the RFC4122 unqiue identifier.|
| value|string|true|none|RFC4122 unique identifier.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| resourceType|string|false|none|none|
| id|string|false|none|none|
| identifier|object|false|none|none|
| system|string|false|none|none|
| value|string|false|none|none|
| type|string|false|none|none|
| entry|[object]|false|none|none|
| fullUrl|string|false|none|none|
| resource|any|false|none|none|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A MedicationRequest object is required. An EPS prescription must contain at least one and up to four MedicationRequest objects. This is equivalent to an item on a prescription.<br>Any fields mentioned in the Simplifer Spec but not in this schema are permitted, but may not be preserved or acted on by the API. <br>Reason for medication dispense should be appended to dosageInstruction.text, as reasonCode is not made available to dispensers.|
| resourceType|string|true|none|FHIR resource type|
| extension|[oneOf]|true|none|FHIR extension array.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The quantity of a controlled drug, expressed in words|
| url|string|false|none|URL of the extension definition.|
| extension|[oneOf]|false|none|FHIR extension array.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the quantity in words|
| url|string|false|none|URL for the controlled drug quantity|
| valueString|string|false|none|quantity expressed in words|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the schedule of the controlled drug|
| url|string|false|none|URL for the controlled drug schedule|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem to identify the controlled drug schedule|
| code|string|false|none|a code to identify the controlled drug schedule|
| display|string|false|none|a human readable display to accompany the controlled drug schedule code|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| display|string|false|none|The name of the responsible practitioner.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|string|false|none|URL of the extension definition.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|The review date of the prescription.<br>This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.|
| valueDateTime|string|false|none|A date value|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.<br><br>For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.|
| url|string|false|none|URL of the extension definition.|
| valueCoding|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|string|false|none|codesystem URL for the prescription type|
| code|string|false|none|The prescription type code|
| display|string|false|none|The display that accompanies the prescription type code|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. <br><br>View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).|
| url|string|false|none|URL of the extension definition.|
| valueCodeableConcept|object|false|none|none|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for endorsements.|
| code|string|true|none|The endorsement code.|

*continued*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| identifier|[object]|true|none|The unique identifier for this line item on the prescription.|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| status|string|true|none|The status of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| intent|string|true|none|The intent of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| category|[object]|true|none|Identifies the context in which a prescription is created.<br>For example, a prescription created within primary care will be categorised as "community."<br>Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."<br>This must be consistent across all MedicationRequests in a Bundle.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription category.|
| code|string|true|none|Code for the prescription category.|
| display|string|false|none|Display value for the prescription category.|
| medicationCodeableConcept|object|true|none|The medication that is being prescribed. <br>This must be represented using a VMP or AMP concept from the dm+d.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|string|true|none|SNOMED code for the medication, as defined in the dm+d.|
| display|string|false|none|Human readable name for the medication.|
| subject|object|true|none|Reference object to identify the patient a prescription is for. <br>A Patient resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a Patient resource within the Bundle|
| authoredOn|string(date-time)|false|none|Reserved for future use and will currently be ignored. Do not use.|
| requester|object|true|none|Reference object to identify the requester of a prescription. <br>A PractitionerRole resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|object|true|none|An object containing the short-form and long-form Prescription ID.|
| system|string|true|none|Codesystem URL for the short-form Prescription ID.|
| value|string|true|none|The short-form Prescription ID. <br>An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). <br>It is to be formatted as follows:<br>  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.<br>  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  <br>  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.<br>  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.|
| extension|[object]|false|none|FHIR extension array containing the long-form Prescription ID.|
| url|string|true|none|none|
| valueIdentifier|object|true|none|The long-form identifier of the prescription.|
| system|string|true|none|Codesystem URL for the long-form Prescription ID.|
| value|string|true|none|The long-form prescription ID.|
| courseOfTherapyType|object|true|none|Denotes whether a prescription is an acute, a repeat, or an eRD.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription treatment type.|
| code|string|true|none|Code identifying the prescription treatment type.<br>* acute: acute prescriptions<br>* continuous: repeat prescriptions<br>* continuous-repeat-dispensing: eRD prescriptions|
| display|string|false|none|Display value for the prescription treatment type.|
| dosageInstruction|[object]|true|none|The dosage instructions for a prescription. <br>These must be expressed as both structured dose and text.|
| sequence|integer(int32)|false|none|The order of the dosage instructions.<br>Indicates the order in which the dosage instructions should be applied or interpreted.|
| text|string|false|none|The dosage instructions expressed as text.<br>Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.<br>Instructions with the same sequence number will be separated by ", and"<br>Instructions with different sequence numbers will be separated by ", then"<br>Please do not use full stops or commas at the end of any instructions provided.|
| additionalInstruction|[object]|false|none|Supplemental instruction or warnings to the patient.<br>E.g. "with meals", "may cause drowsiness".|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|SNOMED code for additional dosage instructions.|
| display|string|false|none|Additional dosage instructions (qualifier value).|
| patientInstruction|string|false|none|Patient or consumer oriented instructions.|
| timing|object|false|none|A structured expression of dose frequency.|
| repeat|object|false|none|The frequency and period over which the medication should be consumed.|
| boundsDuration|object|false|none|The bounds duration at which the medication should be consumed.<br>E.g. "4.5" for 4 & 1/2 days.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| frequency|number|false|none|The frequency at which the medication should be consumed within a given period.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.<br>E.g. "4" for 4 times over a given period.|
| period|integer(int32)|false|none|The period over which the frequency applies.<br>e.g. "1" for 1 day.|
| periodUnit|string|false|none|The fundamental unit of the period, defined in UCUM.|
| asNeeded|object|false|none|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), <br>or it indicates the precondition for taking the Medication (CodeableConcept).|
| asNeededBoolean|boolean|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.|
| asNeededCodeableConcept|object|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| text|string|false|none|Plain text representation of the concept.|
| site|object|false|none|Body site to administer to.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|none|
| route|object|false|none|A structured expression of how the medication should be consumed.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| method|object|false|none|Technique for administering medication.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying the technique for administering medication.|
| display|string|false|none|none|
| doseAndRate|[oneOf]|false|none|Amount of medication administered.|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| type|object|false|none|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|integer|true|none|Valid SNOMED code identifying how the medication should be consumed.|
| display|string|false|none|Human readable name for the method of consumption.|
| text|string|false|none|Plain text representation of the concept.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| dose|[object]|false|none|Amount of medication per dose.|
| doseRange|object|false|none|A dose that may be in a given low / high range.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, <br>to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something <br>like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| doseQuantity|object|false|none|The amount of medication per dose, as a simple coded quantity.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rate|[object]|false|none|Amount of medication per unit of time.|
| rateRatio|object|false|none|Where the rate is expressed as coded numerator and denominator values.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateRange|object|false|none|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateQuantity|object|false|none|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent<br>to defining the rate using the more complex rateRatio structure.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|

*continued*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| maxDosePerPeriod|object|false|none|Upper limit on medication per unit of time.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerAdministration|object|false|none|Used to define a maximum dose for a single administration.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerLifetime|object|false|none|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| note|[object]|false|none|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|string|false|none|Specific additional instructions for a prescription line item.|
| dispenseRequest|object|true|none|A FHIR object containing information relevant to how the prescription should be dispensed. <br>These values should be consistent across all MedicationRequests in a Bundle.|
| extension|[object]|true|none|FHIR extension array.|
| url|string|false|none|Extension URL for DM-PerformerSiteType.|
| valueCoding|object|false|none|none|
| system|string|false|none|Codesystem URL to hold the nomination.|
| code|string|false|none|The nomination applied to a prescription.<br>This could either be a nomination for:<br>  * A dispensing contractor (P1)<br>  * A dispensing appliance contractor (P2)<br>  * A dispensing doctor (P3)<br>Or a non-nominated prescription (0004).|
| numberOfRepeatsAllowed|integer|false|none|For eRD and repeat prescriptions only.<br>The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. <br>For repeat prescriptions, this value must always default to 0.|
| validityPeriod|object|false|none|The start and end dates of a prescription.|
| start|string(date)|false|none|Start date of an issue; sometimes same as prescription's start date.|
| end|string(date)|false|none|End date of an issue; capped at 12 months and cannot exceed the prescription's end date.<br>Overall validity of the drug.|
| expectedSupplyDuration|object|false|none|For eRD prescriptions only. <br>Duration of each issue in days; defaults to 28.|
| value|integer|false|none|The number of days each issue in an eRD prescription is valid for.|
| unit|string|false|none|The UCUM unit of measure display for days.|
| system|string|false|none|Codesystem URL for UCUM.|
| code|string|false|none|The UCUM unit of measure code for days.|
| performer|object|false|none|For nominated prescriptions only, including one-off nominations.<br>The ODS code of the nominated pharmacy that a prescription is going to.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| quantity|object|true|none|The quantity of a medication item being prescribed.|
| value|number|false|none|The numeric value of the quantity being prescribed.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|string|false|none|SNOMED codesystem URL.|
| code|integer|false|none|The dm+d code associated with a given unit of measure.|
| substitution|object|true|none|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|boolean|false|none|none|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| resourceType|string|true|none|FHIR resource type.|
| eventCoding|object|true|none|The type of message event being generated.|
| system|string|false|none|codesystem URL for message events.|
| code|string|false|none|code for the message event.|
| display|string|false|none|display value accompanying the code for the message event.|
| destination|[object]|false|none|none|
| endpoint|string|false|none|none|
| receiver|object|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|false|none|none|
| sender|object|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|none|
| source|object|true|none|The organisation originating the message.|
| endpoint|string|false|none|ODS code of the organisation originating the message, expressed as a URL.|
| focus|[object]|false|none|none|
| reference|string|false|none|none|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.<br><br>Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing the ODS code of the organisation|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| name|string|true|none|Organisation name.|
| address|[object]|true|none|Organisation address.|
| use|string|false|none|The purpose of the address.|
| type|string|false|none|The type of address.|
| line|[string]|false|none|All lines of the address except the city, district, and postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| city|string|false|none|The city of the address.|
| district|string|false|none|The district of the address.|
| postalCode|string|false|none|The postal code of the address.|
| telecom|[object]|true|none|The telephone number associated with the organisation.|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|
| partOf|object|true|none|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|the name of the managing organisation|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The patient the prescription is for.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|The patient's NHS number.|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|
| name|[object]|true|none|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|How this name should be used.<br>* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.<br>Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.<br>Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|
| gender|string|true|none|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.<br>It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.|
| birthDate|string(date)|true|none|The date on which the patient was born or is officially deemed to have been born.<br><br>It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.<br><br>When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.|
| address|[object]|true|none|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|Purpose of this address:<br>  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address<br>  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged<br><br>  A patient should have no more than one current `temp` address.<br>  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.<br>  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).<br><br>  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.<br>  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>*  line 4 - post town, e.g. `Leeds`<br>*  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
| telecom|[object]|false|none|The patient's telephone number.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with communication system.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|[object]|true|none|General practice (not practitioner) with which the patient is or was registered.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Details of the author or responsible party of a release.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[anyOf]|false|none|An array containing the prescriber's professional codes and identifiers.<br>The professional code identifier can be used for the GMC or GPhC number.|

*anyOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS User Identifier.|
| system|string|true|none|Codesystem URL for the SDS User Identifier.|
| value|string|true|none|SDS User Identifier.|

*or*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the Professional Code.|
| value|string|true|none|The Professional Code.|

*or*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the DIN Number.|
| value|string|true|none|The DIN Number.|

*or*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's HCPC number.|
| system|string|true|none|Codesystem URL for the HCPC number.|
| value|string|true|none|The HCPC number.|

*or*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's NMC number.|
| system|string|true|none|Codesystem URL for the NMC number.|
| value|string|true|none|The NMC number.|

*continued*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| name|[object]|false|none|The prescriber's name.|
| family|string|false|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Role-specific details of the author or responsible party of a prescription.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[oneOf]|false|none|An array containing role-specific identifiers for the prescriber|

*oneOf*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS Role Profile ID.|
| system|string|true|none|Codesystem URL for the SDS role profile ID.|
| value|string|true|none|SDS role profile ID.|

*xor*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's spurious code.|
| system|string|true|none|Codesystem URL for the spurious code.|
| value|string|true|none|Spurious code.|

*continued*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| practitioner|object|false|none|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|string|false|none|A FHIR reference object.|
| organization|object|false|none|A reference to an Organization resource.<br>Where the prescription is a primary care prescription, this will be a reference to the prescribing organisation.<br>Where the prescription is a secondary care prescription, this will be a reference to the managing organisation.|
| reference|string|false|none|a FHIR reference object|
| code|[object]|false|none|The SDS job role code for a given prescriber or dispenser.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the job role code.|
| code|string|true|none|The SDS job role code.|
| display|string|false|none|Display text for the SDS job role code.|
| telecom|object|false|none|none|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|Parameters|
|name|passedPrescriptions|
|resourceType|Bundle|
|type|searchset|
|resourceType|Bundle|
|status|active|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|
|resourceType|MedicationRequest|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
|url|quantityWords|
|url|schedule|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
|code|CD1|
|code|CD2|
|code|CD3|
|code|CD4|
|code|CD5|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
|url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
|url|authorisationExpiryDate|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
|system|https://fhir.nhs.uk/CodeSystem/prescription-type|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
|code|ACBS|
|code|AF|
|code|CC|
|code|FS|
|code|SLS|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|status|active|
|status|cancelled|
|status|completed|
|intent|order|
|intent|original-order|
|intent|instance-order|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
|code|inpatient|
|code|outpatient|
|code|community|
|code|discharge|
|display|Inpatient|
|display|Outpatient|
|display|Community|
|display|Discharge|
|system|http://snomed.info/sct|
|system|https://fhir.nhs.uk/Id/prescription-order-number|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
|system|https://fhir.nhs.uk/Id/prescription|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
|code|acute|
|code|continuous|
|code|continuous-repeat-dispensing|
|display|Short course (acute) therapy|
|display|Continuous long term therapy|
|display|Continuous long term (repeat dispensing)|
|system|http://snomed.info/sct|
|asNeededBoolean|true|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
|system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
|code|P1|
|code|P2|
|code|P3|
|code|0004|
|system|http://unitsofmeasure.org|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|http://snomed.info/sct|
|allowedBoolean|false|
|resourceType|MessageHeader|
|system|https://fhir.nhs.uk/CodeSystem/message-event|
|code|prescription-order|
|display|Prescription Order|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|use|home|
|use|work|
|use|billing|
|use|temp|
|type|postal|
|type|physical|
|type|both|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|
|use|usual|
|gender|male|
|gender|female|
|gender|other|
|gender|unknown|
|use|home|
|use|temp|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|resourceType|Provenance|
|type|MedicationRequest|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|system|urn:iso-astm:E1762-95:2013|
|code|1.2.840.10065.1.12.1.1|
|resourceType|Practitioner|
|system|https://fhir.nhs.uk/Id/sds-user-id|
|system|https://fhir.hl7.org.uk/Id/professional-code|
|system|https://fhir.hl7.org.uk/Id/din-number|
|system|https://fhir.hl7.org.uk/Id/hcpc-number|
|system|https://fhir.hl7.org.uk/Id/nmc-number|
|resourceType|PractitionerRole|
|system|https://fhir.nhs.uk/Id/sds-role-profile-id|
|system|https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code|
|system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|name|failedPrescriptions|
|resourceType|Bundle|
|type|searchset|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|notsupported|
|code|duplicate|
|code|multiplematches|
|code|notfound|
|code|deleted|
|code|toolong|
|code|codeinvalid|
|code|extension|
|code|toocostly|
|code|businessrule|
|code|conflict|
|code|transient|
|code|lockerror|
|code|nostore|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-Spine-supportingInfo-prescription|
|system|https://tools.ietf.org/html/rfc4122|
|resourceType|Bundle|
|resourceType|MedicationRequest|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
|url|quantityWords|
|url|schedule|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
|code|CD1|
|code|CD2|
|code|CD3|
|code|CD4|
|code|CD5|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
|url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
|url|authorisationExpiryDate|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
|system|https://fhir.nhs.uk/CodeSystem/prescription-type|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
|code|ACBS|
|code|AF|
|code|CC|
|code|FS|
|code|SLS|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|status|active|
|status|cancelled|
|status|completed|
|intent|order|
|intent|original-order|
|intent|instance-order|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
|code|inpatient|
|code|outpatient|
|code|community|
|code|discharge|
|display|Inpatient|
|display|Outpatient|
|display|Community|
|display|Discharge|
|system|http://snomed.info/sct|
|system|https://fhir.nhs.uk/Id/prescription-order-number|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
|system|https://fhir.nhs.uk/Id/prescription|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
|code|acute|
|code|continuous|
|code|continuous-repeat-dispensing|
|display|Short course (acute) therapy|
|display|Continuous long term therapy|
|display|Continuous long term (repeat dispensing)|
|system|http://snomed.info/sct|
|asNeededBoolean|true|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
|system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
|code|P1|
|code|P2|
|code|P3|
|code|0004|
|system|http://unitsofmeasure.org|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|http://snomed.info/sct|
|allowedBoolean|false|
|resourceType|MessageHeader|
|system|https://fhir.nhs.uk/CodeSystem/message-event|
|code|prescription-order|
|display|Prescription Order|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|use|home|
|use|work|
|use|billing|
|use|temp|
|type|postal|
|type|physical|
|type|both|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|
|use|usual|
|gender|male|
|gender|female|
|gender|other|
|gender|unknown|
|use|home|
|use|temp|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|resourceType|Practitioner|
|system|https://fhir.nhs.uk/Id/sds-user-id|
|system|https://fhir.hl7.org.uk/Id/professional-code|
|system|https://fhir.hl7.org.uk/Id/din-number|
|system|https://fhir.hl7.org.uk/Id/hcpc-number|
|system|https://fhir.hl7.org.uk/Id/nmc-number|
|resourceType|PractitionerRole|
|system|https://fhir.nhs.uk/Id/sds-role-profile-id|
|system|https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code|
|system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|

<aside class="success">
This operation does not require authentication
</aside>

## return

<a id="opIdreturn"></a>

> Code samples

```shell
# You can also use wget
curl -X POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#return \
  -H 'Content-Type: application/fhir+json' \
  -H 'Accept: application/fhir+json' \
  -H 'Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM' \
  -H 'NHSD-Session-URID: 555254240100' \
  -H 'X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068' \
  -H 'X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'

```

```http
POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#return HTTP/1.1
Host: sandbox.api.service.nhs.uk
Content-Type: application/fhir+json
Accept: application/fhir+json
Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
NHSD-Session-URID: 555254240100
X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068
X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA

```

```javascript
const inputBody = '{
  "resourceType": "Task",
  "id": "ee1b55f8-113c-4725-99a3-25fbad366dd6",
  "contained": [
    {
      "resourceType": "PractitionerRole",
      "id": "requester",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
          "value": "641555508105"
        }
      ],
      "practitioner": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/sds-user-id",
          "value": "7654321"
        },
        "display": "Ms Lottie Maifeld"
      },
      "organization": {
        "reference": "#organization"
      },
      "code": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
              "code": "S0030:G0100:R0620"
            }
          ]
        }
      ],
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "01234567890"
        }
      ]
    },
    {
      "resourceType": "Organization",
      "id": "organization",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "VNE51"
        }
      ],
      "address": [
        {
          "city": "West Yorkshire",
          "use": "work",
          "line": [
            "17 Austhorpe Road",
            "Crossgates",
            "Leeds"
          ],
          "postalCode": "LS15 8BA"
        }
      ],
      "active": true,
      "type": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
              "code": "182",
              "display": "PHARMACY"
            }
          ]
        }
      ],
      "name": "The Simple Pharmacy",
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "0113 3180277"
        }
      ]
    }
  ],
  "identifier": [
    {
      "system": "https://tools.ietf.org/html/rfc4122",
      "value": "ee1b55f8-113c-4725-99a3-25fbad366dd6"
    }
  ],
  "status": "rejected",
  "statusReason": {
    "coding": [
      {
        "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-return-status-reason",
        "code": "0003",
        "display": "Patient requested release"
      }
    ]
  },
  "intent": "order",
  "code": {
    "coding": [
      {
        "system": "http://hl7.org/fhir/CodeSystem/task-code",
        "code": "fulfill",
        "display": "Fulfill the focal request"
      }
    ]
  },
  "groupIdentifier": {
    "system": "https://fhir.nhs.uk/Id/prescription-order-number",
    "value": "24F5DA-A83008-7EFE6Z"
  },
  "focus": {
    "identifier": {
      "system": "https://tools.ietf.org/html/rfc4122",
      "value": "a5d77265-8ba5-4c74-b8ce-ea0dbaafbdb8"
    }
  },
  "for": {
    "identifier": {
      "system": "https://fhir.nhs.uk/Id/nhs-number",
      "value": "9449304130"
    }
  },
  "authoredOn": "2022-11-21T14:30:00+00:00",
  "requester": {
    "reference": "#requester"
  },
  "reasonCode": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "33633005",
        "display": "Prescription of drug"
      }
    ]
  }
}';
const headers = {
  'Content-Type':'application/fhir+json',
  'Accept':'application/fhir+json',
  'Authorization':'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID':'555254240100',
  'X-Request-ID':'60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID':'11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
};

fetch('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#return',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/fhir+json',
  'Accept' => 'application/fhir+json',
  'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID' => '555254240100',
  'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

result = RestClient.post 'https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#return',
  params: {
  }, headers: headers

p JSON.parse(result)

```

```python
import requests
headers = {
  'Content-Type': 'application/fhir+json',
  'Accept': 'application/fhir+json',
  'Authorization': 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID': '555254240100',
  'X-Request-ID': '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID': '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

r = requests.post('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#return', headers = headers)

print(r.json())

```

```php
<?php

require 'vendor/autoload.php';

$headers = array(
    'Content-Type' => 'application/fhir+json',
    'Accept' => 'application/fhir+json',
    'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
    'NHSD-Session-URID' => '555254240100',
    'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
    'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('POST','https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#return', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

```

```java
URL obj = new URL("https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#return");
HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");
int responseCode = con.getResponseCode();
BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();
System.out.println(response.toString());

```

```go
package main

import (
       "bytes"
       "net/http"
)

func main() {

    headers := map[string][]string{
        "Content-Type": []string{"application/fhir+json"},
        "Accept": []string{"application/fhir+json"},
        "Authorization": []string{"Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"},
        "NHSD-Session-URID": []string{"555254240100"},
        "X-Request-ID": []string{"60E0B220-8136-4CA5-AE46-1D97EF59D068"},
        "X-Correlation-ID": []string{"11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"},
    }

    data := bytes.NewBuffer([]byte{jsonReq})
    req, err := http.NewRequest("POST", "https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#return", data)
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}

```

`POST /FHIR/R4/Task#return`

*Return a downloaded prescription - Dispensing*

## Overview
Use this endpoint to return a downloaded prescription to EPS, so that another dispensing system can download it.

The effect of calling this endpoint depends on the Task status.
To return a downloaded prescription to EPS, send a Task with a status of `rejected`.
For more information on how to create these messages, see [NHSDigital-Task](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/Profiles/NHSDigital-Task).

Note that the `#return` in the URL has been added to distinguish this from the other operations which
can be performed using the `Task` endpoint. It is not required in requests to the API.

> Body parameter

> A valid acute, primary care return request.

```json
{
  "resourceType": "Task",
  "id": "ee1b55f8-113c-4725-99a3-25fbad366dd6",
  "contained": [
    {
      "resourceType": "PractitionerRole",
      "id": "requester",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
          "value": "641555508105"
        }
      ],
      "practitioner": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/sds-user-id",
          "value": "7654321"
        },
        "display": "Ms Lottie Maifeld"
      },
      "organization": {
        "reference": "#organization"
      },
      "code": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
              "code": "S0030:G0100:R0620"
            }
          ]
        }
      ],
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "01234567890"
        }
      ]
    },
    {
      "resourceType": "Organization",
      "id": "organization",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "VNE51"
        }
      ],
      "address": [
        {
          "city": "West Yorkshire",
          "use": "work",
          "line": [
            "17 Austhorpe Road",
            "Crossgates",
            "Leeds"
          ],
          "postalCode": "LS15 8BA"
        }
      ],
      "active": true,
      "type": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
              "code": "182",
              "display": "PHARMACY"
            }
          ]
        }
      ],
      "name": "The Simple Pharmacy",
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "0113 3180277"
        }
      ]
    }
  ],
  "identifier": [
    {
      "system": "https://tools.ietf.org/html/rfc4122",
      "value": "ee1b55f8-113c-4725-99a3-25fbad366dd6"
    }
  ],
  "status": "rejected",
  "statusReason": {
    "coding": [
      {
        "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-return-status-reason",
        "code": "0003",
        "display": "Patient requested release"
      }
    ]
  },
  "intent": "order",
  "code": {
    "coding": [
      {
        "system": "http://hl7.org/fhir/CodeSystem/task-code",
        "code": "fulfill",
        "display": "Fulfill the focal request"
      }
    ]
  },
  "groupIdentifier": {
    "system": "https://fhir.nhs.uk/Id/prescription-order-number",
    "value": "24F5DA-A83008-7EFE6Z"
  },
  "focus": {
    "identifier": {
      "system": "https://tools.ietf.org/html/rfc4122",
      "value": "a5d77265-8ba5-4c74-b8ce-ea0dbaafbdb8"
    }
  },
  "for": {
    "identifier": {
      "system": "https://fhir.nhs.uk/Id/nhs-number",
      "value": "9449304130"
    }
  },
  "authoredOn": "2022-11-21T14:30:00+00:00",
  "requester": {
    "reference": "#requester"
  },
  "reasonCode": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "33633005",
        "display": "Prescription of drug"
      }
    ]
  }
}
```

<h3 id="return-parameters">Parameters</h3>

|Name|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string(^Bearer\ [[:ascii:]]+$)|true|An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).|
|NHSD-Session-URID|header|string|false|The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).|
|X-Request-ID|header|string|true|A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.|
|X-Correlation-ID|header|string|false|An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.|
|body|body|object|true|none|
| resourceType|body|string|false|none|
| id|body|string|false|none|
| extension|body|[object]|false|FHIR extension array to hold Repeat Information.|
| url|body|string|false|URL of the extension definition.|
| extension|body|[oneOf]|false|FHIR extension array.|
| *anonymous*|body|object|false|The total number of issues a given prescription is authorised for.|
| url|body|string|false|none|
| valueInteger|body|integer|false|none|
| *anonymous*|body|object|false|The current, active issue of the prescription.|
| url|body|string|false|none|
| valueInteger|body|integer|false|none|
| contained|body|[oneOf]|false|none|
| *anonymous*|body|object|false|The dispenser returning the prescription.|
| resourceType|body|string|false|FHIR resource type.|
| id|body|string|false|none|
| identifier|body|[object]|false|An array containing role-specific identifiers for the dispenser.|
| system|body|string|true|Codesystem URL for the SDS role profile ID.|
| value|body|string|true|SDS role profile ID.|
| practitioner|body|object|true|An identifier for a Practitioner resource, for a given dispenser.|
| identifier|body|object|false|The prescriber or dispenser's SDS User Identifier.|
| system|body|string|true|Codesystem URL for the SDS User Identifier.|
| value|body|string|true|SDS User Identifier.|
| display|body|string|false|none|
| organization|body|object|false|none|
| reference|body|string|false|none|
| code|body|[object]|false|The SDS job role code for a given dispenser.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the job role code.|
| code|body|string|true|The SDS job role code.|
| display|body|string|false|Display text for the SDS job role code.|
| telecom|body|object|false|none|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| *anonymous*|body|object|false|Details of the dispensing organisation returning the prescription.|
| id|body|string|false|local identifier for the resource that can be referenced by other resources within the message.|
| resourceType|body|string|false|FHIR resource type.|
| identifier|body|[object]|false|An array containing the ODS code of the organisation.|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| address|body|[object]|true|Organisation address.|
| use|body|string|false|The purpose of the address.|
| type|body|string|false|The type of address.|
| line|body|[string]|false|All lines of the address except the city, district, and postal code.|
| city|body|string|false|The city of the address.|
| district|body|string|false|The district of the address.|
| postalCode|body|string|false|The postal code of the address.|
| active|body|boolean|false|none|
| type|body|[object]|false|none|
| coding|body|[object]|true|none|
| system|body|string|true|none|
| code|body|string|true|none|
| display|body|string|false|none|
| name|body|string|true|Organisation name.|
| telecom|body|[object]|true|The telephone number associated with the organisation.|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| identifier|body|[object]|false|The unique identifier for the Return Request.|
| system|body|string|true|Codesystem URL for the RFC4122 unqiue identifier.|
| value|body|string|true|RFC4122 unique identifier.|
| status|body|string|false|none|
| statusReason|body|object|false|The reason the prescription is being returned, which must be coded as per the Return Reason vocabulary.|
| coding|body|[object]|false|none|
| system|body|string|true|none|
| code|body|string|true|none|
| display|body|string|false|none|
| intent|body|string|false|The intent of the Medication Requests being returned.|
| code|body|object|false|none|
| coding|body|[object]|false|none|
| system|body|string|true|none|
| code|body|string|true|none|
| display|body|string|false|none|
| groupIdentifier|body|object|false|The Prescription ID of the prescription that is being returned.|
| system|body|string|true|Codesystem URL for the short-form Prescription ID.|
| value|body|string|true|The short-form Prescription ID. |
| extension|body|[object]|false|FHIR extension array containing the long-form Prescription ID.|
| url|body|string|true|none|
| valueIdentifier|body|object|true|The long-form identifier of the prescription.|
| system|body|string|true|Codesystem URL for the long-form Prescription ID.|
| value|body|string|true|The long-form prescription ID.|
| focus|body|object|false|The release response which released the prescription that is currently being returned.|
| identifier|body|object|false|An RFC4122 unique identifier.|
| system|body|string|true|Codesystem URL for the RFC4122 unqiue identifier.|
| value|body|string|true|RFC4122 unique identifier.|
| for|body|object|false|none|
| identifier|body|object|false|none|
| system|body|string(url)|true|FHIR codesystem URL for NHS numbers.|
| value|body|string|true|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.|
| authoredOn|body|string(date-time)|false|The time the prescription is being returned to Spine.|
| requester|body|object|false|The dispenser returning the prescription.|
| reference|body|string|false|none|

#### Detailed descriptions

**Authorization**: An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).

Required in all environments except sandbox.

**NHSD-Session-URID**: The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).

If you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, see [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) for guidance.

This field is optional.

**X-Request-ID**: A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.

Must be a universally unique identifier (UUID) (ideally version 4).

Mirrored back in a response header.

If you re-send a failed request, use the same value in this header.

Required in all environments except sandbox.

**X-Correlation-ID**: An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.

Mirrored back in a response header.

** extension**: FHIR extension array to hold Repeat Information.
This identifies the instance of the eRD prescription that is being returned.
Given that all eRD prescriptions have the same prescription ID,
the combination of Prescription ID and repeat number identifies the issue to withdraw or return.

** line**: All lines of the address except the city, district, and postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

** telecom**: The telephone number associated with the organisation.
If this element is missing the telecom information in the PractitionerRole resource will be used.

** value**: The short-form Prescription ID. 
An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). 
It is to be formatted as follows:
  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.
  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  
  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.
  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.

** value**: The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.
Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).

#### Enumerated Values

|Parameter|Value|
|---|---|
| resourceType|Task|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation|
| url|numberOfRepeatsAllowed|
| url|numberOfRepeatsIssued|
| resourceType|PractitionerRole|
| system|https://fhir.nhs.uk/Id/sds-role-profile-id|
| system|https://fhir.nhs.uk/Id/sds-user-id|
| system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| resourceType|Organization|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| use|home|
| use|work|
| use|billing|
| use|temp|
| type|postal|
| type|physical|
| type|both|
| system|https://fhir.nhs.uk/CodeSystem/organisation-role|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| system|https://tools.ietf.org/html/rfc4122|
| status|active|
| status|cancelled|
| status|completed|
| status|rejected|
| system|https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-return-status-reason|
| intent|order|
| intent|original-order|
| intent|instance-order|
| system|http://hl7.org/fhir/CodeSystem/task-code|
| system|https://fhir.nhs.uk/Id/prescription-order-number|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
| system|https://fhir.nhs.uk/Id/prescription|
| system|https://tools.ietf.org/html/rfc4122|
| system|https://fhir.nhs.uk/Id/nhs-number|

> Example responses

> A successful response to an acute, primary care return request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a repeat, primary care return request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a eRD, primary care return request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> An error response to a return request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "code": "not-found",
      "severity": "error",
      "details": {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode",
            "code": "RESOURCE_NOT_FOUND",
            "display": "Resource not found"
          }
        ]
      }
    }
  ]
}
```

<h3 id="return-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Action completed successfully.|Inline|
|4XX|Unknown|An error occurred as follows:

| HTTP status | Error code                 | Description                                                                                                                 |
|-------------|----------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| 400         | INVALID_STATE_TRANSITION   | Invalid State Transition for Prescription.                                                                                  |
| 400         | PRESCRIPTION_NOT_FOUND     | Prescription not found.                                                                                                     |
| 400         | INVALID_MESSAGE            | Invalid Message.                                                                                                            |
| 400         | UNABLE_TO_PROCESS_MESSAGE  | Unable to process message. Information missing or invalid.                                                                  |
| 400         | MAX_REPEAT_MISMATCH        | Mismatch in authorised repeat counts.                                                                                       ||Inline|

<h3 id="return-responseschema">Response Schema</h3>

Status Code **200**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

Status Code **4XX**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

<aside class="success">
This operation does not require authentication
</aside>

## send-dispense-notification-message

<a id="opIdsend-dispense-notification-message"></a>

> Code samples

```shell
# You can also use wget
curl -X POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#dispense-notification \
  -H 'Content-Type: application/fhir+json' \
  -H 'Accept: application/fhir+json' \
  -H 'Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM' \
  -H 'NHSD-Session-URID: 555254240100' \
  -H 'X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068' \
  -H 'X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'

```

```http
POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#dispense-notification HTTP/1.1
Host: sandbox.api.service.nhs.uk
Content-Type: application/fhir+json
Accept: application/fhir+json
Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
NHSD-Session-URID: 555254240100
X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068
X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA

```

```javascript
const inputBody = '{
  "resourceType": "Bundle",
  "id": "b240434e-cb85-40bb-899c-1c61410c93a7",
  "timestamp": "2022-11-27T11:45:00+00:00",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "b240434e-cb85-40bb-899c-1c61410c93a7"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:e9a71955-53ba-b15a-d4b6-bea99d5017b3",
      "resource": {
        "resourceType": "MessageHeader",
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "dispense-notification",
          "display": "Dispense Notification"
        },
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "VNE51"
          },
          "display": "The Simple Pharmacy"
        },
        "source": {
          "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/VNE51"
        },
        "reason": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/message-reason-prescription",
              "code": "notification",
              "display": "Notification"
            }
          ]
        },
        "response": {
          "identifier": "a5d77265-8ba5-4c74-b8ce-ea0dbaafbdb8",
          "code": "ok"
        },
        "focus": [
          {
            "reference": "urn:uuid:4509b70d-d8b8-ea03-1105-64557cb54a29"
          },
          {
            "reference": "urn:uuid:06167339-9337-d030-0366-514a6a46da17"
          },
          {
            "reference": "urn:uuid:6318367c-c343-4a65-95de-69f712edfc39"
          },
          {
            "reference": "urn:uuid:9a0aa5fd-8865-42f5-ad67-6c83d0944ee0"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:4509b70d-d8b8-ea03-1105-64557cb54a29",
      "resource": {
        "resourceType": "MedicationDispense",
        "contained": [
          {
            "resourceType": "PractitionerRole",
            "id": "performer",
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "741555508105"
              }
            ],
            "code": [
              {
                "coding": [
                  {
                    "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                    "code": "S0030:G0100:R0620"
                  }
                ]
              }
            ],
            "practitioner": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-user-id",
                "value": "7654321"
              },
              "display": "Mr Peter Potion"
            },
            "organization": {
              "reference": "urn:uuid:2bf9f37c-d88b-4f86-ad5f-373c1416e04b"
            },
            "telecom": [
              {
                "system": "phone",
                "use": "work",
                "value": "0532567890"
              }
            ]
          },
          {
            "resourceType": "MedicationRequest",
            "id": "m1",
            "extension": [
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                  "code": "0101",
                  "display": "Primary Care Prescriber - Medical Prescriber"
                }
              },
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                "extension": [
                  {
                    "url": "dispenseStatus",
                    "valueCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                      "code": "0008",
                      "display": "Item with dispenser"
                    }
                  }
                ]
              }
            ],
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
              }
            ],
            "status": "active",
            "intent": "order",
            "category": [
              {
                "coding": [
                  {
                    "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                    "code": "community",
                    "display": "Community"
                  }
                ]
              }
            ],
            "medicationCodeableConcept": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "39732311000001104",
                  "display": "Amoxicillin 250mg capsules"
                }
              ]
            },
            "subject": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/nhs-number",
                "value": "9449304130"
              },
              "display": "Ms Marisa Stacey Twitchett"
            },
            "authoredOn": "2022-10-21T13:47:00+00:00",
            "requester": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "200102238987"
              }
            },
            "groupIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-number",
              "value": "24F5DA-A83008-7EFE6Z",
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                  "valueIdentifier": {
                    "system": "https://fhir.nhs.uk/Id/prescription",
                    "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                  }
                }
              ]
            },
            "courseOfTherapyType": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                  "code": "acute",
                  "display": "Short course (acute) therapy"
                }
              ]
            },
            "dosageInstruction": [
              {
                "text": "2 times a day for 10 days",
                "timing": {
                  "repeat": {
                    "frequency": 2,
                    "period": 1,
                    "periodUnit": "d"
                  }
                },
                "route": {
                  "coding": [
                    {
                      "system": "http://snomed.info/sct",
                      "code": "26643006",
                      "display": "Oral"
                    }
                  ]
                }
              }
            ],
            "dispenseRequest": {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                  "valueCoding": {
                    "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                    "code": "P1"
                  }
                }
              ],
              "validityPeriod": {
                "start": "2022-10-21"
              },
              "quantity": {
                "value": 20,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              },
              "expectedSupplyDuration": {
                "value": 10,
                "unit": "day",
                "system": "http://unitsofmeasure.org",
                "code": "d"
              },
              "performer": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                  "value": "VNE51"
                }
              }
            },
            "substitution": {
              "allowedBoolean": false
            }
          }
        ],
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status",
              "code": "0003",
              "display": "With Dispenser - Active"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
            "value": "fd833d33-f128-4fa2-a807-1fc8a7db2658"
          }
        ],
        "status": "completed",
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "39732311000001104",
              "display": "Amoxicillin 250mg capsules"
            }
          ]
        },
        "subject": {
          "type": "Patient",
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          },
          "display": "Ms Marisa Stacey Twitchett"
        },
        "performer": [
          {
            "actor": {
              "reference": "#performer"
            }
          }
        ],
        "authorizingPrescription": [
          {
            "reference": "#m1"
          }
        ],
        "type": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
              "code": "0001",
              "display": "Item fully dispensed"
            }
          ]
        },
        "quantity": {
          "value": 20,
          "unit": "tablet",
          "system": "http://snomed.info/sct",
          "code": "732936001"
        },
        "daysSupply": {
          "value": 10,
          "unit": "Day",
          "system": "http://unitsofmeasure.org",
          "code": "d"
        },
        "whenPrepared": "2022-11-27T11:45:00+00:00",
        "whenHandedOver": "2022-11-27T11:45:00+00:00",
        "dosageInstruction": [
          {
            "text": "20 tablets. One tablet to be taken two times a day",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:06167339-9337-d030-0366-514a6a46da17",
      "resource": {
        "resourceType": "MedicationDispense",
        "contained": [
          {
            "resourceType": "PractitionerRole",
            "id": "performer",
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "741555508105"
              }
            ],
            "code": [
              {
                "coding": [
                  {
                    "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                    "code": "S0030:G0100:R0620"
                  }
                ]
              }
            ],
            "practitioner": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-user-id",
                "value": "7654321"
              },
              "display": "Mr Peter Potion"
            },
            "organization": {
              "reference": "urn:uuid:2bf9f37c-d88b-4f86-ad5f-373c1416e04b"
            },
            "telecom": [
              {
                "system": "phone",
                "use": "work",
                "value": "0532567890"
              }
            ]
          },
          {
            "resourceType": "MedicationRequest",
            "id": "m2",
            "extension": [
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                  "code": "0101",
                  "display": "Primary Care Prescriber - Medical Prescriber"
                }
              },
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                "extension": [
                  {
                    "url": "dispenseStatus",
                    "valueCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                      "code": "0008",
                      "display": "Item with dispenser"
                    }
                  }
                ]
              }
            ],
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
              }
            ],
            "status": "active",
            "intent": "order",
            "category": [
              {
                "coding": [
                  {
                    "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                    "code": "community",
                    "display": "Community"
                  }
                ]
              }
            ],
            "medicationCodeableConcept": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "322341003",
                  "display": "Co-codamol 30mg/500mg tablets"
                }
              ]
            },
            "subject": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/nhs-number",
                "value": "9449304130"
              },
              "display": "Ms Marisa Stacey Twitchett"
            },
            "authoredOn": "2022-10-21T13:47:00+00:00",
            "requester": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "200102238987"
              }
            },
            "groupIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-number",
              "value": "24F5DA-A83008-7EFE6Z",
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                  "valueIdentifier": {
                    "system": "https://fhir.nhs.uk/Id/prescription",
                    "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                  }
                }
              ]
            },
            "courseOfTherapyType": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                  "code": "acute",
                  "display": "Short course (acute) therapy"
                }
              ]
            },
            "dosageInstruction": [
              {
                "text": "2 times a day for 10 days",
                "timing": {
                  "repeat": {
                    "frequency": 2,
                    "period": 1,
                    "periodUnit": "d"
                  }
                },
                "route": {
                  "coding": [
                    {
                      "system": "http://snomed.info/sct",
                      "code": "26643006",
                      "display": "Oral"
                    }
                  ]
                }
              }
            ],
            "dispenseRequest": {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                  "valueCoding": {
                    "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                    "code": "P1"
                  }
                }
              ],
              "validityPeriod": {
                "start": "2022-10-21"
              },
              "quantity": {
                "value": 20,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              },
              "expectedSupplyDuration": {
                "value": 10,
                "unit": "day",
                "system": "http://unitsofmeasure.org",
                "code": "d"
              },
              "performer": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                  "value": "VNE51"
                }
              }
            },
            "substitution": {
              "allowedBoolean": false
            }
          }
        ],
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status",
              "code": "0003",
              "display": "With Dispenser - Active"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
            "value": "06167339-9337-d030-0366-514a6a46da17"
          }
        ],
        "status": "completed",
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "322341003",
              "display": "Co-codamol 30mg/500mg tablets"
            }
          ]
        },
        "subject": {
          "type": "Patient",
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          },
          "display": "Ms Marisa Stacey Twitchett"
        },
        "performer": [
          {
            "actor": {
              "reference": "#performer"
            }
          }
        ],
        "authorizingPrescription": [
          {
            "reference": "#m2"
          }
        ],
        "type": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
              "code": "0001",
              "display": "Item fully dispensed"
            }
          ]
        },
        "quantity": {
          "value": 20,
          "unit": "tablet",
          "system": "http://snomed.info/sct",
          "code": "732936001"
        },
        "daysSupply": {
          "value": 10,
          "unit": "Day",
          "system": "http://unitsofmeasure.org",
          "code": "d"
        },
        "whenPrepared": "2022-11-27T11:45:00+00:00",
        "whenHandedOver": "2022-11-27T11:45:00+00:00",
        "dosageInstruction": [
          {
            "text": "20 tablets. One tablet to be taken two times a day",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:6318367c-c343-4a65-95de-69f712edfc39",
      "resource": {
        "resourceType": "MedicationDispense",
        "contained": [
          {
            "resourceType": "PractitionerRole",
            "id": "performer",
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "741555508105"
              }
            ],
            "code": [
              {
                "coding": [
                  {
                    "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                    "code": "S0030:G0100:R0620"
                  }
                ]
              }
            ],
            "practitioner": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-user-id",
                "value": "7654321"
              },
              "display": "Mr Peter Potion"
            },
            "organization": {
              "reference": "urn:uuid:2bf9f37c-d88b-4f86-ad5f-373c1416e04b"
            },
            "telecom": [
              {
                "system": "phone",
                "use": "work",
                "value": "0532567890"
              }
            ]
          },
          {
            "resourceType": "MedicationRequest",
            "id": "m3",
            "extension": [
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                  "code": "0101",
                  "display": "Primary Care Prescriber - Medical Prescriber"
                }
              },
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                "extension": [
                  {
                    "url": "dispenseStatus",
                    "valueCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                      "code": "0008",
                      "display": "Item with dispenser"
                    }
                  }
                ]
              }
            ],
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
              }
            ],
            "status": "active",
            "intent": "order",
            "category": [
              {
                "coding": [
                  {
                    "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                    "code": "community",
                    "display": "Community"
                  }
                ]
              }
            ],
            "medicationCodeableConcept": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "321080004",
                  "display": "Pseudoephedrine hydrochloride 60mg tablets"
                }
              ]
            },
            "subject": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/nhs-number",
                "value": "9449304130"
              },
              "display": "Ms Marisa Stacey Twitchett"
            },
            "authoredOn": "2022-10-21T13:47:00+00:00",
            "requester": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "200102238987"
              }
            },
            "groupIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-number",
              "value": "24F5DA-A83008-7EFE6Z",
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                  "valueIdentifier": {
                    "system": "https://fhir.nhs.uk/Id/prescription",
                    "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                  }
                }
              ]
            },
            "courseOfTherapyType": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                  "code": "acute",
                  "display": "Short course (acute) therapy"
                }
              ]
            },
            "dosageInstruction": [
              {
                "text": "3 times a day for 10 days",
                "timing": {
                  "repeat": {
                    "frequency": 3,
                    "period": 1,
                    "periodUnit": "d"
                  }
                },
                "route": {
                  "coding": [
                    {
                      "system": "http://snomed.info/sct",
                      "code": "26643006",
                      "display": "Oral"
                    }
                  ]
                }
              }
            ],
            "dispenseRequest": {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                  "valueCoding": {
                    "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                    "code": "P1"
                  }
                }
              ],
              "validityPeriod": {
                "start": "2022-10-21"
              },
              "quantity": {
                "value": 30,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              },
              "expectedSupplyDuration": {
                "value": 10,
                "unit": "day",
                "system": "http://unitsofmeasure.org",
                "code": "d"
              },
              "performer": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                  "value": "VNE51"
                }
              }
            },
            "substitution": {
              "allowedBoolean": false
            }
          }
        ],
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status",
              "code": "0003",
              "display": "With Dispenser - Active"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
            "value": "6318367c-c343-4a65-95de-69f712edfc39"
          }
        ],
        "status": "completed",
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "321080004",
              "display": "Pseudoephedrine hydrochloride 60mg tablets"
            }
          ]
        },
        "subject": {
          "type": "Patient",
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          },
          "display": "Ms Marisa Stacey Twitchett"
        },
        "performer": [
          {
            "actor": {
              "reference": "#performer"
            }
          }
        ],
        "authorizingPrescription": [
          {
            "reference": "#m3"
          }
        ],
        "type": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
              "code": "0004",
              "display": "Item fully dispensed"
            }
          ]
        },
        "quantity": {
          "value": 0,
          "unit": "tablet",
          "system": "http://snomed.info/sct",
          "code": "732936001"
        },
        "daysSupply": {
          "value": 10,
          "unit": "Day",
          "system": "http://unitsofmeasure.org",
          "code": "d"
        },
        "whenPrepared": "2022-11-27T11:45:00+00:00",
        "whenHandedOver": "2022-11-27T11:45:00+00:00",
        "dosageInstruction": [
          {
            "text": "20 tablets. One tablet to be taken two times a day",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:9a0aa5fd-8865-42f5-ad67-6c83d0944ee0",
      "resource": {
        "resourceType": "MedicationDispense",
        "contained": [
          {
            "resourceType": "PractitionerRole",
            "id": "performer",
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "741555508105"
              }
            ],
            "code": [
              {
                "coding": [
                  {
                    "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                    "code": "S0030:G0100:R0620"
                  }
                ]
              }
            ],
            "practitioner": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-user-id",
                "value": "7654321"
              },
              "display": "Mr Peter Potion"
            },
            "organization": {
              "reference": "urn:uuid:2bf9f37c-d88b-4f86-ad5f-373c1416e04b"
            },
            "telecom": [
              {
                "system": "phone",
                "use": "work",
                "value": "0532567890"
              }
            ]
          },
          {
            "resourceType": "MedicationRequest",
            "id": "m4",
            "extension": [
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                  "code": "0101",
                  "display": "Primary Care Prescriber - Medical Prescriber"
                }
              },
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                "extension": [
                  {
                    "url": "dispenseStatus",
                    "valueCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                      "code": "0008",
                      "display": "Item with dispenser"
                    }
                  }
                ]
              }
            ],
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
              }
            ],
            "status": "completed",
            "intent": "order",
            "category": [
              {
                "coding": [
                  {
                    "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                    "code": "community",
                    "display": "Community"
                  }
                ]
              }
            ],
            "medicationCodeableConcept": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "324252006",
                  "display": "Azithromycin 250mg capsules"
                }
              ]
            },
            "subject": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/nhs-number",
                "value": "9449304130"
              },
              "display": "Ms Marisa Stacey Twitchett"
            },
            "authoredOn": "2022-10-21T13:47:00+00:00",
            "requester": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "200102238987"
              }
            },
            "groupIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-number",
              "value": "24F5DA-A83008-7EFE6Z",
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                  "valueIdentifier": {
                    "system": "https://fhir.nhs.uk/Id/prescription",
                    "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                  }
                }
              ]
            },
            "courseOfTherapyType": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                  "code": "acute",
                  "display": "Short course (acute) therapy"
                }
              ]
            },
            "dosageInstruction": [
              {
                "text": "3 times a day for 10 days",
                "timing": {
                  "repeat": {
                    "frequency": 3,
                    "period": 1,
                    "periodUnit": "d"
                  }
                },
                "route": {
                  "coding": [
                    {
                      "system": "http://snomed.info/sct",
                      "code": "26643006",
                      "display": "Oral"
                    }
                  ]
                }
              }
            ],
            "dispenseRequest": {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                  "valueCoding": {
                    "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                    "code": "P1"
                  }
                }
              ],
              "validityPeriod": {
                "start": "2022-10-21"
              },
              "quantity": {
                "value": 30,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              },
              "expectedSupplyDuration": {
                "value": 10,
                "unit": "day",
                "system": "http://unitsofmeasure.org",
                "code": "d"
              },
              "performer": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                  "value": "VNE51"
                }
              }
            },
            "substitution": {
              "allowedBoolean": false
            }
          }
        ],
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status",
              "code": "0003",
              "display": "With Dispenser - Active"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
            "value": "9a0aa5fd-8865-42f5-ad67-6c83d0944ee0"
          }
        ],
        "status": "completed",
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "type": "Patient",
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          },
          "display": "Ms Marisa Stacey Twitchett"
        },
        "performer": [
          {
            "actor": {
              "reference": "#performer"
            }
          }
        ],
        "authorizingPrescription": [
          {
            "reference": "#m4"
          }
        ],
        "type": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
              "code": "0005",
              "display": "Item fully dispensed"
            }
          ]
        },
        "quantity": {
          "value": 0,
          "unit": "tablet",
          "system": "http://snomed.info/sct",
          "code": "732936001"
        },
        "daysSupply": {
          "value": 10,
          "unit": "Day",
          "system": "http://unitsofmeasure.org",
          "code": "d"
        },
        "whenPrepared": "2022-11-27T11:45:00+00:00",
        "whenHandedOver": "2022-11-27T11:45:00+00:00",
        "dosageInstruction": [
          {
            "text": "20 tablets. One tablet to be taken two times a day",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:2bf9f37c-d88b-4f86-ad5f-373c1416e04b",
      "resource": {
        "resourceType": "Organization",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ODS-OrganisationRelationships",
            "extension": [
              {
                "url": "reimbursementAuthority",
                "valueIdentifier": {
                  "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                  "value": "T1450"
                }
              }
            ]
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "VNE51"
          }
        ],
        "address": [
          {
            "city": "West Yorkshire",
            "use": "work",
            "line": [
              "17 Austhorpe Road",
              "Crossgates",
              "Leeds"
            ],
            "postalCode": "LS15 8BA"
          }
        ],
        "active": true,
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "182",
                "display": "PHARMACY"
              }
            ]
          }
        ],
        "name": "The Simple Pharmacy",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0113 3180277"
          }
        ]
      }
    }
  ]
}';
const headers = {
  'Content-Type':'application/fhir+json',
  'Accept':'application/fhir+json',
  'Authorization':'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID':'555254240100',
  'X-Request-ID':'60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID':'11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
};

fetch('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#dispense-notification',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/fhir+json',
  'Accept' => 'application/fhir+json',
  'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID' => '555254240100',
  'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

result = RestClient.post 'https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#dispense-notification',
  params: {
  }, headers: headers

p JSON.parse(result)

```

```python
import requests
headers = {
  'Content-Type': 'application/fhir+json',
  'Accept': 'application/fhir+json',
  'Authorization': 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID': '555254240100',
  'X-Request-ID': '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID': '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

r = requests.post('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#dispense-notification', headers = headers)

print(r.json())

```

```php
<?php

require 'vendor/autoload.php';

$headers = array(
    'Content-Type' => 'application/fhir+json',
    'Accept' => 'application/fhir+json',
    'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
    'NHSD-Session-URID' => '555254240100',
    'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
    'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('POST','https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#dispense-notification', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

```

```java
URL obj = new URL("https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#dispense-notification");
HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");
int responseCode = con.getResponseCode();
BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();
System.out.println(response.toString());

```

```go
package main

import (
       "bytes"
       "net/http"
)

func main() {

    headers := map[string][]string{
        "Content-Type": []string{"application/fhir+json"},
        "Accept": []string{"application/fhir+json"},
        "Authorization": []string{"Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"},
        "NHSD-Session-URID": []string{"555254240100"},
        "X-Request-ID": []string{"60E0B220-8136-4CA5-AE46-1D97EF59D068"},
        "X-Correlation-ID": []string{"11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"},
    }

    data := bytes.NewBuffer([]byte{jsonReq})
    req, err := http.NewRequest("POST", "https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/$process-message#dispense-notification", data)
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}

```

`POST /FHIR/R4/$process-message#dispense-notification`

*Mark a prescription as dispensed - Dispensing*

## Overview
### Dispense notification
Use this endpoint to send a dispense notification to EPS.

The effect of calling this endpoint depends on the type of the message, which is determined by the `MessageHeader` resource.
To mark a prescription as partially or fully dispensed, send a [dispense-notification message](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/MessageDefinition-duplicate-2/dispense-notification).

Note that the `#dispense-notification` in the URL has been added to distinguish this from the other operations which
can be performed using the [`$process-message` endpoint](https://simplifier.net/guide/NHSDigital/Home/FHIRAssets/AllAssets/OperationDefinition/process-message). It is not required in requests to the API.

### Amend dispense notification
The same endpoint can be used to amend a previous dispense notification. The same message structure is used with the addition of a `replacementOf` extension in the MessageHeader,
referencing the identifier of the previous dispense notification to be amended. Only the most recent dispense notification can be amended. To amend other dispense notifications please use the Withdraw endpoint, to withdraw all dispense notifications issued after the amend target, and then amend if necessary.

More information can be found on the fhir [documentation](https://simplifier.net/guide/NHSDigital/Home/FHIRAssets/AllAssets/Profiles/NHSDigital-MessageHeader).

> Body parameter

> A valid acute, primary care dispense notification request.

```json
{
  "resourceType": "Bundle",
  "id": "b240434e-cb85-40bb-899c-1c61410c93a7",
  "timestamp": "2022-11-27T11:45:00+00:00",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "b240434e-cb85-40bb-899c-1c61410c93a7"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:e9a71955-53ba-b15a-d4b6-bea99d5017b3",
      "resource": {
        "resourceType": "MessageHeader",
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "dispense-notification",
          "display": "Dispense Notification"
        },
        "sender": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "VNE51"
          },
          "display": "The Simple Pharmacy"
        },
        "source": {
          "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/VNE51"
        },
        "reason": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/message-reason-prescription",
              "code": "notification",
              "display": "Notification"
            }
          ]
        },
        "response": {
          "identifier": "a5d77265-8ba5-4c74-b8ce-ea0dbaafbdb8",
          "code": "ok"
        },
        "focus": [
          {
            "reference": "urn:uuid:4509b70d-d8b8-ea03-1105-64557cb54a29"
          },
          {
            "reference": "urn:uuid:06167339-9337-d030-0366-514a6a46da17"
          },
          {
            "reference": "urn:uuid:6318367c-c343-4a65-95de-69f712edfc39"
          },
          {
            "reference": "urn:uuid:9a0aa5fd-8865-42f5-ad67-6c83d0944ee0"
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:4509b70d-d8b8-ea03-1105-64557cb54a29",
      "resource": {
        "resourceType": "MedicationDispense",
        "contained": [
          {
            "resourceType": "PractitionerRole",
            "id": "performer",
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "741555508105"
              }
            ],
            "code": [
              {
                "coding": [
                  {
                    "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                    "code": "S0030:G0100:R0620"
                  }
                ]
              }
            ],
            "practitioner": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-user-id",
                "value": "7654321"
              },
              "display": "Mr Peter Potion"
            },
            "organization": {
              "reference": "urn:uuid:2bf9f37c-d88b-4f86-ad5f-373c1416e04b"
            },
            "telecom": [
              {
                "system": "phone",
                "use": "work",
                "value": "0532567890"
              }
            ]
          },
          {
            "resourceType": "MedicationRequest",
            "id": "m1",
            "extension": [
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                  "code": "0101",
                  "display": "Primary Care Prescriber - Medical Prescriber"
                }
              },
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                "extension": [
                  {
                    "url": "dispenseStatus",
                    "valueCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                      "code": "0008",
                      "display": "Item with dispenser"
                    }
                  }
                ]
              }
            ],
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
              }
            ],
            "status": "active",
            "intent": "order",
            "category": [
              {
                "coding": [
                  {
                    "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                    "code": "community",
                    "display": "Community"
                  }
                ]
              }
            ],
            "medicationCodeableConcept": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "39732311000001104",
                  "display": "Amoxicillin 250mg capsules"
                }
              ]
            },
            "subject": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/nhs-number",
                "value": "9449304130"
              },
              "display": "Ms Marisa Stacey Twitchett"
            },
            "authoredOn": "2022-10-21T13:47:00+00:00",
            "requester": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "200102238987"
              }
            },
            "groupIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-number",
              "value": "24F5DA-A83008-7EFE6Z",
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                  "valueIdentifier": {
                    "system": "https://fhir.nhs.uk/Id/prescription",
                    "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                  }
                }
              ]
            },
            "courseOfTherapyType": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                  "code": "acute",
                  "display": "Short course (acute) therapy"
                }
              ]
            },
            "dosageInstruction": [
              {
                "text": "2 times a day for 10 days",
                "timing": {
                  "repeat": {
                    "frequency": 2,
                    "period": 1,
                    "periodUnit": "d"
                  }
                },
                "route": {
                  "coding": [
                    {
                      "system": "http://snomed.info/sct",
                      "code": "26643006",
                      "display": "Oral"
                    }
                  ]
                }
              }
            ],
            "dispenseRequest": {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                  "valueCoding": {
                    "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                    "code": "P1"
                  }
                }
              ],
              "validityPeriod": {
                "start": "2022-10-21"
              },
              "quantity": {
                "value": 20,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              },
              "expectedSupplyDuration": {
                "value": 10,
                "unit": "day",
                "system": "http://unitsofmeasure.org",
                "code": "d"
              },
              "performer": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                  "value": "VNE51"
                }
              }
            },
            "substitution": {
              "allowedBoolean": false
            }
          }
        ],
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status",
              "code": "0003",
              "display": "With Dispenser - Active"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
            "value": "fd833d33-f128-4fa2-a807-1fc8a7db2658"
          }
        ],
        "status": "completed",
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "39732311000001104",
              "display": "Amoxicillin 250mg capsules"
            }
          ]
        },
        "subject": {
          "type": "Patient",
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          },
          "display": "Ms Marisa Stacey Twitchett"
        },
        "performer": [
          {
            "actor": {
              "reference": "#performer"
            }
          }
        ],
        "authorizingPrescription": [
          {
            "reference": "#m1"
          }
        ],
        "type": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
              "code": "0001",
              "display": "Item fully dispensed"
            }
          ]
        },
        "quantity": {
          "value": 20,
          "unit": "tablet",
          "system": "http://snomed.info/sct",
          "code": "732936001"
        },
        "daysSupply": {
          "value": 10,
          "unit": "Day",
          "system": "http://unitsofmeasure.org",
          "code": "d"
        },
        "whenPrepared": "2022-11-27T11:45:00+00:00",
        "whenHandedOver": "2022-11-27T11:45:00+00:00",
        "dosageInstruction": [
          {
            "text": "20 tablets. One tablet to be taken two times a day",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:06167339-9337-d030-0366-514a6a46da17",
      "resource": {
        "resourceType": "MedicationDispense",
        "contained": [
          {
            "resourceType": "PractitionerRole",
            "id": "performer",
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "741555508105"
              }
            ],
            "code": [
              {
                "coding": [
                  {
                    "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                    "code": "S0030:G0100:R0620"
                  }
                ]
              }
            ],
            "practitioner": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-user-id",
                "value": "7654321"
              },
              "display": "Mr Peter Potion"
            },
            "organization": {
              "reference": "urn:uuid:2bf9f37c-d88b-4f86-ad5f-373c1416e04b"
            },
            "telecom": [
              {
                "system": "phone",
                "use": "work",
                "value": "0532567890"
              }
            ]
          },
          {
            "resourceType": "MedicationRequest",
            "id": "m2",
            "extension": [
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                  "code": "0101",
                  "display": "Primary Care Prescriber - Medical Prescriber"
                }
              },
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                "extension": [
                  {
                    "url": "dispenseStatus",
                    "valueCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                      "code": "0008",
                      "display": "Item with dispenser"
                    }
                  }
                ]
              }
            ],
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
              }
            ],
            "status": "active",
            "intent": "order",
            "category": [
              {
                "coding": [
                  {
                    "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                    "code": "community",
                    "display": "Community"
                  }
                ]
              }
            ],
            "medicationCodeableConcept": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "322341003",
                  "display": "Co-codamol 30mg/500mg tablets"
                }
              ]
            },
            "subject": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/nhs-number",
                "value": "9449304130"
              },
              "display": "Ms Marisa Stacey Twitchett"
            },
            "authoredOn": "2022-10-21T13:47:00+00:00",
            "requester": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "200102238987"
              }
            },
            "groupIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-number",
              "value": "24F5DA-A83008-7EFE6Z",
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                  "valueIdentifier": {
                    "system": "https://fhir.nhs.uk/Id/prescription",
                    "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                  }
                }
              ]
            },
            "courseOfTherapyType": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                  "code": "acute",
                  "display": "Short course (acute) therapy"
                }
              ]
            },
            "dosageInstruction": [
              {
                "text": "2 times a day for 10 days",
                "timing": {
                  "repeat": {
                    "frequency": 2,
                    "period": 1,
                    "periodUnit": "d"
                  }
                },
                "route": {
                  "coding": [
                    {
                      "system": "http://snomed.info/sct",
                      "code": "26643006",
                      "display": "Oral"
                    }
                  ]
                }
              }
            ],
            "dispenseRequest": {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                  "valueCoding": {
                    "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                    "code": "P1"
                  }
                }
              ],
              "validityPeriod": {
                "start": "2022-10-21"
              },
              "quantity": {
                "value": 20,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              },
              "expectedSupplyDuration": {
                "value": 10,
                "unit": "day",
                "system": "http://unitsofmeasure.org",
                "code": "d"
              },
              "performer": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                  "value": "VNE51"
                }
              }
            },
            "substitution": {
              "allowedBoolean": false
            }
          }
        ],
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status",
              "code": "0003",
              "display": "With Dispenser - Active"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
            "value": "06167339-9337-d030-0366-514a6a46da17"
          }
        ],
        "status": "completed",
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "322341003",
              "display": "Co-codamol 30mg/500mg tablets"
            }
          ]
        },
        "subject": {
          "type": "Patient",
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          },
          "display": "Ms Marisa Stacey Twitchett"
        },
        "performer": [
          {
            "actor": {
              "reference": "#performer"
            }
          }
        ],
        "authorizingPrescription": [
          {
            "reference": "#m2"
          }
        ],
        "type": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
              "code": "0001",
              "display": "Item fully dispensed"
            }
          ]
        },
        "quantity": {
          "value": 20,
          "unit": "tablet",
          "system": "http://snomed.info/sct",
          "code": "732936001"
        },
        "daysSupply": {
          "value": 10,
          "unit": "Day",
          "system": "http://unitsofmeasure.org",
          "code": "d"
        },
        "whenPrepared": "2022-11-27T11:45:00+00:00",
        "whenHandedOver": "2022-11-27T11:45:00+00:00",
        "dosageInstruction": [
          {
            "text": "20 tablets. One tablet to be taken two times a day",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:6318367c-c343-4a65-95de-69f712edfc39",
      "resource": {
        "resourceType": "MedicationDispense",
        "contained": [
          {
            "resourceType": "PractitionerRole",
            "id": "performer",
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "741555508105"
              }
            ],
            "code": [
              {
                "coding": [
                  {
                    "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                    "code": "S0030:G0100:R0620"
                  }
                ]
              }
            ],
            "practitioner": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-user-id",
                "value": "7654321"
              },
              "display": "Mr Peter Potion"
            },
            "organization": {
              "reference": "urn:uuid:2bf9f37c-d88b-4f86-ad5f-373c1416e04b"
            },
            "telecom": [
              {
                "system": "phone",
                "use": "work",
                "value": "0532567890"
              }
            ]
          },
          {
            "resourceType": "MedicationRequest",
            "id": "m3",
            "extension": [
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                  "code": "0101",
                  "display": "Primary Care Prescriber - Medical Prescriber"
                }
              },
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                "extension": [
                  {
                    "url": "dispenseStatus",
                    "valueCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                      "code": "0008",
                      "display": "Item with dispenser"
                    }
                  }
                ]
              }
            ],
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
              }
            ],
            "status": "active",
            "intent": "order",
            "category": [
              {
                "coding": [
                  {
                    "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                    "code": "community",
                    "display": "Community"
                  }
                ]
              }
            ],
            "medicationCodeableConcept": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "321080004",
                  "display": "Pseudoephedrine hydrochloride 60mg tablets"
                }
              ]
            },
            "subject": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/nhs-number",
                "value": "9449304130"
              },
              "display": "Ms Marisa Stacey Twitchett"
            },
            "authoredOn": "2022-10-21T13:47:00+00:00",
            "requester": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "200102238987"
              }
            },
            "groupIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-number",
              "value": "24F5DA-A83008-7EFE6Z",
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                  "valueIdentifier": {
                    "system": "https://fhir.nhs.uk/Id/prescription",
                    "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                  }
                }
              ]
            },
            "courseOfTherapyType": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                  "code": "acute",
                  "display": "Short course (acute) therapy"
                }
              ]
            },
            "dosageInstruction": [
              {
                "text": "3 times a day for 10 days",
                "timing": {
                  "repeat": {
                    "frequency": 3,
                    "period": 1,
                    "periodUnit": "d"
                  }
                },
                "route": {
                  "coding": [
                    {
                      "system": "http://snomed.info/sct",
                      "code": "26643006",
                      "display": "Oral"
                    }
                  ]
                }
              }
            ],
            "dispenseRequest": {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                  "valueCoding": {
                    "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                    "code": "P1"
                  }
                }
              ],
              "validityPeriod": {
                "start": "2022-10-21"
              },
              "quantity": {
                "value": 30,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              },
              "expectedSupplyDuration": {
                "value": 10,
                "unit": "day",
                "system": "http://unitsofmeasure.org",
                "code": "d"
              },
              "performer": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                  "value": "VNE51"
                }
              }
            },
            "substitution": {
              "allowedBoolean": false
            }
          }
        ],
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status",
              "code": "0003",
              "display": "With Dispenser - Active"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
            "value": "6318367c-c343-4a65-95de-69f712edfc39"
          }
        ],
        "status": "completed",
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "321080004",
              "display": "Pseudoephedrine hydrochloride 60mg tablets"
            }
          ]
        },
        "subject": {
          "type": "Patient",
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          },
          "display": "Ms Marisa Stacey Twitchett"
        },
        "performer": [
          {
            "actor": {
              "reference": "#performer"
            }
          }
        ],
        "authorizingPrescription": [
          {
            "reference": "#m3"
          }
        ],
        "type": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
              "code": "0004",
              "display": "Item fully dispensed"
            }
          ]
        },
        "quantity": {
          "value": 0,
          "unit": "tablet",
          "system": "http://snomed.info/sct",
          "code": "732936001"
        },
        "daysSupply": {
          "value": 10,
          "unit": "Day",
          "system": "http://unitsofmeasure.org",
          "code": "d"
        },
        "whenPrepared": "2022-11-27T11:45:00+00:00",
        "whenHandedOver": "2022-11-27T11:45:00+00:00",
        "dosageInstruction": [
          {
            "text": "20 tablets. One tablet to be taken two times a day",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:9a0aa5fd-8865-42f5-ad67-6c83d0944ee0",
      "resource": {
        "resourceType": "MedicationDispense",
        "contained": [
          {
            "resourceType": "PractitionerRole",
            "id": "performer",
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "741555508105"
              }
            ],
            "code": [
              {
                "coding": [
                  {
                    "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
                    "code": "S0030:G0100:R0620"
                  }
                ]
              }
            ],
            "practitioner": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-user-id",
                "value": "7654321"
              },
              "display": "Mr Peter Potion"
            },
            "organization": {
              "reference": "urn:uuid:2bf9f37c-d88b-4f86-ad5f-373c1416e04b"
            },
            "telecom": [
              {
                "system": "phone",
                "use": "work",
                "value": "0532567890"
              }
            ]
          },
          {
            "resourceType": "MedicationRequest",
            "id": "m4",
            "extension": [
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/prescription-type",
                  "code": "0101",
                  "display": "Primary Care Prescriber - Medical Prescriber"
                }
              },
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation",
                "extension": [
                  {
                    "url": "dispenseStatus",
                    "valueCoding": {
                      "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                      "code": "0008",
                      "display": "Item with dispenser"
                    }
                  }
                ]
              }
            ],
            "identifier": [
              {
                "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
              }
            ],
            "status": "completed",
            "intent": "order",
            "category": [
              {
                "coding": [
                  {
                    "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                    "code": "community",
                    "display": "Community"
                  }
                ]
              }
            ],
            "medicationCodeableConcept": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "324252006",
                  "display": "Azithromycin 250mg capsules"
                }
              ]
            },
            "subject": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/nhs-number",
                "value": "9449304130"
              },
              "display": "Ms Marisa Stacey Twitchett"
            },
            "authoredOn": "2022-10-21T13:47:00+00:00",
            "requester": {
              "identifier": {
                "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
                "value": "200102238987"
              }
            },
            "groupIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-number",
              "value": "24F5DA-A83008-7EFE6Z",
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
                  "valueIdentifier": {
                    "system": "https://fhir.nhs.uk/Id/prescription",
                    "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
                  }
                }
              ]
            },
            "courseOfTherapyType": {
              "coding": [
                {
                  "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
                  "code": "acute",
                  "display": "Short course (acute) therapy"
                }
              ]
            },
            "dosageInstruction": [
              {
                "text": "3 times a day for 10 days",
                "timing": {
                  "repeat": {
                    "frequency": 3,
                    "period": 1,
                    "periodUnit": "d"
                  }
                },
                "route": {
                  "coding": [
                    {
                      "system": "http://snomed.info/sct",
                      "code": "26643006",
                      "display": "Oral"
                    }
                  ]
                }
              }
            ],
            "dispenseRequest": {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
                  "valueCoding": {
                    "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                    "code": "P1"
                  }
                }
              ],
              "validityPeriod": {
                "start": "2022-10-21"
              },
              "quantity": {
                "value": 30,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              },
              "expectedSupplyDuration": {
                "value": 10,
                "unit": "day",
                "system": "http://unitsofmeasure.org",
                "code": "d"
              },
              "performer": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                  "value": "VNE51"
                }
              }
            },
            "substitution": {
              "allowedBoolean": false
            }
          }
        ],
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status",
              "code": "0003",
              "display": "With Dispenser - Active"
            }
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
            "value": "9a0aa5fd-8865-42f5-ad67-6c83d0944ee0"
          }
        ],
        "status": "completed",
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "324252006",
              "display": "Azithromycin 250mg capsules"
            }
          ]
        },
        "subject": {
          "type": "Patient",
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/nhs-number",
            "value": "9449304130"
          },
          "display": "Ms Marisa Stacey Twitchett"
        },
        "performer": [
          {
            "actor": {
              "reference": "#performer"
            }
          }
        ],
        "authorizingPrescription": [
          {
            "reference": "#m4"
          }
        ],
        "type": {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
              "code": "0005",
              "display": "Item fully dispensed"
            }
          ]
        },
        "quantity": {
          "value": 0,
          "unit": "tablet",
          "system": "http://snomed.info/sct",
          "code": "732936001"
        },
        "daysSupply": {
          "value": 10,
          "unit": "Day",
          "system": "http://unitsofmeasure.org",
          "code": "d"
        },
        "whenPrepared": "2022-11-27T11:45:00+00:00",
        "whenHandedOver": "2022-11-27T11:45:00+00:00",
        "dosageInstruction": [
          {
            "text": "20 tablets. One tablet to be taken two times a day",
            "timing": {
              "repeat": {
                "frequency": 2,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "fullUrl": "urn:uuid:2bf9f37c-d88b-4f86-ad5f-373c1416e04b",
      "resource": {
        "resourceType": "Organization",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ODS-OrganisationRelationships",
            "extension": [
              {
                "url": "reimbursementAuthority",
                "valueIdentifier": {
                  "system": "https://fhir.nhs.uk/Id/ods-organization-code",
                  "value": "T1450"
                }
              }
            ]
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "VNE51"
          }
        ],
        "address": [
          {
            "city": "West Yorkshire",
            "use": "work",
            "line": [
              "17 Austhorpe Road",
              "Crossgates",
              "Leeds"
            ],
            "postalCode": "LS15 8BA"
          }
        ],
        "active": true,
        "type": [
          {
            "coding": [
              {
                "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
                "code": "182",
                "display": "PHARMACY"
              }
            ]
          }
        ],
        "name": "The Simple Pharmacy",
        "telecom": [
          {
            "system": "phone",
            "use": "work",
            "value": "0113 3180277"
          }
        ]
      }
    }
  ]
}
```

<h3 id="send-dispense-notification-message-parameters">Parameters</h3>

|Name|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string(^Bearer\ [[:ascii:]]+$)|true|An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).|
|NHSD-Session-URID|header|string|false|The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).|
|X-Request-ID|header|string|true|A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.|
|X-Correlation-ID|header|string|false|An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.|
|body|body|object|true|none|
| resourceType|body|string|true|FHIR resource type.|
| id|body|string|false|ID for the Bundle.|
| timestamp|body|string(date-time)|false|none|
| identifier|body|object|false|The unique ID of the dispense notification.|
| system|body|string|false|none|
| value|body|string|false|none|
| type|body|string|true|The reason why a series of resources and objects are grouped together.|
| entry|body|[object]|true|none|
| fullUrl|body|string|false|none|
| resource|body|any|false|none|
| *anonymous*|body|object|false|none|
| resourceType|body|string|true|FHIR resource type.|
| extensions|body|[object]|false|none|
| url|body|string|false|none|
| valueIdentifier|body|object|false|none|
| system|body|string|false|none|
| value|body|string|false|none|
| eventCoding|body|object|true|The type of message event being generated.|
| system|body|string|false|codesystem URL for message events.|
| code|body|string|false|Code for the message event.|
| display|body|string|false|Display value accompanying the code for the message event.|
| sender|body|object|false|none|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| display|body|string|false|none|
| source|body|object|true|The organisation originating the message.|
| endpoint|body|string|false|ODS code of the organisation originating the message, expressed as a URN.|
| reason|body|object|false|none|
| coding|body|[object]|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| display|body|string|false|none|
| response|body|object|false|A reference to the release response that released the prescription being dispensed.|
| identifier|body|string|false|none|
| code|body|string|false|none|
| focus|body|[object]|false|none|
| reference|body|string|false|none|
| *anonymous*|body|object|false|An entity representing the original prescription in the context of a dispense notification.|
| resourceType|body|string|false|FHIR resource type.|
| contained|body|[oneOf]|false|none|
| *anonymous*|body|object|false|Role-specific details of the dispenser.|
| id|body|string|false|local identifier for the resource that can be referenced by other resources within the message.|
| resourceType|body|string|false|FHIR resource type.|
| identifier|body|[object]|true|Role-specific identifiers for the dispenser.|
| SDS Role Profile ID|body|object|false|The prescriber or dispenser's SDS Role Profile ID.|
| system|body|string|true|Codesystem URL for the SDS role profile ID.|
| value|body|string|true|SDS role profile ID.|
| NHS BSA Spurious Code|body|object|false|The prescriber or dispenser's spurious code.|
| system|body|string|true|Codesystem URL for the spurious code.|
| value|body|string|true|Spurious code.|
| code|body|[object]|true|The SDS job role code for a given dispenser.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the job role code.|
| code|body|string|true|The SDS job role code.|
| display|body|string|false|Display text for the SDS job role code.|
| practitioner|body|object|true|Professional identifiers for the dispenser.|
| identifier|body|object|false|none|
| system|body|string|false|none|
| value|body|string|false|none|
| display|body|string|false|none|
| organization|body|object|true|A reference to the dispensing organisation.|
| reference|body|string|false|A FHIR reference object.|
| telecom|body|object|true|none|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| *anonymous*|body|object|false|A line item on a prescription.|
| resourceType|body|string|true|FHIR resource type|
| id|body|string|false|none|
| extension|body|[oneOf]|true|FHIR extension array.|
| *anonymous*|body|object|false|The quantity of a controlled drug, expressed in words|
| url|body|string|false|URL of the extension definition.|
| extension|body|[oneOf]|false|FHIR extension array.|
| *anonymous*|body|object|false|object containing the quantity in words|
| url|body|string|false|URL for the controlled drug quantity|
| valueString|body|string|false|quantity expressed in words|
| *anonymous*|body|object|false|object containing the schedule of the controlled drug|
| url|body|string|false|URL for the controlled drug schedule|
| valueCoding|body|object|false|none|
| system|body|string|false|codesystem to identify the controlled drug schedule|
| code|body|string|false|a code to identify the controlled drug schedule|
| display|body|string|false|a human readable display to accompany the controlled drug schedule code|
| *anonymous*|body|object|false|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|body|string|false|URL of the extension definition.|
| valueReference|body|object|false|none|
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle.|
| display|body|string|false|The name of the responsible practitioner.|
| *anonymous*|body|object|false|none|
| url|body|string|false|none|
| extension|body|[oneOf]|false|none|
| *anonymous*|body|object|false|none|
| url|body|string|false|none|
| valueCoding|body|object|false|none|
| system|body|string|false|none|
| code|body|string(date)|false|none|
| display|body|string|false|none|
| *anonymous*|body|object|false|Only for eRD prescriptions.|
| url|body|string|false|none|
| valueDate|body|string(date-time)|false|none|
| *anonymous*|body|object|false|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|body|string|false|URL of the extension definition.|
| extension|body|[oneOf]|false|FHIR extension array.|
| *anonymous*|body|object|false|authorisationExpiryDate|
| url|body|string|false|The review date of the prescription.|
| valueDateTime|body|string(dateTime)|false|A date value|
| *anonymous*|body|object|false|numberOfPrescriptionsIssued|
| url|body|string|false|The current issue of the repeat or eRD prescription that is being released.|
| valueUnsignedInt|body|integer|false|none|
| *anonymous*|body|object|false|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| url|body|string|false|URL of the extension definition.|
| valueCoding|body|object|false|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|body|string|false|codesystem URL for the prescription type|
| code|body|string|false|The prescription type code|
| display|body|string|false|The display that accompanies the prescription type code|
| *anonymous*|body|object|false|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. |
| url|body|string|false|URL of the extension definition.|
| valueCodeableConcept|body|object|false|none|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for endorsements.|
| code|body|string|true|The endorsement code.|
| identifier|body|[object]|true|The unique identifier for this line item on the prescription.|
| system|body|string|true|Codesystem URL for the line item ID.|
| value|body|string|true|The unique ID for a given line item.|
| status|body|string|true|The status of a MedicationRequest object. |
| intent|body|string|true|The intent of a MedicationRequest object.|
| category|body|[object]|true|Identifies the context in which a prescription is created.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the prescription category.|
| code|body|string|true|Code for the prescription category.|
| display|body|string|false|Display value for the prescription category.|
| medicationCodeableConcept|body|object|true|The medication prescribed to the patient, represented as a VMP or AMP concept from the dm+d.|
| coding|body|[object]|false|none|
| system|body|string|true|SNOMED codesystem URL.|
| code|body|string|true|SNOMED code for the medication, as defined in the dm+d.|
| display|body|string|false|Human readable name for the medication.|
| subject|body|object|true|The patient the prescription is for.|
| identifier|body|object|false|none|
| system|body|string|false|none|
| value|body|string|false|none|
| display|body|string|false|none|
| authoredOn|body|string(date-time)|false|Reserved for future use and will currently be ignored. Do not use.|
| requester|body|object|true|Reference object to identify the author of a prescription.|
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|body|object|true|An object containing the short-form and long-form Prescription ID.|
| system|body|string|true|Codesystem URL for the short-form Prescription ID.|
| value|body|string|true|The short-form Prescription ID. |
| extension|body|[object]|false|FHIR extension array containing the long-form Prescription ID.|
| url|body|string|true|none|
| valueIdentifier|body|object|true|The long-form identifier of the prescription.|
| system|body|string|true|Codesystem URL for the long-form Prescription ID.|
| value|body|string|true|The long-form prescription ID.|
| courseOfTherapyType|body|object|true|Denotes whether a prescription is an acute, a repeat, or an eRD.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the prescription treatment type.|
| code|body|string|true|Code identifying the prescription treatment type.|
| display|body|string|false|Display value for the prescription treatment type.|
| dosageInstruction|body|[object]|true|The dosage instructions for a prescription. |
| sequence|body|integer(int32)|false|The order of the dosage instructions.|
| text|body|string|false|The dosage instructions expressed as text.|
| additionalInstruction|body|[object]|false|Supplemental instruction or warnings to the patient.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|SNOMED code for additional dosage instructions.|
| display|body|string|false|Additional dosage instructions (qualifier value).|
| patientInstruction|body|string|false|Patient or consumer oriented instructions.|
| timing|body|object|false|A structured expression of dose frequency.|
| repeat|body|object|false|The frequency and period over which the medication should be consumed.|
| boundsDuration|body|object|false|The bounds duration at which the medication should be consumed.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| frequency|body|number|false|The frequency at which the medication should be consumed within a given period.|
| period|body|integer(int32)|false|The period over which the frequency applies.|
| periodUnit|body|string|false|The fundamental unit of the period, defined in UCUM.|
| asNeeded|body|object|false|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), |
| asNeededBoolean|body|boolean|false|The asNeeded structure can be used to define a simple "as required" instructions.|
| asNeededCodeableConcept|body|object|false|The asNeeded structure can be used to define a simple "as required" instructions.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| version|body|string|false|Version of the system - if relevant.|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|Representation defined by the system.|
| userSelected|body|boolean|false|Indicates that this coding was chosen by a user directly |
| text|body|string|false|Plain text representation of the concept.|
| site|body|object|false|Body site to administer to.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|none|
| route|body|object|false|A structured expression of how the medication should be consumed.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| version|body|string|false|Version of the system - if relevant.|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|Representation defined by the system.|
| userSelected|body|boolean|false|Indicates that this coding was chosen by a user directly |
| method|body|object|false|Technique for administering medication.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|Valid SNOMED code identifying the technique for administering medication.|
| display|body|string|false|none|
| doseAndRate|body|[oneOf]|false|Amount of medication administered.|
| *anonymous*|body|object|false|none|
| type|body|object|false|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|body|[object]|false|none|
| system|body|string|true|SNOMED codesystem URL.|
| code|body|integer|true|Valid SNOMED code identifying how the medication should be consumed.|
| display|body|string|false|Human readable name for the method of consumption.|
| text|body|string|false|Plain text representation of the concept.|
| *anonymous*|body|object|false|none|
| dose|body|[object]|false|Amount of medication per dose.|
| doseRange|body|object|false|A dose that may be in a given low / high range.|
| low|body|object|false|The low limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, |
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| high|body|object|false|The high limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| doseQuantity|body|object|false|The amount of medication per dose, as a simple coded quantity.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rate|body|[object]|false|Amount of medication per unit of time.|
| rateRatio|body|object|false|Where the rate is expressed as coded numerator and denominator values.|
| numerator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| denominator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rateRange|body|object|false|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|body|object|false|The low limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| high|body|object|false|The high limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rateQuantity|body|object|false|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerPeriod|body|object|false|Upper limit on medication per unit of time.|
| numerator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| denominator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerAdministration|body|object|false|Used to define a maximum dose for a single administration.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerLifetime|body|object|false|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| note|body|[object]|false|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|body|string|false|Specific additional instructions for a prescription line item.|
| dispenseRequest|body|object|true|A FHIR object containing information relevant to how the prescription should be dispensed. |
| extension|body|[object]|true|FHIR extension array.|
| url|body|string|false|Extension URL for DM-PerformerSiteType.|
| valueCoding|body|object|false|none|
| system|body|string|false|Codesystem URL to hold the nomination.|
| code|body|string|false|The nomination applied to a prescription.|
| numberOfRepeatsAllowed|body|integer|false|For eRD and repeat prescriptions only.|
| validityPeriod|body|object|false|The start and end dates of a prescription.|
| start|body|string(date)|false|Start date of an issue; sometimes same as prescription's start date.|
| end|body|string(date)|false|End date of an issue; capped at 12 months and cannot exceed the prescription's end date.|
| expectedSupplyDuration|body|object|false|For eRD prescriptions only. |
| value|body|integer|false|The number of days each issue in an eRD prescription is valid for.|
| unit|body|string|false|The UCUM unit of measure display for days.|
| system|body|string|false|Codesystem URL for UCUM.|
| code|body|string|false|The UCUM unit of measure code for days.|
| performer|body|object|false|For nominated prescriptions only, including one-off nominations.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| quantity|body|object|true|The quantity of the drug prescribed to the patient.|
| value|body|number|false|The numeric value of the quantity being prescribed.|
| unit|body|string|false|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|body|string|false|SNOMED codesystem URL.|
| code|body|integer|false|The dm+d code associated with a given unit of measure.|
| substitution|body|object|true|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|body|boolean|false|none|
| basedOn|body|[object]|false|For eRD and repeat prescriptions only. |
| extension|body|[object]|false|FHIR extension array.|
| url|body|string|false|extension URL for `EPS-RepeatInformation`.|
| extension|body|[oneOf]|false|array containing the current issue and total number of issues that the prescription is valid for.|
| *anonymous*|body|object|false|none|
| url|body|string|false|The current issue of the prescription. |
| valueInteger|body|integer|false|none|
| *anonymous*|body|object|false|none|
| url|body|string|false|The total number of issues the prescription is valid for. |
| valueInteger|body|integer|false|none|
| extension|body|[object]|false|FHIR extension array.|
| url|body|string|false|Codesystem URL for the prescription status extension definition.|
| valueCoding|body|object|false|none|
| system|body|string|false|Codesystem URL for the prescription status.|
| code|body|string|false|The prescription status code.|
| display|body|string|false|A human readable representation of the prescription status code.|
| identifier|body|[object]|false|Unique identifier for this record of dispensing against the line item.|
| system|body|string|false|Codesystem URL for the unique identifier.|
| value|body|string|false|Unique identifier.|
| status|body|string|false|The status of the individual medication item.|
| statusReasonCodeableConcept|body|object|false|Where a medication item is not dispensed, the reason it was not dispensed.|
| coding|body|[object]|false|none|
| system|body|string|false|Status reason codesystem URL.|
| code|body|string|false|Status reason code representing why the medication was not dispensed.|
| display|body|string|false|Human readable representation of the code.|
| medicationCodeableConcept|body|object|true|The actual drug dispensed to the patient.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL.|
| code|body|string|false|SNOMED code for the medication, as defined in the dm+d.|
| display|body|string|false|Human readable name for the medication.|
| subject|body|object|true|The patient that the medication was dispensed (or not dispensed) to.|
| reference|body|string|false|A reference to a Patient resource within the Dispense Notification.|
| identifier|body|object|false|none|
| use|body|string|false|The purpose of this identifier.|
| system|body|string|false|Establishes the namespace for the value - that is, a URL that describes a set of values that are unique.|
| value|body|string|false|The patient's NHS number.|
| display|body|string|false|none|
| performer|body|[object]|false|Array containing a reference to the contained PractitionerRole resource, representing the dispenser who sent the dispense notification.|
| actor|body|object|false|none|
| reference|body|string|false|none|
| authorizingPrescription|body|[object]|false|A reference to the contained MedicationRequest resource representing the prescription that the dispense notification is being sent against.|
| reference|body|string|false|Literal reference, relative, internal or absolute URL.|
| type|body|object|false|none|
| coding|body|[object]|false|The intended status of the prescription line item as a result of the dispense notification.|
| system|body|string|false|none|
| code|body|string|false|none|
| display|body|string|false|none|
| quantity|body|object|false|The amount of medication that has been dispensed. Includes unit of measure.|
| value|body|number|false|The value of the measured amount. The value includes an implicit precision in the presentation of the value.|
| unit|body|string|false|A human-readable form of the unit.|
| system|body|string|false|The identification of the system that provides the coded form of the unit.|
| code|body|string|false|A computer processable form of the unit in some unit representation system.|
| whenHandedOver|body|string(date-time)|false|The time at which the medication was dispensed (or not dispensed) to the patient.|
| dosageInstruction|body|[object]|false|Instructions about how the drug should be administered, provided by the dispenser.|
| sequence|body|integer(int32)|false|The order of the dosage instructions.|
| text|body|string|false|The dosage instructions expressed as text.|
| additionalInstruction|body|[object]|false|Supplemental instruction or warnings to the patient.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|SNOMED code for additional dosage instructions.|
| display|body|string|false|Additional dosage instructions (qualifier value).|
| patientInstruction|body|string|false|Patient or consumer oriented instructions.|
| timing|body|object|false|A structured expression of dose frequency.|
| repeat|body|object|false|The frequency and period over which the medication should be consumed.|
| boundsDuration|body|object|false|The bounds duration at which the medication should be consumed.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| frequency|body|number|false|The frequency at which the medication should be consumed within a given period.|
| period|body|integer(int32)|false|The period over which the frequency applies.|
| periodUnit|body|string|false|The fundamental unit of the period, defined in UCUM.|
| asNeeded|body|object|false|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), |
| asNeededBoolean|body|boolean|false|The asNeeded structure can be used to define a simple "as required" instructions.|
| asNeededCodeableConcept|body|object|false|The asNeeded structure can be used to define a simple "as required" instructions.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| version|body|string|false|Version of the system - if relevant.|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|Representation defined by the system.|
| userSelected|body|boolean|false|Indicates that this coding was chosen by a user directly |
| text|body|string|false|Plain text representation of the concept.|
| site|body|object|false|Body site to administer to.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|none|
| route|body|object|false|A structured expression of how the medication should be consumed.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| version|body|string|false|Version of the system - if relevant.|
| code|body|string|false|Valid SNOMED code identifying where the medication first enters the body.|
| display|body|string|false|Representation defined by the system.|
| userSelected|body|boolean|false|Indicates that this coding was chosen by a user directly |
| method|body|object|false|Technique for administering medication.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|Valid SNOMED code identifying the technique for administering medication.|
| display|body|string|false|none|
| doseAndRate|body|[oneOf]|false|Amount of medication administered.|
| *anonymous*|body|object|false|none|
| type|body|object|false|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|body|[object]|false|none|
| system|body|string|true|SNOMED codesystem URL.|
| code|body|integer|true|Valid SNOMED code identifying how the medication should be consumed.|
| display|body|string|false|Human readable name for the method of consumption.|
| text|body|string|false|Plain text representation of the concept.|
| *anonymous*|body|object|false|none|
| dose|body|[object]|false|Amount of medication per dose.|
| doseRange|body|object|false|A dose that may be in a given low / high range.|
| low|body|object|false|The low limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, |
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| high|body|object|false|The high limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| doseQuantity|body|object|false|The amount of medication per dose, as a simple coded quantity.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rate|body|[object]|false|Amount of medication per unit of time.|
| rateRatio|body|object|false|Where the rate is expressed as coded numerator and denominator values.|
| numerator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| denominator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rateRange|body|object|false|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|body|object|false|The low limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| high|body|object|false|The high limit. The boundary is inclusive.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| rateQuantity|body|object|false|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerPeriod|body|object|false|Upper limit on medication per unit of time.|
| numerator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| denominator|body|object|false|none|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerAdministration|body|object|false|Used to define a maximum dose for a single administration.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| maxDosePerLifetime|body|object|false|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|body|number|false|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.|
| unit|body|string|false|none|
| system|body|string|false|none|
| code|body|string|false|none|
| *anonymous*|body|object|false|Details of the dispensing organisation.|
| id|body|string|false|local identifier for the resource that can be referenced by other resources within the message.|
| resourceType|body|string|false|FHIR resource type.|
| extension|body|[object]|false|a FHIR extension array.|
| url|body|string|true|URL of the extension definition.|
| extension|body|[object]|true|FHIR extension array.|
| url|body|string|true|none|
| valueIdentifier|body|object|true|none|
| system|body|string|false|none|
| value|body|string|false|none|
| identifier|body|[object]|false|An array containing the ODS code of the organisation.|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| address|body|[object]|true|Organisation address.|
| use|body|string|false|The purpose of the address.|
| type|body|string|false|The type of address.|
| line|body|[string]|false|All lines of the address except the city, district, and postal code.|
| city|body|string|false|The city of the address.|
| district|body|string|false|The district of the address.|
| postalCode|body|string|false|The postal code of the address.|
| active|body|boolean|false|none|
| type|body|[object]|false|none|
| coding|body|[object]|true|none|
| system|body|string|true|none|
| code|body|string|true|none|
| display|body|string|false|none|
| name|body|string|true|Organisation name.|
| telecom|body|[object]|true|The telephone number associated with the organisation.|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|

#### Detailed descriptions

**Authorization**: An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).

Required in all environments except sandbox.

**NHSD-Session-URID**: The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).

If you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, see [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) for guidance.

This field is optional.

**X-Request-ID**: A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.

Must be a universally unique identifier (UUID) (ideally version 4).

Mirrored back in a response header.

If you re-send a failed request, use the same value in this header.

Required in all environments except sandbox.

**X-Correlation-ID**: An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.

Mirrored back in a response header.

** *anonymous***: Only for eRD prescriptions.
The date the prescription was previously released from Spine.

** url**: The review date of the prescription.
This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.

** *anonymous***: The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.

For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.

** *anonymous***: Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. 

View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).

** status**: The status of a MedicationRequest object. 
This must be consistent across all MedicationRequests in a Bundle.

** intent**: The intent of a MedicationRequest object.
This must be consistent across all MedicationRequests in a Bundle.

** category**: Identifies the context in which a prescription is created.
For example, a prescription created within primary care will be categorised as "community."
Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."
This must be consistent across all MedicationRequests in a Bundle.

** value**: The short-form Prescription ID. 
An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). 
It is to be formatted as follows:
  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.
  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  
  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.
  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.

** code**: Code identifying the prescription treatment type.
* acute: acute prescriptions
* continuous: repeat prescriptions
* continuous-repeat-dispensing: eRD prescriptions

** dosageInstruction**: The dosage instructions for a prescription. 
These must be expressed as both structured dose and text.

** sequence**: The order of the dosage instructions.
Indicates the order in which the dosage instructions should be applied or interpreted.

** text**: The dosage instructions expressed as text.
Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.
Instructions with the same sequence number will be separated by ", and"
Instructions with different sequence numbers will be separated by ", then"
Please do not use full stops or commas at the end of any instructions provided.

** additionalInstruction**: Supplemental instruction or warnings to the patient.
E.g. "with meals", "may cause drowsiness".

** boundsDuration**: The bounds duration at which the medication should be consumed.
E.g. "4.5" for 4 & 1/2 days.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** frequency**: The frequency at which the medication should be consumed within a given period.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.
E.g. "4" for 4 times over a given period.

** period**: The period over which the frequency applies.
e.g. "1" for 1 day.

** asNeeded**: Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), 
or it indicates the precondition for taking the Medication (CodeableConcept).

** asNeededBoolean**: The asNeeded structure can be used to define a simple "as required" instructions.
The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.

** asNeededCodeableConcept**: The asNeeded structure can be used to define a simple "as required" instructions.
The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.

** userSelected**: Indicates that this coding was chosen by a user directly 
- e.g. off a pick list of available items (codes or displays).

** userSelected**: Indicates that this coding was chosen by a user directly 
- e.g. off a pick list of available items (codes or displays).

** value**: A rational number with implicit precision, 
to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something 
like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** rateQuantity**: Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent
to defining the rate using the more complex rateRatio structure.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** dispenseRequest**: A FHIR object containing information relevant to how the prescription should be dispensed. 
These values should be consistent across all MedicationRequests in a Bundle.

** code**: The nomination applied to a prescription.
This could either be a nomination for:
  * A dispensing contractor (P1)
  * A dispensing appliance contractor (P2)
  * A dispensing doctor (P3)
Or a non-nominated prescription (0004).

** numberOfRepeatsAllowed**: For eRD and repeat prescriptions only.
The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. 
For repeat prescriptions, this value must always default to 0.

** end**: End date of an issue; capped at 12 months and cannot exceed the prescription's end date.
Overall validity of the drug.

** expectedSupplyDuration**: For eRD prescriptions only. 
Duration of each issue in days; defaults to 28.

** performer**: For nominated prescriptions only, including one-off nominations.
The ODS code of the nominated pharmacy that a prescription is going to.

** value**: The numeric value of the quantity being prescribed.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** basedOn**: For eRD and repeat prescriptions only. 
The current issue and the total number of issues that a prescription is valid for.

** url**: The current issue of the prescription. 
This value will be decremented by 1.
For example, if the current issue is the first issue, then the `numberOfRepeatsIssued` value will be 0.

** url**: The total number of issues the prescription is valid for. 
This value will be decremented by 1. 
For example, if a prescription is valid for 6 issues, then the `numberOfRepeatsAllowed` value will be 5.

** status**: The status of the individual medication item.
This will normally indicate whether the medication has been picked up or not.

** medicationCodeableConcept**: The actual drug dispensed to the patient.
This must be represented as a VMP or AMP concept from the dm+d.

** value**: The value of the measured amount. The value includes an implicit precision in the presentation of the value.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** dosageInstruction**: Instructions about how the drug should be administered, provided by the dispenser.
These are often supplementary to the dosage instructions on the original prescription.
For example, the dispenser may provide crucial information about drug interactions within the supply instructions,
e.g. "do not consume alcohol when taking this <AMPP concept> medication."
These must be expressed as both structured dose and text.

** sequence**: The order of the dosage instructions.
Indicates the order in which the dosage instructions should be applied or interpreted.

** text**: The dosage instructions expressed as text.
Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.
Instructions with the same sequence number will be separated by ", and"
Instructions with different sequence numbers will be separated by ", then"
Please do not use full stops or commas at the end of any instructions provided.

** additionalInstruction**: Supplemental instruction or warnings to the patient.
E.g. "with meals", "may cause drowsiness".

** boundsDuration**: The bounds duration at which the medication should be consumed.
E.g. "4.5" for 4 & 1/2 days.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** frequency**: The frequency at which the medication should be consumed within a given period.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.
E.g. "4" for 4 times over a given period.

** period**: The period over which the frequency applies.
e.g. "1" for 1 day.

** asNeeded**: Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), 
or it indicates the precondition for taking the Medication (CodeableConcept).

** asNeededBoolean**: The asNeeded structure can be used to define a simple "as required" instructions.
The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.

** asNeededCodeableConcept**: The asNeeded structure can be used to define a simple "as required" instructions.
The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.

** userSelected**: Indicates that this coding was chosen by a user directly 
- e.g. off a pick list of available items (codes or displays).

** userSelected**: Indicates that this coding was chosen by a user directly 
- e.g. off a pick list of available items (codes or displays).

** value**: A rational number with implicit precision, 
to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something 
like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** rateQuantity**: Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent
to defining the rate using the more complex rateRatio structure.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** value**: A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** line**: All lines of the address except the city, district, and postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

#### Enumerated Values

|Parameter|Value|
|---|---|
| resourceType|Bundle|
| system|https://tools.ietf.org/html/rfc4122|
| type|message|
| resourceType|MessageHeader|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-replacementOf|
| system|https://tools.ietf.org/html/rfc4122|
| system|https://fhir.nhs.uk/CodeSystem/message-event|
| code|dispense-notification|
| display|Dispense Notification|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/CodeSystem/message-reason-prescription|
| code|notification|
| display|Notification|
| resourceType|MedicationDispense|
| resourceType|PractitionerRole|
| system|https://fhir.nhs.uk/Id/sds-role-profile-id|
| system|https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code|
| system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
| system|https://fhir.nhs.uk/Id/sds-user-id|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| resourceType|MedicationRequest|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
| url|quantityWords|
| url|schedule|
| system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
| code|CD1|
| code|CD2|
| code|CD3|
| code|CD4|
| code|CD5|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-EPS-DispensingInformation|
| url|dispenseStatus|
| system|https://fhir.nhs.uk/CodeSystem/medicationdispense-type|
| url|dateLastDispensed|
| url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
| url|authorisationExpiryDate|
| url|numberOfPrescriptionsIssued|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
| system|https://fhir.nhs.uk/CodeSystem/prescription-type|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
| system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
| code|ACBS|
| code|AF|
| code|CC|
| code|FS|
| code|SLS|
| system|https://fhir.nhs.uk/Id/prescription-order-item-number|
| status|active|
| status|cancelled|
| status|completed|
| intent|order|
| intent|original-order|
| intent|instance-order|
| system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
| code|inpatient|
| code|outpatient|
| code|community|
| code|discharge|
| display|Inpatient|
| display|Outpatient|
| display|Community|
| display|Discharge|
| system|http://snomed.info/sct|
| system|https://fhir.nhs.uk/Id/nhs-number|
| system|https://fhir.nhs.uk/Id/prescription-order-number|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
| system|https://fhir.nhs.uk/Id/prescription|
| system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
| code|acute|
| code|continuous|
| code|continuous-repeat-dispensing|
| display|Short course (acute) therapy|
| display|Continuous long term therapy|
| display|Continuous long term (repeat dispensing)|
| system|http://snomed.info/sct|
| asNeededBoolean|true|
| system|http://snomed.info/sct|
| userSelected|true|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| userSelected|true|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
| system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
| code|P1|
| code|P2|
| code|P3|
| code|0004|
| system|http://unitsofmeasure.org|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|http://snomed.info/sct|
| allowedBoolean|false|
| url|numberOfRepeatsIssued|
| url|numberOfRepeatsAllowed|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus|
| system|https://fhir.nhs.uk/CodeSystem/EPS-task-business-status|
| code|0003|
| code|0006|
| code|0007|
| display|With Dispenser - Active|
| display|Dispensed|
| display|Not Dispensed|
| system|https://fhir.nhs.uk/Id/prescription-dispense-item-number|
| status|preparation|
| status|in-progress|
| status|cancelled|
| status|on-hold|
| status|completed|
| status|entered-in-error|
| status|stopped|
| status|declined|
| status|unknown|
| system|https://fhir.nhs.uk/CodeSystem/medicationdispense-status-reason|
| code|0001|
| code|0002|
| code|0003|
| code|0004|
| code|0005|
| code|0006|
| code|0007|
| code|0008|
| code|0009|
| code|0010|
| code|0011|
| display|Not required as instructed by the patient|
| display|Clinically unsuitable|
| display|Owings note issued to patient|
| display|Prescription cancellation|
| display|Prescription cancellation due to death|
| display|Illegal NHS prescription|
| display|Prescribed out of scope item|
| display|Item or prescription expired|
| display|Not allowed on FP10|
| display|Patient did not collect medication|
| display|Patient purchased medication over the counter|
| system|http://snomed.info/sct|
| use|official|
| use|old|
| use|secondary|
| use|temp|
| use|usual|
| system|https://fhir.nhs.uk/CodeSystem/medicationdispense-type|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| asNeededBoolean|true|
| system|http://snomed.info/sct|
| userSelected|true|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| userSelected|true|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| resourceType|Organization|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-ODS-OrganisationRelationships|
| url|reimbursementAuthority|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| use|home|
| use|work|
| use|billing|
| use|temp|
| type|postal|
| type|physical|
| type|both|
| system|https://fhir.nhs.uk/CodeSystem/organisation-role|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|

> Example responses

> A successful response to an acute, primary care dispense notification request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a repeat, primary care dispense notification request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a eRD, primary care dispense notification request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> An error response.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "error",
      "code": "value",
      "details": {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
            "code": "MISSING_FIELD",
            "display": "ResourceType Bundle must contain 'entry' field"
          }
        ]
      }
    }
  ]
}
```

<h3 id="send-dispense-notification-message-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Successfully submitted.|Inline|
|4XX|Unknown|Invalid request.|Inline|

<h3 id="send-dispense-notification-message-responseschema">Response Schema</h3>

Status Code **200**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

Status Code **4XX**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

<aside class="success">
This operation does not require authentication
</aside>

## withdraw

<a id="opIdwithdraw"></a>

> Code samples

```shell
# You can also use wget
curl -X POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#withdraw \
  -H 'Content-Type: application/fhir+json' \
  -H 'Accept: application/fhir+json' \
  -H 'Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM' \
  -H 'NHSD-Session-URID: 555254240100' \
  -H 'X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068' \
  -H 'X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'

```

```http
POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#withdraw HTTP/1.1
Host: sandbox.api.service.nhs.uk
Content-Type: application/fhir+json
Accept: application/fhir+json
Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
NHSD-Session-URID: 555254240100
X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068
X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA

```

```javascript
const inputBody = '{
  "resourceType": "Task",
  "id": "6a2624a2-321b-470e-91a6-8ae7a065e2f0",
  "contained": [
    {
      "resourceType": "PractitionerRole",
      "id": "requester",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
          "value": "641555508105"
        }
      ],
      "code": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
              "code": "S0030:G0100:R0620"
            }
          ]
        }
      ],
      "practitioner": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/sds-user-id",
          "value": "7654321"
        },
        "display": "Mrs Anna Kanfeld"
      },
      "organization": {
        "reference": "#organisation"
      },
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "01234567890"
        }
      ]
    },
    {
      "resourceType": "Organization",
      "id": "organisation",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "VNE51"
        }
      ],
      "address": [
        {
          "city": "West Yorkshire",
          "use": "work",
          "line": [
            "17 Austhorpe Road",
            "Crossgates",
            "Leeds"
          ],
          "postalCode": "LS15 8BA"
        }
      ],
      "active": true,
      "type": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
              "code": "182",
              "display": "PHARMACY"
            }
          ]
        }
      ],
      "name": "The Simple Pharmacy",
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "0113 3180277"
        }
      ]
    }
  ],
  "extension": [
    {
      "url": "https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent",
      "valueReference": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/sds-user-id",
          "value": "7654321"
        }
      }
    }
  ],
  "identifier": [
    {
      "system": "https://tools.ietf.org/html/rfc4122",
      "value": "5AC84C11-DB8B-44DA-8FCF-8980B3D13596"
    }
  ],
  "groupIdentifier": {
    "system": "https://fhir.nhs.uk/Id/prescription-order-number",
    "value": "24F5DA-A83008-7EFE6Z"
  },
  "status": "in-progress",
  "statusReason": {
    "coding": [
      {
        "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-withdraw-reason",
        "code": "MU",
        "display": "Medication Update"
      }
    ]
  },
  "intent": "order",
  "code": {
    "coding": [
      {
        "system": "http://hl7.org/fhir/CodeSystem/task-code",
        "code": "abort",
        "display": "Mark the focal resource as no longer active"
      }
    ]
  },
  "focus": {
    "type": "Bundle",
    "identifier": {
      "system": "https://tools.ietf.org/html/rfc4122",
      "value": "a14d4fc1-82a2-4a82-aae2-50e212e7b907"
    }
  },
  "for": {
    "identifier": {
      "system": "https://fhir.nhs.uk/Id/nhs-number",
      "value": "9449304130"
    }
  },
  "authoredOn": "2022-11-29T11:45:00+00:00",
  "requester": {
    "reference": "#requester"
  },
  "owner": {
    "identifier": {
      "system": "https://fhir.nhs.uk/Id/ods-organization-code",
      "value": "VNE51"
    }
  },
  "reasonCode": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "373784005",
        "display": "Dispensing medication"
      }
    ]
  }
}';
const headers = {
  'Content-Type':'application/fhir+json',
  'Accept':'application/fhir+json',
  'Authorization':'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID':'555254240100',
  'X-Request-ID':'60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID':'11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
};

fetch('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#withdraw',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/fhir+json',
  'Accept' => 'application/fhir+json',
  'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID' => '555254240100',
  'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

result = RestClient.post 'https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#withdraw',
  params: {
  }, headers: headers

p JSON.parse(result)

```

```python
import requests
headers = {
  'Content-Type': 'application/fhir+json',
  'Accept': 'application/fhir+json',
  'Authorization': 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID': '555254240100',
  'X-Request-ID': '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID': '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

r = requests.post('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#withdraw', headers = headers)

print(r.json())

```

```php
<?php

require 'vendor/autoload.php';

$headers = array(
    'Content-Type' => 'application/fhir+json',
    'Accept' => 'application/fhir+json',
    'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
    'NHSD-Session-URID' => '555254240100',
    'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
    'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('POST','https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#withdraw', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

```

```java
URL obj = new URL("https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#withdraw");
HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");
int responseCode = con.getResponseCode();
BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();
System.out.println(response.toString());

```

```go
package main

import (
       "bytes"
       "net/http"
)

func main() {

    headers := map[string][]string{
        "Content-Type": []string{"application/fhir+json"},
        "Accept": []string{"application/fhir+json"},
        "Authorization": []string{"Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"},
        "NHSD-Session-URID": []string{"555254240100"},
        "X-Request-ID": []string{"60E0B220-8136-4CA5-AE46-1D97EF59D068"},
        "X-Correlation-ID": []string{"11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"},
    }

    data := bytes.NewBuffer([]byte{jsonReq})
    req, err := http.NewRequest("POST", "https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Task#withdraw", data)
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}

```

`POST /FHIR/R4/Task#withdraw`

*Withdraw a dispense notification - Dispensing*

## Overview
Use this endpoint to withdraw a dispense notification, for example in the case that a prescription was marked as dispensed erroneously.

The effect of calling this endpoint depends on the Task status.
To withdraw a dispense notification from EPS, send a Task with a status of `in-progress`.
For more information on how to create these messages, see [NHSDigital-Task](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/Profiles/NHSDigital-Task).

Note that the `#withdraw` in the URL has been added to distinguish this from the other operations which
can be performed using the `Task` endpoint. It is not required in requests to the API.

This interaction is only available in the sandbox environment.

> Body parameter

> A valid acute, primary care withdraw request.

```json
{
  "resourceType": "Task",
  "id": "6a2624a2-321b-470e-91a6-8ae7a065e2f0",
  "contained": [
    {
      "resourceType": "PractitionerRole",
      "id": "requester",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
          "value": "641555508105"
        }
      ],
      "code": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
              "code": "S0030:G0100:R0620"
            }
          ]
        }
      ],
      "practitioner": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/sds-user-id",
          "value": "7654321"
        },
        "display": "Mrs Anna Kanfeld"
      },
      "organization": {
        "reference": "#organisation"
      },
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "01234567890"
        }
      ]
    },
    {
      "resourceType": "Organization",
      "id": "organisation",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "VNE51"
        }
      ],
      "address": [
        {
          "city": "West Yorkshire",
          "use": "work",
          "line": [
            "17 Austhorpe Road",
            "Crossgates",
            "Leeds"
          ],
          "postalCode": "LS15 8BA"
        }
      ],
      "active": true,
      "type": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
              "code": "182",
              "display": "PHARMACY"
            }
          ]
        }
      ],
      "name": "The Simple Pharmacy",
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "0113 3180277"
        }
      ]
    }
  ],
  "extension": [
    {
      "url": "https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent",
      "valueReference": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/sds-user-id",
          "value": "7654321"
        }
      }
    }
  ],
  "identifier": [
    {
      "system": "https://tools.ietf.org/html/rfc4122",
      "value": "5AC84C11-DB8B-44DA-8FCF-8980B3D13596"
    }
  ],
  "groupIdentifier": {
    "system": "https://fhir.nhs.uk/Id/prescription-order-number",
    "value": "24F5DA-A83008-7EFE6Z"
  },
  "status": "in-progress",
  "statusReason": {
    "coding": [
      {
        "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-withdraw-reason",
        "code": "MU",
        "display": "Medication Update"
      }
    ]
  },
  "intent": "order",
  "code": {
    "coding": [
      {
        "system": "http://hl7.org/fhir/CodeSystem/task-code",
        "code": "abort",
        "display": "Mark the focal resource as no longer active"
      }
    ]
  },
  "focus": {
    "type": "Bundle",
    "identifier": {
      "system": "https://tools.ietf.org/html/rfc4122",
      "value": "a14d4fc1-82a2-4a82-aae2-50e212e7b907"
    }
  },
  "for": {
    "identifier": {
      "system": "https://fhir.nhs.uk/Id/nhs-number",
      "value": "9449304130"
    }
  },
  "authoredOn": "2022-11-29T11:45:00+00:00",
  "requester": {
    "reference": "#requester"
  },
  "owner": {
    "identifier": {
      "system": "https://fhir.nhs.uk/Id/ods-organization-code",
      "value": "VNE51"
    }
  },
  "reasonCode": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "373784005",
        "display": "Dispensing medication"
      }
    ]
  }
}
```

<h3 id="withdraw-parameters">Parameters</h3>

|Name|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string(^Bearer\ [[:ascii:]]+$)|true|An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).|
|NHSD-Session-URID|header|string|false|The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).|
|X-Request-ID|header|string|true|A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.|
|X-Correlation-ID|header|string|false|An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.|
|body|body|object|true|none|
| resourceType|body|string|false|none|
| id|body|string|false|none|
| contained|body|[oneOf]|false|none|
| *anonymous*|body|object|false|The dispenser returning the prescription.|
| resourceType|body|string|false|FHIR resource type.|
| id|body|string|false|none|
| identifier|body|[object]|false|An array containing role-specific identifiers for the dispenser.|
| system|body|string|true|Codesystem URL for the SDS role profile ID.|
| value|body|string|true|SDS role profile ID.|
| practitioner|body|object|true|An identifier for a Practitioner resource, for a given dispenser.|
| identifier|body|object|false|The prescriber or dispenser's SDS User Identifier.|
| system|body|string|true|Codesystem URL for the SDS User Identifier.|
| value|body|string|true|SDS User Identifier.|
| display|body|string|false|none|
| organization|body|object|false|none|
| reference|body|string|false|none|
| code|body|[object]|false|The SDS job role code for a given dispenser.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the job role code.|
| code|body|string|true|The SDS job role code.|
| display|body|string|false|Display text for the SDS job role code.|
| telecom|body|object|false|none|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| *anonymous*|body|object|false|Details of the dispensing organisation.|
| id|body|string|false|local identifier for the resource that can be referenced by other resources within the message.|
| resourceType|body|string|false|FHIR resource type.|
| extension|body|[object]|false|a FHIR extension array.|
| url|body|string|true|URL of the extension definition.|
| extension|body|[object]|true|FHIR extension array.|
| url|body|string|true|none|
| valueIdentifier|body|object|true|none|
| system|body|string|false|none|
| value|body|string|false|none|
| identifier|body|[object]|false|An array containing the ODS code of the organisation.|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| address|body|[object]|true|Organisation address.|
| use|body|string|false|The purpose of the address.|
| type|body|string|false|The type of address.|
| line|body|[string]|false|All lines of the address except the city, district, and postal code.|
| city|body|string|false|The city of the address.|
| district|body|string|false|The district of the address.|
| postalCode|body|string|false|The postal code of the address.|
| active|body|boolean|false|none|
| type|body|[object]|false|none|
| coding|body|[object]|true|none|
| system|body|string|true|none|
| code|body|string|true|none|
| display|body|string|false|none|
| name|body|string|true|Organisation name.|
| telecom|body|[object]|true|The telephone number associated with the organisation.|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| extension|body|[object]|false|FHIR extension array to hold Repeat Information.|
| url|body|string|false|URL of the extension definition.|
| extension|body|[oneOf]|false|FHIR extension array.|
| *anonymous*|body|object|false|The total number of issues a given prescription is authorised for.|
| url|body|string|false|none|
| valueInteger|body|integer|false|none|
| *anonymous*|body|object|false|The current, active issue of the prescription.|
| url|body|string|false|none|
| valueInteger|body|integer|false|none|
| identifier|body|[object]|false|The unique identifier for the Withdraw Request.|
| system|body|string|true|Codesystem URL for the RFC4122 unqiue identifier.|
| value|body|string|true|RFC4122 unique identifier.|
| status|body|string|false|none|
| statusReason|body|object|false|The reason the prescription is being withdrawn, which must be coded as per the Withdraw Reason vocabulary.|
| coding|body|[object]|false|none|
| system|body|string|true|none|
| code|body|string|true|none|
| display|body|string|false|none|
| intent|body|string|false|The intent of the Medication Requests being withdrawn.|
| code|body|object|false|none|
| coding|body|[object]|false|none|
| system|body|string|true|none|
| code|body|string|true|none|
| display|body|string|false|none|
| groupIdentifier|body|object|false|The prescription id that the DN was originally submitted against.|
| system|body|string|true|Codesystem URL for the short-form Prescription ID.|
| value|body|string|true|The short-form Prescription ID. |
| extension|body|[object]|false|FHIR extension array containing the long-form Prescription ID.|
| url|body|string|true|none|
| valueIdentifier|body|object|true|The long-form identifier of the prescription.|
| system|body|string|true|Codesystem URL for the long-form Prescription ID.|
| value|body|string|true|The long-form prescription ID.|
| focus|body|object|false|The release response which released the DN identifier that is currently being withdrawn.|
| identifier|body|object|false|An RFC4122 unique identifier.|
| system|body|string|true|Codesystem URL for the RFC4122 unqiue identifier.|
| value|body|string|true|RFC4122 unique identifier.|
| for|body|object|false|none|
| identifier|body|object|false|none|
| system|body|string(url)|true|FHIR codesystem URL for NHS numbers.|
| value|body|string|true|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.|
| authoredOn|body|string(date-time)|false|The time the dispense notification is being withdrawn from Spine|
| owner|body|object|false|Who is responsible for actioning the Withdraw request.|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| requester|body|object|false|Reference object to identify the author of a prescription. |
| reference|body|string|false|A reference to a PractitionerRole resource within the Bundle|
| reasonCode|body|object|false|The reason for the task, should only be included if there is no focus or differs from the reason indicated in the focus.|
| coding|body|[object]|false|none|
| system|body|string|true|none|
| code|body|string|true|none|
| display|body|string|false|none|

#### Detailed descriptions

**Authorization**: An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).

Required in all environments except sandbox.

**NHSD-Session-URID**: The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).

If you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, see [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) for guidance.

This field is optional.

**X-Request-ID**: A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.

Must be a universally unique identifier (UUID) (ideally version 4).

Mirrored back in a response header.

If you re-send a failed request, use the same value in this header.

Required in all environments except sandbox.

**X-Correlation-ID**: An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.

Mirrored back in a response header.

** line**: All lines of the address except the city, district, and postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

** extension**: FHIR extension array to hold Repeat Information.
This identifies the instance of the eRD prescription that the DN was originally submitted against.
Given that all eRD prescriptions have the same prescription ID,
the combination of Prescription ID and repeat number identifies the issue that the DN was originally submitted against.

** value**: The short-form Prescription ID. 
An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). 
It is to be formatted as follows:
  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.
  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  
  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.
  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.

** value**: The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.
Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).

** requester**: Reference object to identify the author of a prescription. 
A PractitionerRole resource within the Bundle must be referenced.

#### Enumerated Values

|Parameter|Value|
|---|---|
| resourceType|Task|
| resourceType|PractitionerRole|
| system|https://fhir.nhs.uk/Id/sds-role-profile-id|
| system|https://fhir.nhs.uk/Id/sds-user-id|
| system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| resourceType|Organization|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-ODS-OrganisationRelationships|
| url|reimbursementAuthority|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| use|home|
| use|work|
| use|billing|
| use|temp|
| type|postal|
| type|physical|
| type|both|
| system|https://fhir.nhs.uk/CodeSystem/organisation-role|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation|
| url|numberOfRepeatsAllowed|
| url|numberOfRepeatsIssued|
| system|https://tools.ietf.org/html/rfc4122|
| status|in-progress|
| system|https://fhir.nhs.uk/CodeSystem/EPS-task-dispense-withdraw-reason|
| code|QU|
| code|MU|
| code|DA|
| code|PA|
| code|OC|
| code|ONC|
| display|Quantity Update|
| display|Medication Updated|
| display|Dosage Amendments|
| display|Patient Detail Amendments|
| display|Other Clinical|
| display|Other Non-Clinical|
| system|http://hl7.org/fhir/CodeSystem/task-code|
| code|abort|
| display|Mark the focal resource as no longer active|
| system|https://fhir.nhs.uk/Id/prescription-order-number|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
| system|https://fhir.nhs.uk/Id/prescription|
| system|https://tools.ietf.org/html/rfc4122|
| system|https://fhir.nhs.uk/Id/nhs-number|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|http://snomed.info/sct|
| code|373784005|
| code|33633005|
| display|Dispensing medication|
| display|Prescription of drug|

> Example responses

> A successful response to an  acute, primary care withdraw request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a repeat, primary care withdraw request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a eRD, primary care withdraw request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> An error response to a withdraw request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "code": "not-found",
      "severity": "error",
      "details": {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/CodeSystem/Spine-ErrorOrWarningCode",
            "code": "RESOURCE_NOT_FOUND",
            "display": "Resource not found"
          }
        ]
      }
    }
  ]
}
```

<h3 id="withdraw-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Action completed successfully.|Inline|
|4XX|Unknown|Invalid request.|Inline|

<h3 id="withdraw-responseschema">Response Schema</h3>

Status Code **200**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

Status Code **4XX**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

<aside class="success">
This operation does not require authentication
</aside>

## send-dispense-claim-message

<a id="opIdsend-dispense-claim-message"></a>

> Code samples

```shell
# You can also use wget
curl -X POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Claim \
  -H 'Content-Type: application/fhir+json' \
  -H 'Accept: application/fhir+json' \
  -H 'Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM' \
  -H 'NHSD-Session-URID: 555254240100' \
  -H 'X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068' \
  -H 'X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'

```

```http
POST https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Claim HTTP/1.1
Host: sandbox.api.service.nhs.uk
Content-Type: application/fhir+json
Accept: application/fhir+json
Authorization: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
NHSD-Session-URID: 555254240100
X-Request-ID: 60E0B220-8136-4CA5-AE46-1D97EF59D068
X-Correlation-ID: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA

```

```javascript
const inputBody = '{
  "resourceType": "Claim",
  "id": "a76599c5-bbdd-4581-bb4d-377b348dd1e4",
  "extension": [
    {
      "url": "https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent",
      "valueReference": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/sds-user-id",
          "value": "7654321"
        },
        "display": "Mr Peter Potion"
      }
    }
  ],
  "contained": [
    {
      "resourceType": "PractitionerRole",
      "id": "provider",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
          "value": "454567759542"
        }
      ],
      "code": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
              "code": "S0030:G0100:R0620"
            }
          ]
        }
      ],
      "practitioner": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/sds-user-id",
          "value": "7654321"
        },
        "display": "Mr Peter Potion"
      },
      "organization": {
        "reference": "#organisation"
      },
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "01234567890"
        }
      ]
    },
    {
      "resourceType": "Organization",
      "id": "organisation",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "VNE51"
        }
      ],
      "address": [
        {
          "city": "West Yorkshire",
          "use": "work",
          "line": [
            "17 Austhorpe Road",
            "Crossgates",
            "Leeds"
          ],
          "postalCode": "LS15 8BA"
        }
      ],
      "active": true,
      "type": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
              "code": "182",
              "display": "PHARMACY"
            }
          ]
        }
      ],
      "name": "The Simple Pharmacy",
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "0113 3180277"
        }
      ]
    }
  ],
  "created": "2022-11-30T13:30:00.000Z",
  "identifier": [
    {
      "system": "https://tools.ietf.org/html/rfc4122",
      "value": "737dcf8d-fc7a-436d-b692-7d3c4f258083"
    }
  ],
  "status": "active",
  "type": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/claim-type",
        "code": "pharmacy",
        "display": "Pharmacy"
      }
    ]
  },
  "use": "claim",
  "patient": {
    "identifier": {
      "system": "https://fhir.nhs.uk/Id/nhs-number",
      "value": "9449304130"
    }
  },
  "provider": {
    "reference": "#provider"
  },
  "priority": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/processpriority",
        "code": "normal"
      }
    ]
  },
  "insurance": [
    {
      "sequence": 1,
      "focal": true,
      "coverage": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "T1450"
        },
        "display": "NHS BUSINESS SERVICES AUTHORITY"
      }
    }
  ],
  "payee": {
    "type": {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/payeetype",
          "code": "provider",
          "display": "Provider"
        }
      ]
    },
    "party": {
      "reference": "#organisation"
    }
  },
  "prescription": {
    "extension": [
      {
        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier",
        "extension": [
          {
            "url": "shortForm",
            "valueIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-number",
              "value": "24F5DA-A83008-7EFE6Z"
            }
          },
          {
            "url": "UUID",
            "valueIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription",
              "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
            }
          }
        ]
      }
    ],
    "display": "A prescription order"
  },
  "item": [
    {
      "extension": [
        {
          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus",
          "valueCoding": {
            "code": "0006",
            "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status",
            "display": "Dispensed"
          }
        }
      ],
      "sequence": 1,
      "productOrService": {
        "coding": [
          {
            "system": "http://snomed.info/sct",
            "code": "16076005",
            "display": "Prescription"
          }
        ]
      },
      "programCode": [
        {
          "coding": [
            {
              "code": "0001",
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-charge-exemption",
              "display": "Patient has paid appropriate charges"
            }
          ]
        },
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/DM-exemption-evidence",
              "code": "no-evidence-seen",
              "display": "No Evidence Seen"
            }
          ]
        }
      ],
      "detail": [
        {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/claim-sequence-identifier",
                "value": "be948cf8-5db1-4c39-8f9b-c7e049d55acb"
              }
            },
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference",
              "valueReference": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                  "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                }
              }
            }
          ],
          "sequence": 1,
          "productOrService": {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "code": "39732311000001104",
                "display": "Amoxicillin 250mg capsules"
              }
            ]
          },
          "modifier": [
            {
              "coding": [
                {
                  "code": "0001",
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                  "display": "Item fully dispensed"
                }
              ]
            }
          ],
          "programCode": [
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/DM-prescription-charge",
                  "code": "paid-once",
                  "display": "Paid Once"
                }
              ]
            },
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement",
                  "code": "NDEC",
                  "display": "No Dispenser Endorsement Code"
                }
              ]
            }
          ],
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "subDetail": [
            {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationDispenseReference",
                  "valueReference": {
                    "identifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
                      "value": "fd833d33-f128-4fa2-a807-1fc8a7db2658"
                    }
                  }
                }
              ],
              "sequence": 1,
              "productOrService": {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "code": "39732311000001104",
                    "display": "Amoxicillin 250mg capsules"
                  }
                ]
              },
              "quantity": {
                "value": 20,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              }
            }
          ]
        },
        {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/claim-sequence-identifier",
                "value": "b001a051-b597-4c8d-9ea5-7dc2a56861ea"
              }
            },
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference",
              "valueReference": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                  "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
                }
              }
            }
          ],
          "sequence": 2,
          "productOrService": {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "code": "322341003",
                "display": "Co-codamol 30mg/500mg tablets"
              }
            ]
          },
          "modifier": [
            {
              "coding": [
                {
                  "code": "0001",
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                  "display": "Item fully dispensed"
                }
              ]
            }
          ],
          "programCode": [
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/DM-prescription-charge",
                  "code": "paid-once",
                  "display": "Paid Once"
                }
              ]
            },
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement",
                  "code": "NDEC",
                  "display": "No Dispenser Endorsement Code"
                }
              ]
            }
          ],
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "subDetail": [
            {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationDispenseReference",
                  "valueReference": {
                    "identifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
                      "value": "06167339-9337-d030-0366-514a6a46da17"
                    }
                  }
                }
              ],
              "sequence": 1,
              "productOrService": {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "code": "322341003",
                    "display": "Co-codamol 30mg/500mg tablets"
                  }
                ]
              },
              "quantity": {
                "value": 20,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              }
            }
          ]
        },
        {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/claim-sequence-identifier",
                "value": "3131f904-5436-4365-a23d-510d079d5efb"
              }
            },
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference",
              "valueReference": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                  "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
                }
              }
            }
          ],
          "sequence": 3,
          "productOrService": {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "code": "321080004",
                "display": "Pseudoephedrine hydrochloride 60mg tablets"
              }
            ]
          },
          "modifier": [
            {
              "coding": [
                {
                  "code": "0001",
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                  "display": "Item fully dispensed"
                }
              ]
            }
          ],
          "programCode": [
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/DM-prescription-charge",
                  "code": "paid-once",
                  "display": "Paid Once"
                }
              ]
            },
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement",
                  "code": "BB",
                  "display": "Broken Bulk"
                }
              ]
            }
          ],
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "subDetail": [
            {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationDispenseReference",
                  "valueReference": {
                    "identifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
                      "value": "496f4a02-a845-4f19-934e-ae1a7e12a193"
                    }
                  }
                }
              ],
              "sequence": 1,
              "productOrService": {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "code": "321080004",
                    "display": "Pseudoephedrine hydrochloride 60mg tablets"
                  }
                ]
              },
              "quantity": {
                "value": 15,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              }
            },
            {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationDispenseReference",
                  "valueReference": {
                    "identifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
                      "value": "95c42b8b-a13d-4227-bce6-f31dad456eda"
                    }
                  }
                }
              ],
              "sequence": 2,
              "productOrService": {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "code": "381511000001101",
                    "display": "Sudafed Decongestant 60mg tablets (McNeil Products Ltd)"
                  }
                ]
              },
              "quantity": {
                "value": 15,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              }
            }
          ]
        },
        {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/claim-sequence-identifier",
                "value": "56d2a705-784c-493b-81b6-25c977383d17"
              }
            },
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference",
              "valueReference": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                  "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
                }
              }
            }
          ],
          "sequence": 4,
          "productOrService": {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "code": "324252006",
                "display": "Azithromycin 250mg capsules"
              }
            ]
          },
          "modifier": [
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                  "code": "0005",
                  "display": "Item cancelled"
                }
              ]
            }
          ],
          "programCode": [
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/DM-prescription-charge",
                  "code": "not-paid",
                  "display": "Not Paid"
                }
              ]
            },
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement",
                  "code": "NDEC",
                  "display": "No Dispenser Endorsement Code"
                }
              ]
            }
          ],
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          }
        }
      ]
    }
  ]
}';
const headers = {
  'Content-Type':'application/fhir+json',
  'Accept':'application/fhir+json',
  'Authorization':'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID':'555254240100',
  'X-Request-ID':'60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID':'11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
};

fetch('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Claim',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

```

```ruby
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/fhir+json',
  'Accept' => 'application/fhir+json',
  'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID' => '555254240100',
  'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

result = RestClient.post 'https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Claim',
  params: {
  }, headers: headers

p JSON.parse(result)

```

```python
import requests
headers = {
  'Content-Type': 'application/fhir+json',
  'Accept': 'application/fhir+json',
  'Authorization': 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
  'NHSD-Session-URID': '555254240100',
  'X-Request-ID': '60E0B220-8136-4CA5-AE46-1D97EF59D068',
  'X-Correlation-ID': '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA'
}

r = requests.post('https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Claim', headers = headers)

print(r.json())

```

```php
<?php

require 'vendor/autoload.php';

$headers = array(
    'Content-Type' => 'application/fhir+json',
    'Accept' => 'application/fhir+json',
    'Authorization' => 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM',
    'NHSD-Session-URID' => '555254240100',
    'X-Request-ID' => '60E0B220-8136-4CA5-AE46-1D97EF59D068',
    'X-Correlation-ID' => '11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('POST','https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Claim', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

```

```java
URL obj = new URL("https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Claim");
HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("POST");
int responseCode = con.getResponseCode();
BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();
System.out.println(response.toString());

```

```go
package main

import (
       "bytes"
       "net/http"
)

func main() {

    headers := map[string][]string{
        "Content-Type": []string{"application/fhir+json"},
        "Accept": []string{"application/fhir+json"},
        "Authorization": []string{"Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM"},
        "NHSD-Session-URID": []string{"555254240100"},
        "X-Request-ID": []string{"60E0B220-8136-4CA5-AE46-1D97EF59D068"},
        "X-Correlation-ID": []string{"11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA"},
    }

    data := bytes.NewBuffer([]byte{jsonReq})
    req, err := http.NewRequest("POST", "https://sandbox.api.service.nhs.uk/electronic-prescriptions/FHIR/R4/Claim", data)
    req.Header = headers

    client := &http.Client{}
    resp, err := client.Do(req)
    // ...
}

```

`POST /FHIR/R4/Claim`

*Claim for a dispensed prescription - Dispensing*

## Overview
### Claim
Use this endpoint to submit or amend a reimbursement claim for a dispensed prescription.

> Body parameter

> A valid acute, primary care claim request.

```json
{
  "resourceType": "Claim",
  "id": "a76599c5-bbdd-4581-bb4d-377b348dd1e4",
  "extension": [
    {
      "url": "https://fhir.nhs.uk/StructureDefinition/Extension-Provenance-agent",
      "valueReference": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/sds-user-id",
          "value": "7654321"
        },
        "display": "Mr Peter Potion"
      }
    }
  ],
  "contained": [
    {
      "resourceType": "PractitionerRole",
      "id": "provider",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
          "value": "454567759542"
        }
      ],
      "code": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
              "code": "S0030:G0100:R0620"
            }
          ]
        }
      ],
      "practitioner": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/sds-user-id",
          "value": "7654321"
        },
        "display": "Mr Peter Potion"
      },
      "organization": {
        "reference": "#organisation"
      },
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "01234567890"
        }
      ]
    },
    {
      "resourceType": "Organization",
      "id": "organisation",
      "identifier": [
        {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "VNE51"
        }
      ],
      "address": [
        {
          "city": "West Yorkshire",
          "use": "work",
          "line": [
            "17 Austhorpe Road",
            "Crossgates",
            "Leeds"
          ],
          "postalCode": "LS15 8BA"
        }
      ],
      "active": true,
      "type": [
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/organisation-role",
              "code": "182",
              "display": "PHARMACY"
            }
          ]
        }
      ],
      "name": "The Simple Pharmacy",
      "telecom": [
        {
          "system": "phone",
          "use": "work",
          "value": "0113 3180277"
        }
      ]
    }
  ],
  "created": "2022-11-30T13:30:00.000Z",
  "identifier": [
    {
      "system": "https://tools.ietf.org/html/rfc4122",
      "value": "737dcf8d-fc7a-436d-b692-7d3c4f258083"
    }
  ],
  "status": "active",
  "type": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/claim-type",
        "code": "pharmacy",
        "display": "Pharmacy"
      }
    ]
  },
  "use": "claim",
  "patient": {
    "identifier": {
      "system": "https://fhir.nhs.uk/Id/nhs-number",
      "value": "9449304130"
    }
  },
  "provider": {
    "reference": "#provider"
  },
  "priority": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/processpriority",
        "code": "normal"
      }
    ]
  },
  "insurance": [
    {
      "sequence": 1,
      "focal": true,
      "coverage": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "T1450"
        },
        "display": "NHS BUSINESS SERVICES AUTHORITY"
      }
    }
  ],
  "payee": {
    "type": {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/payeetype",
          "code": "provider",
          "display": "Provider"
        }
      ]
    },
    "party": {
      "reference": "#organisation"
    }
  },
  "prescription": {
    "extension": [
      {
        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier",
        "extension": [
          {
            "url": "shortForm",
            "valueIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription-order-number",
              "value": "24F5DA-A83008-7EFE6Z"
            }
          },
          {
            "url": "UUID",
            "valueIdentifier": {
              "system": "https://fhir.nhs.uk/Id/prescription",
              "value": "20ba5fb5-cb58-462c-923e-22d180b09356"
            }
          }
        ]
      }
    ],
    "display": "A prescription order"
  },
  "item": [
    {
      "extension": [
        {
          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus",
          "valueCoding": {
            "code": "0006",
            "system": "https://fhir.nhs.uk/CodeSystem/EPS-task-business-status",
            "display": "Dispensed"
          }
        }
      ],
      "sequence": 1,
      "productOrService": {
        "coding": [
          {
            "system": "http://snomed.info/sct",
            "code": "16076005",
            "display": "Prescription"
          }
        ]
      },
      "programCode": [
        {
          "coding": [
            {
              "code": "0001",
              "system": "https://fhir.nhs.uk/CodeSystem/prescription-charge-exemption",
              "display": "Patient has paid appropriate charges"
            }
          ]
        },
        {
          "coding": [
            {
              "system": "https://fhir.nhs.uk/CodeSystem/DM-exemption-evidence",
              "code": "no-evidence-seen",
              "display": "No Evidence Seen"
            }
          ]
        }
      ],
      "detail": [
        {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/claim-sequence-identifier",
                "value": "be948cf8-5db1-4c39-8f9b-c7e049d55acb"
              }
            },
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference",
              "valueReference": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                  "value": "a54219b8-f741-4c47-b662-e4f8dfa49ab6"
                }
              }
            }
          ],
          "sequence": 1,
          "productOrService": {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "code": "39732311000001104",
                "display": "Amoxicillin 250mg capsules"
              }
            ]
          },
          "modifier": [
            {
              "coding": [
                {
                  "code": "0001",
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                  "display": "Item fully dispensed"
                }
              ]
            }
          ],
          "programCode": [
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/DM-prescription-charge",
                  "code": "paid-once",
                  "display": "Paid Once"
                }
              ]
            },
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement",
                  "code": "NDEC",
                  "display": "No Dispenser Endorsement Code"
                }
              ]
            }
          ],
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "subDetail": [
            {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationDispenseReference",
                  "valueReference": {
                    "identifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
                      "value": "fd833d33-f128-4fa2-a807-1fc8a7db2658"
                    }
                  }
                }
              ],
              "sequence": 1,
              "productOrService": {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "code": "39732311000001104",
                    "display": "Amoxicillin 250mg capsules"
                  }
                ]
              },
              "quantity": {
                "value": 20,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              }
            }
          ]
        },
        {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/claim-sequence-identifier",
                "value": "b001a051-b597-4c8d-9ea5-7dc2a56861ea"
              }
            },
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference",
              "valueReference": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                  "value": "6989b7bd-8db6-428c-a593-4022e3044c00"
                }
              }
            }
          ],
          "sequence": 2,
          "productOrService": {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "code": "322341003",
                "display": "Co-codamol 30mg/500mg tablets"
              }
            ]
          },
          "modifier": [
            {
              "coding": [
                {
                  "code": "0001",
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                  "display": "Item fully dispensed"
                }
              ]
            }
          ],
          "programCode": [
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/DM-prescription-charge",
                  "code": "paid-once",
                  "display": "Paid Once"
                }
              ]
            },
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement",
                  "code": "NDEC",
                  "display": "No Dispenser Endorsement Code"
                }
              ]
            }
          ],
          "quantity": {
            "value": 20,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "subDetail": [
            {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationDispenseReference",
                  "valueReference": {
                    "identifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
                      "value": "06167339-9337-d030-0366-514a6a46da17"
                    }
                  }
                }
              ],
              "sequence": 1,
              "productOrService": {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "code": "322341003",
                    "display": "Co-codamol 30mg/500mg tablets"
                  }
                ]
              },
              "quantity": {
                "value": 20,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              }
            }
          ]
        },
        {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/claim-sequence-identifier",
                "value": "3131f904-5436-4365-a23d-510d079d5efb"
              }
            },
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference",
              "valueReference": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                  "value": "2868554c-5565-4d31-b92a-c5b8dab8b90a"
                }
              }
            }
          ],
          "sequence": 3,
          "productOrService": {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "code": "321080004",
                "display": "Pseudoephedrine hydrochloride 60mg tablets"
              }
            ]
          },
          "modifier": [
            {
              "coding": [
                {
                  "code": "0001",
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                  "display": "Item fully dispensed"
                }
              ]
            }
          ],
          "programCode": [
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/DM-prescription-charge",
                  "code": "paid-once",
                  "display": "Paid Once"
                }
              ]
            },
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement",
                  "code": "BB",
                  "display": "Broken Bulk"
                }
              ]
            }
          ],
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          },
          "subDetail": [
            {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationDispenseReference",
                  "valueReference": {
                    "identifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
                      "value": "496f4a02-a845-4f19-934e-ae1a7e12a193"
                    }
                  }
                }
              ],
              "sequence": 1,
              "productOrService": {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "code": "321080004",
                    "display": "Pseudoephedrine hydrochloride 60mg tablets"
                  }
                ]
              },
              "quantity": {
                "value": 15,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              }
            },
            {
              "extension": [
                {
                  "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationDispenseReference",
                  "valueReference": {
                    "identifier": {
                      "system": "https://fhir.nhs.uk/Id/prescription-dispense-item-number",
                      "value": "95c42b8b-a13d-4227-bce6-f31dad456eda"
                    }
                  }
                }
              ],
              "sequence": 2,
              "productOrService": {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "code": "381511000001101",
                    "display": "Sudafed Decongestant 60mg tablets (McNeil Products Ltd)"
                  }
                ]
              },
              "quantity": {
                "value": 15,
                "unit": "tablet",
                "system": "http://snomed.info/sct",
                "code": "428673006"
              }
            }
          ]
        },
        {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimSequenceIdentifier",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/claim-sequence-identifier",
                "value": "56d2a705-784c-493b-81b6-25c977383d17"
              }
            },
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference",
              "valueReference": {
                "identifier": {
                  "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
                  "value": "5cb17f5a-11ac-4e18-825f-6470467238b3"
                }
              }
            }
          ],
          "sequence": 4,
          "productOrService": {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "code": "324252006",
                "display": "Azithromycin 250mg capsules"
              }
            ]
          },
          "modifier": [
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-type",
                  "code": "0005",
                  "display": "Item cancelled"
                }
              ]
            }
          ],
          "programCode": [
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/DM-prescription-charge",
                  "code": "not-paid",
                  "display": "Not Paid"
                }
              ]
            },
            {
              "coding": [
                {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement",
                  "code": "NDEC",
                  "display": "No Dispenser Endorsement Code"
                }
              ]
            }
          ],
          "quantity": {
            "value": 30,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": "428673006"
          }
        }
      ]
    }
  ]
}
```

<h3 id="send-dispense-claim-message-parameters">Parameters</h3>

|Name|In|Type|Required|Description|
|---|---|---|---|---|
|Authorization|header|string(^Bearer\ [[:ascii:]]+$)|true|An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).|
|NHSD-Session-URID|header|string|false|The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).|
|X-Request-ID|header|string|true|A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.|
|X-Correlation-ID|header|string|false|An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.|
|body|body|object|true|none|
| resourceType|body|string|true|FHIR resource type.|
| extension|body|[oneOf]|false|FHIR extension array.|
| url|body|string|false|none|
| valueIdentifier|body|object|false|none|
| system|body|string|false|none|
| value|body|string|false|none|
| contained|body|[oneOf]|true|List of resources that are pertinent to the Claim.|
| *anonymous*|body|object|false|Role-specific details of the dispenser.|
| id|body|string|false|local identifier for the resource that can be referenced by other resources within the message.|
| resourceType|body|string|false|FHIR resource type.|
| identifier|body|[object]|true|Role-specific identifiers for the dispenser.|
| SDS Role Profile ID|body|object|false|The prescriber or dispenser's SDS Role Profile ID.|
| system|body|string|true|Codesystem URL for the SDS role profile ID.|
| value|body|string|true|SDS role profile ID.|
| NHS BSA Spurious Code|body|object|false|The prescriber or dispenser's spurious code.|
| system|body|string|true|Codesystem URL for the spurious code.|
| value|body|string|true|Spurious code.|
| code|body|[object]|true|The SDS job role code for a given dispenser.|
| coding|body|[object]|false|none|
| system|body|string|true|Codesystem URL for the job role code.|
| code|body|string|true|The SDS job role code.|
| display|body|string|false|Display text for the SDS job role code.|
| practitioner|body|object|true|Professional identifiers for the dispenser.|
| identifier|body|object|false|none|
| system|body|string|false|none|
| value|body|string|false|none|
| display|body|string|false|none|
| organization|body|object|true|A reference to the dispensing organisation.|
| reference|body|string|false|A FHIR reference object.|
| telecom|body|object|true|none|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| *anonymous*|body|object|false|Details of the dispensing organisation.|
| id|body|string|false|local identifier for the resource that can be referenced by other resources within the message.|
| resourceType|body|string|false|FHIR resource type.|
| extension|body|[object]|false|a FHIR extension array.|
| url|body|string|true|URL of the extension definition.|
| extension|body|[object]|true|FHIR extension array.|
| url|body|string|true|none|
| valueIdentifier|body|object|true|none|
| system|body|string|false|none|
| value|body|string|false|none|
| identifier|body|[object]|false|An array containing the ODS code of the organisation.|
| system|body|string|true|Codesystem URL for the ODS code.|
| value|body|string|true|ODS code.|
| address|body|[object]|true|Organisation address.|
| use|body|string|false|The purpose of the address.|
| type|body|string|false|The type of address.|
| line|body|[string]|false|All lines of the address except the city, district, and postal code.|
| city|body|string|false|The city of the address.|
| district|body|string|false|The district of the address.|
| postalCode|body|string|false|The postal code of the address.|
| active|body|boolean|false|none|
| type|body|[object]|false|none|
| coding|body|[object]|true|none|
| system|body|string|true|none|
| code|body|string|true|none|
| display|body|string|false|none|
| name|body|string|true|Organisation name.|
| telecom|body|[object]|true|The telephone number associated with the organisation.|
| system|body|string|true|Means of communication, such as phone or email.|
| use|body|string|true|Location associated with the contact details provided.|
| value|body|string|true|Phone number, email address, or other identifier for use with contact system.|
| created|body|string|true|The date and time at which the Claim was submitted.|
| identifier|body|[object]|false|Unique identifier for the Claim.|
| system|body|string|true|Codesystem URL for the RFC4122 unqiue identifier.|
| value|body|string|true|RFC4122 unique identifier.|
| status|body|string|true|The status of a Claim.|
| type|body|object|true|none|
| coding|body|[object]|true|none|
| system|body|string|false|FHIR codesystem URL for the Claim type.|
| code|body|string|false|Code for the Claim type.|
| display|body|string|false|display value for the Claim type.|
| use|body|string|true|none|
| patient|body|object|true|The patient that received the medication being claimed for.|
| identifier|body|object|false|none|
| system|body|string(url)|true|FHIR codesystem URL for NHS numbers.|
| value|body|string|true|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.|
| provider|body|object|true|A reference to the dispenser submitting the Claim.|
| reference|body|string|false|A reference to the local identifier of the contained PractitionerRole resource identifying the dispenser submitting the Claim.|
| priority|body|object|true|The priority of the Claim being submitted. This must default to `normal.`|
| coding|body|[object]|false|coding|
| system|body|string|false|none|
| code|body|string|false|none|
| insurance|body|[oneOf]|true|The reimbursement authority that the Claim is being submitted to.|
| sequence|body|string|true|sequence|
| focal|body|string|true|coverage|
| coverage|body|object|true|coverage|
| identifier|body|object|false|none|
| system|body|string|true|Codesystem URL for the reimbursement authority ODS code.|
| value|body|string|true|ODS code for the reimbursement authority.|
| payee|body|object|true|A reference to the dispensing organisation submitting the Claim.|
| type|body|object|false|The type of dispensing organisation being reimbursed as a result of the Claim.|
| coding|body|[object]|false|none|
| system|body|string|false|Codesystem URL for payee type.|
| code|body|string|false|Code for the payee type.|
| display|body|string|false|Display value for the payee type code.|
| party|body|object|false|none|
| reference|body|string|false|A reference to the local identifier of the contained Organization resource identifying the dispensing organisation submitting the Claim.|
| prescription|body|object|true|none|
| extension|body|[object]|false|The short- and long-form prescription identifiers of the prescription being claimed for.|
| url|body|string|false|Codesystem URL for the short- and long-form prescription identifiers.|
| extension|body|[oneOf]|false|FHIR extension array.|
| *anonymous*|body|object|false|The short-form prescription identifier.|
| url|body|string|false|none|
| valueIdentifier|body|object|false|none|
| system|body|string|false|none|
| value|body|string|false|none|
| *anonymous*|body|object|false|The long-form prescription identifier.|
| url|body|string|false|none|
| valueIdentifier|body|object|false|none|
| system|body|string|false|none|
| value|body|string|false|none|
| item|body|[object]|true|Information about the prescription that is being claimed for.|
| extension|body|[oneOf]|false|The intended status of the prescription as a result of the Claim.|
| *anonymous*|body|object|false|The intended status of the prescription.|
| url|body|string|false|Codesystem URL for the prescription status extension definition.|
| valueCoding|body|object|false|none|
| system|body|string|false|Codesystem URL for the prescription status.|
| code|body|string|false|The prescription status code.|
| display|body|string|false|A human readable representation of the prescription status code.|
| *anonymous*|body|object|false|The reason why a prescription or line item has not been dispensed.|
| url|body|string|false|Codesystem URL for the non-dispensing reason extension definition.|
| valueCoding|body|object|false|none|
| system|body|string|false|Codesystem URL for the non-dispensing reason.|
| code|body|string|false|The prescription status code.|
| display|body|string|false|A human readable representation of the prescription status code.|
| sequence|body|string|false|An intenger to identify a specific instance of a resource within an array.|
| productOrService|body|object|false|Mandatory entity identifying that this is a Claim for a prescription.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL.|
| code|body|string|false|SNOMED code.|
| display|body|string|false|human-readable representation of the SNOMED code.|
| programCode|body|[oneOf]|false|Information about whether the patient is exempt from paying for their prescription, and whether evidence has been seen to this end.|
| *anonymous*|body|object|false|none|
| coding|body|[object]|false|A charge exemption code denoting whether the patient is exempt from paying for their prescription.|
| code|body|string|false|The charge exemption code.|
| system|body|string|false|codesystem URL for the charge exemption code.|
| display|body|string|false|Human-readable representation of the charge exemption code.|
| *anonymous*|body|object|false|none|
| coding|body|[object]|false|A code provided to confirm that evidence has been seen to qualify a patient's exemption from paying charges for their prescription. |
| code|body|string|false|Code to denote where evidence was seen.|
| display|body|string|false|Human-readable representation of the code.|
| system|body|string|false|Codesystem URL to denote where evidence was seen.|
| detail|body|[object]|false|Information about the medication dispensed to a patient.|
| sequence|body|string|false|An intenger to identify a specific instance of a resource within an array.  |
| extension|body|[oneOf]|false|none|
| *anonymous*|body|object|false|Unique identifier to identify an instance of the `detail` array.|
| url|body|string|false|Codesystem URL|
| value|body|string|false|Unique identifier|
| *anonymous*|body|object|false|A reference to the prescription line item against which medication was dispensed.|
| url|body|string|false|Codesystem URL|
| valueReference|body|object|false|A reference to the unique identifier for the prescription line item against which medication was dispensed.|
| identifier|body|object|false|The unique identifier for the prescription line item against which medication was dispensed.|
| system|body|string|false|codesystem URL|
| value|body|string|false|unique identifier|
| *anonymous*|body|object|false|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|body|string|false|URL of the extension definition.|
| extension|body|[oneOf]|false|FHIR extension array.|
| *anonymous*|body|object|false|The total number of issues a given prescription is authorised for.|
| url|body|string|false|none|
| valueInteger|body|integer|false|none|
| *anonymous*|body|object|false|The current, active issue of the prescription.|
| url|body|string|false|none|
| valueInteger|body|integer|false|none|
| *anonymous*|body|object|false|The reason why a prescription or line item has not been dispensed.|
| url|body|string|false|Codesystem URL for the non-dispensing reason extension definition.|
| valueCoding|body|object|false|none|
| system|body|string|false|Codesystem URL for the non-dispensing reason.|
| code|body|string|false|The prescription status code.|
| display|body|string|false|A human readable representation of the prescription status code.|
| productOrService|body|object|false|The medication prescribed to the patient on the original prescription.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|SNOMED code for the medication, as defined in the dm+d.|
| display|body|string|false|A human readable representation of the medication, as defined in the dm+d.|
| quantity|body|object|false|The quantity of the drug prescribed to the patient.|
| value|body|number|false|The numeric value of the quantity prescribed.|
| unit|body|string|false|The unit of the quantity prescribed, defined using dm+d units of measure.|
| system|body|string|false|SNOMED codesystem URL.|
| code|body|integer|false|The dm+d code associated with a given unit of measure.|
| modifier|body|[object]|false|The intended status of the prescription line item as a result of the Claim.|
| coding|body|[object]|false|Prescription status.|
| system|body|string|false|Codesystem URL for line item status.|
| code|body|string|false|A code representing the intended line item status.|
| display|body|string|false|Human readable representation of the intended line item status code.|
| programCode|body|[oneOf]|false|Information about whether a patient has or has not paid for their prescription, and any endorsements that apply to the medication dispensed.|
| *anonymous*|body|object|false|The amount a patient has paid for their medication.|
| coding|body|[object]|false|none|
| system|body|string|false|Codesystem URL for the prescription charge.|
| code|body|string|false|Code representing the amount a patient has paid for their prescription.|
| display|body|string|false|A human-readable display of the amount a patient has paid for their prescription.|
| *anonymous*|body|object|false|Endorsements that apply to the medication dispensed. |
| coding|body|[object]|false|none|
| system|body|string|false|Codesystem URL for endorsements.|
| code|body|string|false|Code representing a specific endorsement that applies to the medication dispensed. |
| display|body|string|false|A human-readable representation of the endorsement code. |
| subDetail|body|[object]|false|The specific medication dispensed to the patient.|
| sequence|body|string|false|An intenger to identify a specific instance of a resource within an array.  |
| productOrService|body|object|false|The medication dispensed to the patient, represented as a VMP or AMP concept from the dm+d.|
| coding|body|[object]|false|none|
| system|body|string|false|SNOMED codesystem URL|
| code|body|string|false|SNOMED code for the medication, as defined in the dm+d.|
| display|body|string|false|A human readable representation of the medication, as defined in the dm+d.|
| quantity|body|object|false|The quantity of the medication dispensed to the patient.|
| value|body|number|false|The numeric value of the quantity dispensed.|
| unit|body|string|false|The unit of the quantiy dispensed, represented using dm+d units of measure.|
| system|body|string|false|SNOMED codesystem URL.|
| code|body|integer|false|The dm+d code associated with a given unit of measure.|

#### Detailed descriptions

**Authorization**: An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).

Required in all environments except sandbox.

**NHSD-Session-URID**: The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).

If you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, see [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) for guidance.

This field is optional.

**X-Request-ID**: A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.

Must be a universally unique identifier (UUID) (ideally version 4).

Mirrored back in a response header.

If you re-send a failed request, use the same value in this header.

Required in all environments except sandbox.

**X-Correlation-ID**: An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.

Mirrored back in a response header.

** line**: All lines of the address except the city, district, and postal code.

Systems must apply the following formatting convention when adding or replacing addresses lines:
*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`
*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`
*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`

If any of the lines are blank, they are not returned due to FHIR conformance constraints.

** value**: The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.
Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).

** value**: ODS code for the reimbursement authority.

For England, this needs to be the ODS code for the NHS BSA (T1450). 

For Wales, this needs to be the ODS code for the NWSSP (RQFZ1).

** code**: Code for the payee type.

This is a fixed value within England and Wales.

** display**: Display value for the payee type code.

This is a fixed value within England and Wales.

** sequence**: An intenger to identify a specific instance of a resource within an array.

This is a fixed value as there will always only be 1 `item` within a Claim.

** coding**: A charge exemption code denoting whether the patient is exempt from paying for their prescription.

View a valid list of exemption codes [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).

View exemption codes you might receive from the NHS BSA's [RTEC service](https://nhsconnect.github.io/prescription-exemptions/) [here](https://nhsconnect.github.io/prescription-exemptions/downloads/development/Real%20Time%20Exemption%20Checking%20Service%20-%20Client%20Functional%20Requirements%20v1.4.pdf).

** coding**: A code provided to confirm that evidence has been seen to qualify a patient's exemption from paying charges for their prescription. 

This code can be omitted where the patient is not exempt from paying for their prescription.

** sequence**: An intenger to identify a specific instance of a resource within an array.  

Each instance of the `detail` array represents a medication item dispensed to the patient.

The value must start with 1 and be incremented per instance.

** value**: The numeric value of the quantity prescribed.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

** code**: Code representing the amount a patient has paid for their prescription.

Where a patient has not paid because they are exempt, use the `not-paid` code. 

Where a patient has paid once, use the `paid-once` code.

Where a patient has paid twice or more, use the `paid-twice` code.

** *anonymous***: Endorsements that apply to the medication dispensed. 

View the latest guidance on claim endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).

** code**: Code representing a specific endorsement that applies to the medication dispensed. 

Where no endorsements apply to the medication, the default code `NDEC` must be used.

** display**: A human-readable representation of the endorsement code. 
Where no endorsements apply to the medication, the default display `No Dispenser Endorsement Code` must be used.

** sequence**: An intenger to identify a specific instance of a resource within an array.  

This is a fixed value as there will always only be 1 `subDetail` within a specific instance of the `detail` array.

** value**: The numeric value of the quantity dispensed.
A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.
Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.

#### Enumerated Values

|Parameter|Value|
|---|---|
| resourceType|Claim|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-replacementOf|
| system|https://tools.ietf.org/html/rfc4122|
| resourceType|PractitionerRole|
| system|https://fhir.nhs.uk/Id/sds-role-profile-id|
| system|https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code|
| system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
| system|https://fhir.nhs.uk/Id/sds-user-id|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| resourceType|Organization|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-ODS-OrganisationRelationships|
| url|reimbursementAuthority|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| use|home|
| use|work|
| use|billing|
| use|temp|
| type|postal|
| type|physical|
| type|both|
| system|https://fhir.nhs.uk/CodeSystem/organisation-role|
| system|phone|
| system|fax|
| system|email|
| system|other|
| use|home|
| use|work|
| use|temp|
| use|mobile|
| system|https://tools.ietf.org/html/rfc4122|
| status|active|
| system|http://terminology.hl7.org/CodeSystem/claim-type|
| code|pharmacy|
| display|Pharmacy|
| use|claim|
| system|https://fhir.nhs.uk/Id/nhs-number|
| system|http://terminology.hl7.org/CodeSystem/processpriority|
| code|normal|
| focal|true|
| system|https://fhir.nhs.uk/Id/ods-organization-code|
| value|T1450|
| value|RQFZ1|
| system|http://terminology.hl7.org/CodeSystem/payeetype|
| code|provider|
| display|Provider|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-GroupIdentifier|
| url|shortForm|
| system|https://fhir.nhs.uk/Id/prescription-order-number|
| url|UUID|
| system|https://fhir.nhs.uk/Id/prescription|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatus|
| system|https://fhir.nhs.uk/CodeSystem/EPS-task-business-status|
| code|0004|
| code|0005|
| code|0006|
| code|0007|
| display|Cancelled|
| display|Expired|
| display|Dispensed|
| display|Not Dispensed|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatusReason|
| system|https://fhir.nhs.uk/CodeSystem/EPS-task-business-status-reason|
| code|0001|
| code|0002|
| code|0003|
| code|0004|
| code|0005|
| code|0006|
| code|0007|
| code|0008|
| code|0009|
| code|0010|
| code|0011|
| display|Not required as instructed by the patient|
| display|Clinically unsuitable|
| display|Owings note issued to patient|
| display|Prescription cancellation|
| display|Prescription cancellation due to death|
| display|Illegal NHS prescription|
| display|Prescribed out of scope item|
| display|Item or prescription expired|
| display|Not allowed on FP10|
| display|Patient did not collect medication|
| display|Patient purchased medication over the counter|
| sequence|1|
| system|http://snomed.info/sct|
| code|16076005|
| display|Prescription|
| system|https://fhir.nhs.uk/CodeSystem/prescription-charge-exemption|
| code|evidence-seen|
| system|https://fhir.nhs.uk/CodeSystem/DM-exemption-evidence|
| url|https://fhir.nhs.uk/Id/claim-sequence-identifier|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-ClaimMedicationRequestReference|
| system|https://fhir.nhs.uk/Id/prescription-order-item-number|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-EPS-RepeatInformation|
| url|numberOfRepeatsAllowed|
| url|numberOfRepeatsIssued|
| url|https://fhir.nhs.uk/StructureDefinition/Extension-EPS-TaskBusinessStatusReason|
| system|https://fhir.nhs.uk/CodeSystem/EPS-task-business-status-reason|
| code|0001|
| code|0002|
| code|0003|
| code|0004|
| code|0005|
| code|0006|
| code|0007|
| code|0008|
| code|0009|
| code|0010|
| code|0011|
| display|Not required as instructed by the patient|
| display|Clinically unsuitable|
| display|Owings note issued to patient|
| display|Prescription cancellation|
| display|Prescription cancellation due to death|
| display|Illegal NHS prescription|
| display|Prescribed out of scope item|
| display|Item or prescription expired|
| display|Not allowed on FP10|
| display|Patient did not collect medication|
| display|Patient purchased medication over the counter|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|
| system|https://fhir.nhs.uk/CodeSystem/medicationdispense-type|
| code|0001|
| code|0002|
| code|0003|
| code|0004|
| code|0005|
| code|0006|
| code|0007|
| code|0008|
| code|0009|
| code|0010|
| code|0011|
| display|Item fully dispensed|
| display|Item not dispensed|
| display|Item dispensed - partial|
| display|Item not dispensed owing|
| display|Item cancelled|
| display|Expired|
| display|Item to be dispensed|
| display|Item with dispenser|
| system|https://fhir.nhs.uk/CodeSystem/DM-prescription-charge|
| display|Not Paid|
| display|Paid Once|
| display|Paid Twice|
| system|https://fhir.nhs.uk/CodeSystem/medicationdispense-endorsement|
| sequence|1|
| system|http://snomed.info/sct|
| system|http://snomed.info/sct|

> Example responses

> A successful response to an acute, primary care claim request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a repeat, primary care claim request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> A successful response to a eRD, primary care claim request.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "information",
      "code": "informational"
    }
  ]
}
```

> An error response.

```json
{
  "resourceType": "OperationOutcome",
  "meta": {
    "lastUpdated": "2022-10-21T13:47:00+00:00"
  },
  "issue": [
    {
      "severity": "error",
      "code": "value",
      "details": {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
            "code": "MISSING_FIELD",
            "display": "ResourceType Bundle must contain 'entry' field"
          }
        ]
      }
    }
  ]
}
```

<h3 id="send-dispense-claim-message-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Successfully submitted.|Inline|
|4XX|Unknown|Invalid request.|Inline|

<h3 id="send-dispense-claim-message-responseschema">Response Schema</h3>

Status Code **200**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

Status Code **4XX**

*Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).
*

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| resourceType|string|false|none|FHIR Resource Type.|
| issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

<aside class="success">
This operation does not require authentication
</aside>

# Schemas

<h2 id="tocS_operation-outcome">operation-outcome</h2>
<!-- backwards compatibility -->
<a id="schemaoperation-outcome"></a>
<a id="schema_operation-outcome"></a>
<a id="tocSoperation-outcome"></a>
<a id="tocsoperation-outcome"></a>

```json
{
  "resourceType": "OperationOutcome",
  "issue": [
    {
      "severity": "error",
      "code": "invalid",
      "details": {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode",
            "code": "INVALID_VALUE",
            "display": "Provided value is invalid"
          }
        ]
      },
      "expression": "Patient.name.given"
    }
  ]
}

```

Outcome of an operation that does not result in a resource or bundle being returned (for example, error, async/batch submission).

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|resourceType|string|false|none|FHIR Resource Type.|
|issue|[object]|false|none|List of issues that have occurred.|
| severity|string|true|none|Severity of the error.|
| code|string|true|none|FHIR error code.|
| details|object|false|none|Internal error code.|
| coding|[object]|false|none|none|
| system|string|true|none|URI of the coding system specification.|
| code|string|true|none|Symbol in syntax defined by the system.|
| display|string|false|none|Representation defined by the system.|
| expression|string|false|none|FHIRPath of element(s) related to the error.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|OperationOutcome|
|severity|fatal|
|severity|error|
|severity|warning|
|severity|information|
|code|invalid|
|code|structure|
|code|required|
|code|value|
|code|invariant|
|code|security|
|code|login|
|code|unknown|
|code|expired|
|code|forbidden|
|code|suppressed|
|code|processing|
|code|not-supported|
|code|duplicate|
|code|multiple-matches|
|code|not-found|
|code|deleted|
|code|too-long|
|code|code-invalid|
|code|extension|
|code|too-costly|
|code|business-rule|
|code|conflict|
|code|transient|
|code|lock-error|
|code|no-store|
|code|exception|
|code|timeout|
|code|incomplete|
|code|throttled|
|code|informational|
|system|https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode|

<h2 id="tocS_parameters-response">parameters-response</h2>
<!-- backwards compatibility -->
<a id="schemaparameters-response"></a>
<a id="schema_parameters-response"></a>
<a id="tocSparameters-response"></a>
<a id="tocsparameters-response"></a>

```json
{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "digest",
      "valueString": "PFNpZ25lZEluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdv"
    }
  ]
}

```

A response from the /$prepare endpoint.

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|resourceType|string|false|none|none|
|parameter|[oneOf]|false|none|none|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| name|string|false|none|none|
| valueString|string|false|none|The Prescription Information that requires signing.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| name|string|false|none|none|
| valueString|string(date-time)|false|none|none|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| name|string|false|none|none|
| valueString|string|false|none|none|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|Parameters|
|name|digest|
|name|timestamp|
|name|algorithm|
|valueString|RS1|

<h2 id="tocS_Encode-Request-Bundle">Encode-Request-Bundle</h2>
<!-- backwards compatibility -->
<a id="schemaencode-request-bundle"></a>
<a id="schema_Encode-Request-Bundle"></a>
<a id="tocSencode-request-bundle"></a>
<a id="tocsencode-request-bundle"></a>

```json
{
  "resourceType": "Bundle",
  "id": "164996aa-29eb-4f14-a5ac-4b556a7baf6e",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "164996aa-29eb-4f14-a5ac-4b556a7baf6e"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49bb6",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug",
            "extension": [
              {
                "url": "quantityWords",
                "valueString": "twenty eight"
              }
            ]
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "dd11b07e-e137-488e-bc28-ab50384208b5"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "inpatient",
                "display": "Inpatient"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "321196004",
              "display": "Diazepam 2mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "authoredOn": "2021-05-07T14:47:29+00:00",
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "04F4C2-A99968-7F717P",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "613452a2-ca1b-4a76-8191-d92e1f48928c"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "sequence": 1,
            "text": "4 times a day - for 4 days - Oral - Dissolved under the tongue",
            "additionalInstruction": [
              {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "code": "417995008",
                    "display": "Dissolved under the tongue"
                  }
                ]
              }
            ],
            "patientInstruction": "Some relevant instructions for the patient.",
            "timing": {
              "repeat": {
                "boundsDuration": {
                  "value": 4.5,
                  "unit": "day",
                  "system": "http://unitsofmeasure.org",
                  "code": "d"
                },
                "frequency": 4.5,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "asNeeded": {
              "asNeededBoolean": true,
              "asNeededCodeableConcept": {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "version": "string",
                    "code": "59380008",
                    "display": "Anterior abdominal wall structure",
                    "userSelected": true
                  }
                ],
                "text": "string"
              }
            },
            "site": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "59380008",
                  "display": "Anterior abdominal wall structure"
                }
              ]
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "version": "string",
                  "code": "59380008",
                  "display": "Anterior abdominal wall structure",
                  "userSelected": true
                }
              ]
            },
            "method": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "129326001",
                  "display": "Injection"
                }
              ]
            },
            "doseAndRate": [
              {
                "type": {
                  "coding": [
                    {}
                  ],
                  "text": "string"
                }
              }
            ],
            "maxDosePerPeriod": {
              "numerator": {
                "value": 7.5,
                "unit": "milligram",
                "system": "http://unitsofmeasure.org",
                "code": "mg"
              },
              "denominator": {
                "value": 24.5,
                "unit": "hour",
                "system": "http://unitsofmeasure.org",
                "code": "h"
              }
            },
            "maxDosePerAdministration": {
              "value": 60.5,
              "unit": "milligram",
              "system": "http://unitsofmeasure.org",
              "code": "mg"
            },
            "maxDosePerLifetime": {
              "value": 600.5,
              "unit": "milligram per square metre",
              "system": "http://unitsofmeasure.org",
              "code": "mg/m2"
            }
          }
        ],
        "note": [
          {
            "text": "Dosage has been decreased on advice from the hospital."
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "numberOfRepeatsAllowed": 0,
          "validityPeriod": {
            "start": "2022-10-21",
            "end": "2022-10-21"
          },
          "expectedSupplyDuration": {
            "value": 28,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          },
          "quantity": {
            "value": 20.5,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": 428673006
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    }
  ]
}

```

A FHIR Bundle.

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|resourceType|string|true|none|FHIR resource type.|
|id|string|false|none|object ID for the Bundle.|
|identifier|object|true|none|none|
| system|string|false|none|codesystem URL for identifiers|
| value|string|false|none|The X-Request ID for the message.|
|type|string|true|none|The reason why a series of resources and objects are grouped together.|
|entry|[oneOf]|true|none|A collection of resources contained within the Bundle.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|MedicationRequest|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|A MedicationRequest object is required. An EPS prescription must contain at least one and up to four MedicationRequest objects. This is equivalent to an item on a prescription.<br>Any fields mentioned in the Simplifer Spec but not in this schema are permitted, but may not be preserved or acted on by the API. <br>Reason for medication dispense should be appended to dosageInstruction.text, as reasonCode is not made available to dispensers.|
| resourceType|string|true|none|FHIR resource type|
| extension|[oneOf]|true|none|FHIR extension array.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The quantity of a controlled drug, expressed in words|
| url|string|false|none|URL of the extension definition.|
| extension|[oneOf]|false|none|FHIR extension array.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the quantity in words|
| url|string|false|none|URL for the controlled drug quantity|
| valueString|string|false|none|quantity expressed in words|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the schedule of the controlled drug|
| url|string|false|none|URL for the controlled drug schedule|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem to identify the controlled drug schedule|
| code|string|false|none|a code to identify the controlled drug schedule|
| display|string|false|none|a human readable display to accompany the controlled drug schedule code|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| display|string|false|none|The name of the responsible practitioner.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|string|false|none|URL of the extension definition.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|The review date of the prescription.<br>This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.|
| valueDateTime|string|false|none|A date value|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.<br><br>For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.|
| url|string|false|none|URL of the extension definition.|
| valueCoding|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|string|false|none|codesystem URL for the prescription type|
| code|string|false|none|The prescription type code|
| display|string|false|none|The display that accompanies the prescription type code|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. <br><br>View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).|
| url|string|false|none|URL of the extension definition.|
| valueCodeableConcept|object|false|none|none|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for endorsements.|
| code|string|true|none|The endorsement code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| identifier|[object]|true|none|The unique identifier for this line item on the prescription.|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| status|string|true|none|The status of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| intent|string|true|none|The intent of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| category|[object]|true|none|Identifies the context in which a prescription is created.<br>For example, a prescription created within primary care will be categorised as "community."<br>Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."<br>This must be consistent across all MedicationRequests in a Bundle.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription category.|
| code|string|true|none|Code for the prescription category.|
| display|string|false|none|Display value for the prescription category.|
| medicationCodeableConcept|object|true|none|The medication that is being prescribed. <br>This must be represented using a VMP or AMP concept from the dm+d.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|string|true|none|SNOMED code for the medication, as defined in the dm+d.|
| display|string|false|none|Human readable name for the medication.|
| subject|object|true|none|Reference object to identify the patient a prescription is for. <br>A Patient resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a Patient resource within the Bundle|
| authoredOn|string(date-time)|false|none|Reserved for future use and will currently be ignored. Do not use.|
| requester|object|true|none|Reference object to identify the requester of a prescription. <br>A PractitionerRole resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|object|true|none|An object containing the short-form and long-form Prescription ID.|
| system|string|true|none|Codesystem URL for the short-form Prescription ID.|
| value|string|true|none|The short-form Prescription ID. <br>An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). <br>It is to be formatted as follows:<br>  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.<br>  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  <br>  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.<br>  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.|
| extension|[object]|false|none|FHIR extension array containing the long-form Prescription ID.|
| url|string|true|none|none|
| valueIdentifier|object|true|none|The long-form identifier of the prescription.|
| system|string|true|none|Codesystem URL for the long-form Prescription ID.|
| value|string|true|none|The long-form prescription ID.|
| courseOfTherapyType|object|true|none|Denotes whether a prescription is an acute, a repeat, or an eRD.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription treatment type.|
| code|string|true|none|Code identifying the prescription treatment type.<br>* acute: acute prescriptions<br>* continuous: repeat prescriptions<br>* continuous-repeat-dispensing: eRD prescriptions|
| display|string|false|none|Display value for the prescription treatment type.|
| dosageInstruction|[object]|true|none|The dosage instructions for a prescription. <br>These must be expressed as both structured dose and text.|
| sequence|integer(int32)|false|none|The order of the dosage instructions.<br>Indicates the order in which the dosage instructions should be applied or interpreted.|
| text|string|false|none|The dosage instructions expressed as text.<br>Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.<br>Instructions with the same sequence number will be separated by ", and"<br>Instructions with different sequence numbers will be separated by ", then"<br>Please do not use full stops or commas at the end of any instructions provided.|
| additionalInstruction|[object]|false|none|Supplemental instruction or warnings to the patient.<br>E.g. "with meals", "may cause drowsiness".|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|SNOMED code for additional dosage instructions.|
| display|string|false|none|Additional dosage instructions (qualifier value).|
| patientInstruction|string|false|none|Patient or consumer oriented instructions.|
| timing|object|false|none|A structured expression of dose frequency.|
| repeat|object|false|none|The frequency and period over which the medication should be consumed.|
| boundsDuration|object|false|none|The bounds duration at which the medication should be consumed.<br>E.g. "4.5" for 4 & 1/2 days.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| frequency|number|false|none|The frequency at which the medication should be consumed within a given period.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.<br>E.g. "4" for 4 times over a given period.|
| period|integer(int32)|false|none|The period over which the frequency applies.<br>e.g. "1" for 1 day.|
| periodUnit|string|false|none|The fundamental unit of the period, defined in UCUM.|
| asNeeded|object|false|none|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), <br>or it indicates the precondition for taking the Medication (CodeableConcept).|
| asNeededBoolean|boolean|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.|
| asNeededCodeableConcept|object|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| text|string|false|none|Plain text representation of the concept.|
| site|object|false|none|Body site to administer to.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|none|
| route|object|false|none|A structured expression of how the medication should be consumed.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| method|object|false|none|Technique for administering medication.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying the technique for administering medication.|
| display|string|false|none|none|
| doseAndRate|[oneOf]|false|none|Amount of medication administered.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| type|object|false|none|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|integer|true|none|Valid SNOMED code identifying how the medication should be consumed.|
| display|string|false|none|Human readable name for the method of consumption.|
| text|string|false|none|Plain text representation of the concept.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| dose|[object]|false|none|Amount of medication per dose.|
| doseRange|object|false|none|A dose that may be in a given low / high range.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, <br>to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something <br>like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| doseQuantity|object|false|none|The amount of medication per dose, as a simple coded quantity.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rate|[object]|false|none|Amount of medication per unit of time.|
| rateRatio|object|false|none|Where the rate is expressed as coded numerator and denominator values.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateRange|object|false|none|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateQuantity|object|false|none|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent<br>to defining the rate using the more complex rateRatio structure.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| maxDosePerPeriod|object|false|none|Upper limit on medication per unit of time.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerAdministration|object|false|none|Used to define a maximum dose for a single administration.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerLifetime|object|false|none|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| note|[object]|false|none|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|string|false|none|Specific additional instructions for a prescription line item.|
| dispenseRequest|object|true|none|A FHIR object containing information relevant to how the prescription should be dispensed. <br>These values should be consistent across all MedicationRequests in a Bundle.|
| extension|[object]|true|none|FHIR extension array.|
| url|string|false|none|Extension URL for DM-PerformerSiteType.|
| valueCoding|object|false|none|none|
| system|string|false|none|Codesystem URL to hold the nomination.|
| code|string|false|none|The nomination applied to a prescription.<br>This could either be a nomination for:<br>  * A dispensing contractor (P1)<br>  * A dispensing appliance contractor (P2)<br>  * A dispensing doctor (P3)<br>Or a non-nominated prescription (0004).|
| numberOfRepeatsAllowed|integer|false|none|For eRD and repeat prescriptions only.<br>The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. <br>For repeat prescriptions, this value must always default to 0.|
| validityPeriod|object|false|none|The start and end dates of a prescription.|
| start|string(date)|false|none|Start date of an issue; sometimes same as prescription's start date.|
| end|string(date)|false|none|End date of an issue; capped at 12 months and cannot exceed the prescription's end date.<br>Overall validity of the drug.|
| expectedSupplyDuration|object|false|none|For eRD prescriptions only. <br>Duration of each issue in days; defaults to 28.|
| value|integer|false|none|The number of days each issue in an eRD prescription is valid for.|
| unit|string|false|none|The UCUM unit of measure display for days.|
| system|string|false|none|Codesystem URL for UCUM.|
| code|string|false|none|The UCUM unit of measure code for days.|
| performer|object|false|none|For nominated prescriptions only, including one-off nominations.<br>The ODS code of the nominated pharmacy that a prescription is going to.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| quantity|object|true|none|The quantity of a medication item being prescribed.|
| value|number|false|none|The numeric value of the quantity being prescribed.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|string|false|none|SNOMED codesystem URL.|
| code|integer|false|none|The dm+d code associated with a given unit of measure.|
| substitution|object|true|none|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|boolean|false|none|none|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|PractitionerRole|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Role-specific details of the requester or responsible practitioner of a prescription.<br>If for a responsible practitioner, at least one of the practitionerRole, referenced practitioner,<br>or referenced organization must have a telecom field. Note that PractitionerRole level<br>NHS BSA spurious code will take priority over supplier practitioner identifier, if present.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[oneOf]|false|none|An array containing role-specific identifiers for the prescriber|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS Role Profile ID.|
| system|string|true|none|Codesystem URL for the SDS role profile ID.|
| value|string|true|none|SDS role profile ID.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's spurious code.|
| system|string|true|none|Codesystem URL for the spurious code.|
| value|string|true|none|Spurious code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| practitioner|any|true|none|none|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|string|false|none|A FHIR reference object.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|An identifier if part of an organization-only responsible practitioner.|
| identifier|any|false|none|none|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the DIN Number.|
| value|string|true|none|The DIN Number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GMC number.|
| system|string|false|none|Codesystem URL for the GMC Number.|
| value|string|false|none|GMC Number|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GMP number.|
| system|string|true|none|Codesystem URL for the GMP number.|
| value|string|true|none|The GMP number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's NMC number.|
| system|string|true|none|Codesystem URL for the NMC number.|
| value|string|true|none|The NMC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GPhC number.|
| system|string|false|none|Codesystem URL for the GPhC number.|
| value|string|false|none|GPhC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's HCPC number.|
| system|string|true|none|Codesystem URL for the HCPC number.|
| value|string|true|none|The HCPC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the Professional Code.|
| value|string|true|none|The Professional Code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| organization|object|true|none|A reference to an Organization resource.|
| reference|string|false|none|A FHIR reference object.|
| code|[object]|false|none|The SDS job role code for a given prescriber or dispenser.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the job role code.|
| code|string|true|none|The SDS job role code.|
| display|string|false|none|Display text for the SDS job role code.|
| telecom|object|false|none|none|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Practitioner|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Details of the author or responsible party of a prescription.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[oneOf]|true|none|An array containing the prescriber's professional codes and identifiers.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS User Identifier.|
| system|string|true|none|Codesystem URL for the SDS User Identifier.|
| value|string|true|none|SDS User Identifier.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the DIN Number.|
| value|string|true|none|The DIN Number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GMC number.|
| system|string|false|none|Codesystem URL for the GMC Number.|
| value|string|false|none|GMC Number|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GPhC number.|
| system|string|false|none|Codesystem URL for the GPhC number.|
| value|string|false|none|GPhC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's HCPC number.|
| system|string|true|none|Codesystem URL for the HCPC number.|
| value|string|true|none|The HCPC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's NMC number.|
| system|string|true|none|Codesystem URL for the NMC number.|
| value|string|true|none|The NMC number.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| name|[object]|true|none|The prescriber's name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|MessageHeader|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|none|
| resourceType|string|true|none|FHIR resource type.|
| eventCoding|object|true|none|The type of message event being generated.|
| system|string|false|none|codesystem URL for message events.|
| code|string|false|none|code for the message event.|
| display|string|false|none|display value accompanying the code for the message event.|
| destination|[object]|false|none|none|
| endpoint|string|false|none|none|
| receiver|object|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|false|none|none|
| sender|object|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|none|
| source|object|true|none|The organisation originating the message.|
| endpoint|string|false|none|ODS code of the organisation originating the message, expressed as a URL.|
| focus|[object]|false|none|none|
| reference|string|false|none|none|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Patient|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|The patient the prescription is for.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|The patient's NHS number.|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|
| name|[object]|true|none|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|How this name should be used.<br>* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.<br>Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.<br>Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|
| gender|string|true|none|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.<br>It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.|
| birthDate|string(date)|true|none|The date on which the patient was born or is officially deemed to have been born.<br><br>It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.<br><br>When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.|
| address|[object]|true|none|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|Purpose of this address:<br>  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address<br>  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged<br><br>  A patient should have no more than one current `temp` address.<br>  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.<br>  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).<br><br>  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.<br>  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>*  line 4 - post town, e.g. `Leeds`<br>*  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
| telecom|[object]|false|none|The patient's telephone number.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with communication system.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|[object]|true|none|General practice (not practitioner) with which the patient is or was registered.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Organization|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.<br><br>Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing the ODS code of the organisation|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| name|string|true|none|Organisation name.|
| address|[object]|true|none|Organisation address.|
| use|string|false|none|The purpose of the address.|
| type|string|false|none|The type of address.|
| line|[string]|false|none|All lines of the address except the city, district, and postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| city|string|false|none|The city of the address.|
| district|string|false|none|The district of the address.|
| postalCode|string|false|none|The postal code of the address.|
| telecom|[object]|true|none|The telephone number associated with the organisation.|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|
| partOf|object|true|none|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|the name of the managing organisation|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|CommunicationRequest|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Additional instructions intended for the patient.<br>For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the CommunicationRequest. Must always default to "active".|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| payload|[object]|true|none|Additional instructions provided as part of this prescription.|
| contentString|string|false|none|Additional instructions intended for the patient.|
| contentReference|object|false|none|A reference to the list of repeat medications that the patient is on.|
| reference|string|false|none|A reference to a List resource within the Bundle|
| requester|object|false|none|Details of the prescribing organisation originating the instructions.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| recipient|[object]|false|none|Details of the patient receiving the instructions.|
| identifier|object|false|none|none|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|List|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|For repeat and eRD prescriptions only. <br><br>A structured list of repeat medication items prescribed to the patient.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the List object. Must always default to "current".|
| mode|string|false|none|The type of List being represented. Must always default to "snapshot".|
| code|object|false|none|A description of what the list represents.|
| text|string|false|none|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| entry|[object]|false|none|list of repeat medication items prescribed to the patient.|
| item|object|false|none|A medication item, represented using its dm+d name and description.|

#### Enumerated Values

|Property|Value|
|---|---|
|id|164996aa-29eb-4f14-a5ac-4b556a7baf6e|
|system|https://tools.ietf.org/html/rfc4122|
|type|message|
|resourceType|MedicationRequest|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
|url|quantityWords|
|url|schedule|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
|code|CD1|
|code|CD2|
|code|CD3|
|code|CD4|
|code|CD5|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
|url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
|url|authorisationExpiryDate|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
|system|https://fhir.nhs.uk/CodeSystem/prescription-type|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
|code|ACBS|
|code|AF|
|code|CC|
|code|FS|
|code|SLS|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|status|active|
|status|cancelled|
|status|completed|
|intent|order|
|intent|original-order|
|intent|instance-order|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
|code|inpatient|
|code|outpatient|
|code|community|
|code|discharge|
|display|Inpatient|
|display|Outpatient|
|display|Community|
|display|Discharge|
|system|http://snomed.info/sct|
|system|https://fhir.nhs.uk/Id/prescription-order-number|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
|system|https://fhir.nhs.uk/Id/prescription|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
|code|acute|
|code|continuous|
|code|continuous-repeat-dispensing|
|display|Short course (acute) therapy|
|display|Continuous long term therapy|
|display|Continuous long term (repeat dispensing)|
|system|http://snomed.info/sct|
|asNeededBoolean|true|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
|system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
|code|P1|
|code|P2|
|code|P3|
|code|0004|
|system|http://unitsofmeasure.org|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|http://snomed.info/sct|
|allowedBoolean|false|
|resourceType|PractitionerRole|
|system|https://fhir.nhs.uk/Id/sds-role-profile-id|
|system|https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code|
|system|https://fhir.hl7.org.uk/Id/din-number|
|system|https://fhir.hl7.org.uk/Id/gmc-number|
|system|https://fhir.hl7.org.uk/Id/gmp-number|
|system|https://fhir.hl7.org.uk/Id/nmc-number|
|system|https://fhir.hl7.org.uk/Id/gphc-number|
|system|https://fhir.hl7.org.uk/Id/hcpc-number|
|system|https://fhir.hl7.org.uk/Id/professional-code|
|system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|resourceType|Practitioner|
|system|https://fhir.nhs.uk/Id/sds-user-id|
|system|https://fhir.hl7.org.uk/Id/din-number|
|system|https://fhir.hl7.org.uk/Id/gmc-number|
|system|https://fhir.hl7.org.uk/Id/gphc-number|
|system|https://fhir.hl7.org.uk/Id/hcpc-number|
|system|https://fhir.hl7.org.uk/Id/nmc-number|
|resourceType|MessageHeader|
|system|https://fhir.nhs.uk/CodeSystem/message-event|
|code|prescription-order|
|display|Prescription Order|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|
|use|usual|
|gender|male|
|gender|female|
|gender|other|
|gender|unknown|
|use|home|
|use|temp|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|use|home|
|use|work|
|use|billing|
|use|temp|
|type|postal|
|type|physical|
|type|both|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|status|active|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|
|status|current|
|mode|snapshot|
|text|Repeat Medications|

<h2 id="tocS_Create-Request-Bundle">Create-Request-Bundle</h2>
<!-- backwards compatibility -->
<a id="schemacreate-request-bundle"></a>
<a id="schema_Create-Request-Bundle"></a>
<a id="tocScreate-request-bundle"></a>
<a id="tocscreate-request-bundle"></a>

```json
{
  "resourceType": "Bundle",
  "id": "164996aa-29eb-4f14-a5ac-4b556a7baf6e",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "164996aa-29eb-4f14-a5ac-4b556a7baf6e"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49bb6",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug",
            "extension": [
              {
                "url": "quantityWords",
                "valueString": "twenty eight"
              }
            ]
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "dd11b07e-e137-488e-bc28-ab50384208b5"
          }
        ],
        "status": "active",
        "intent": "order",
        "category": [
          {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
                "code": "inpatient",
                "display": "Inpatient"
              }
            ]
          }
        ],
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "321196004",
              "display": "Diazepam 2mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "authoredOn": "2021-05-07T14:47:29+00:00",
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "04F4C2-A99968-7F717P",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "613452a2-ca1b-4a76-8191-d92e1f48928c"
              }
            }
          ]
        },
        "courseOfTherapyType": {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
              "code": "acute",
              "display": "Short course (acute) therapy"
            }
          ]
        },
        "dosageInstruction": [
          {
            "sequence": 1,
            "text": "4 times a day - for 4 days - Oral - Dissolved under the tongue",
            "additionalInstruction": [
              {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "code": "417995008",
                    "display": "Dissolved under the tongue"
                  }
                ]
              }
            ],
            "patientInstruction": "Some relevant instructions for the patient.",
            "timing": {
              "repeat": {
                "boundsDuration": {
                  "value": 4.5,
                  "unit": "day",
                  "system": "http://unitsofmeasure.org",
                  "code": "d"
                },
                "frequency": 4.5,
                "period": 1,
                "periodUnit": "d"
              }
            },
            "asNeeded": {
              "asNeededBoolean": true,
              "asNeededCodeableConcept": {
                "coding": [
                  {
                    "system": "http://snomed.info/sct",
                    "version": "string",
                    "code": "59380008",
                    "display": "Anterior abdominal wall structure",
                    "userSelected": true
                  }
                ],
                "text": "string"
              }
            },
            "site": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "59380008",
                  "display": "Anterior abdominal wall structure"
                }
              ]
            },
            "route": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "version": "string",
                  "code": "59380008",
                  "display": "Anterior abdominal wall structure",
                  "userSelected": true
                }
              ]
            },
            "method": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "129326001",
                  "display": "Injection"
                }
              ]
            },
            "doseAndRate": [
              {
                "type": {
                  "coding": [
                    {}
                  ],
                  "text": "string"
                }
              }
            ],
            "maxDosePerPeriod": {
              "numerator": {
                "value": 7.5,
                "unit": "milligram",
                "system": "http://unitsofmeasure.org",
                "code": "mg"
              },
              "denominator": {
                "value": 24.5,
                "unit": "hour",
                "system": "http://unitsofmeasure.org",
                "code": "h"
              }
            },
            "maxDosePerAdministration": {
              "value": 60.5,
              "unit": "milligram",
              "system": "http://unitsofmeasure.org",
              "code": "mg"
            },
            "maxDosePerLifetime": {
              "value": 600.5,
              "unit": "milligram per square metre",
              "system": "http://unitsofmeasure.org",
              "code": "mg/m2"
            }
          }
        ],
        "note": [
          {
            "text": "Dosage has been decreased on advice from the hospital."
          }
        ],
        "dispenseRequest": {
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
              "valueCoding": {
                "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
                "code": "P1"
              }
            }
          ],
          "numberOfRepeatsAllowed": 0,
          "validityPeriod": {
            "start": "2022-10-21",
            "end": "2022-10-21"
          },
          "expectedSupplyDuration": {
            "value": 28,
            "unit": "day",
            "system": "http://unitsofmeasure.org",
            "code": "d"
          },
          "performer": {
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            }
          },
          "quantity": {
            "value": 20.5,
            "unit": "tablet",
            "system": "http://snomed.info/sct",
            "code": 428673006
          }
        },
        "substitution": {
          "allowedBoolean": false
        }
      }
    }
  ]
}

```

A FHIR Bundle.

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|resourceType|string|true|none|FHIR resource type.|
|id|string|false|none|An object ID for the Bundle.|
|identifier|object|true|none|none|
| system|string|false|none|codesystem URL for identifiers|
| value|string|false|none|The X-Request ID for the message.|
|type|string|true|none|The type of payload being carried within the Bundle.|
|entry|[oneOf]|true|none|A collection of resources contained within the Bundle.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|MedicationRequest|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|A MedicationRequest object is required. An EPS prescription must contain at least one and up to four MedicationRequest objects. This is equivalent to an item on a prescription.<br>Any fields mentioned in the Simplifer Spec but not in this schema are permitted, but may not be preserved or acted on by the API. <br>Reason for medication dispense should be appended to dosageInstruction.text, as reasonCode is not made available to dispensers.|
| resourceType|string|true|none|FHIR resource type|
| extension|[oneOf]|true|none|FHIR extension array.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The quantity of a controlled drug, expressed in words|
| url|string|false|none|URL of the extension definition.|
| extension|[oneOf]|false|none|FHIR extension array.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the quantity in words|
| url|string|false|none|URL for the controlled drug quantity|
| valueString|string|false|none|quantity expressed in words|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the schedule of the controlled drug|
| url|string|false|none|URL for the controlled drug schedule|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem to identify the controlled drug schedule|
| code|string|false|none|a code to identify the controlled drug schedule|
| display|string|false|none|a human readable display to accompany the controlled drug schedule code|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| display|string|false|none|The name of the responsible practitioner.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|string|false|none|URL of the extension definition.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|The review date of the prescription.<br>This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.|
| valueDateTime|string|false|none|A date value|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.<br><br>For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.|
| url|string|false|none|URL of the extension definition.|
| valueCoding|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|string|false|none|codesystem URL for the prescription type|
| code|string|false|none|The prescription type code|
| display|string|false|none|The display that accompanies the prescription type code|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. <br><br>View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).|
| url|string|false|none|URL of the extension definition.|
| valueCodeableConcept|object|false|none|none|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for endorsements.|
| code|string|true|none|The endorsement code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| identifier|[object]|true|none|The unique identifier for this line item on the prescription.|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| status|string|true|none|The status of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| intent|string|true|none|The intent of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| category|[object]|true|none|Identifies the context in which a prescription is created.<br>For example, a prescription created within primary care will be categorised as "community."<br>Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."<br>This must be consistent across all MedicationRequests in a Bundle.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription category.|
| code|string|true|none|Code for the prescription category.|
| display|string|false|none|Display value for the prescription category.|
| medicationCodeableConcept|object|true|none|The medication that is being prescribed. <br>This must be represented using a VMP or AMP concept from the dm+d.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|string|true|none|SNOMED code for the medication, as defined in the dm+d.|
| display|string|false|none|Human readable name for the medication.|
| subject|object|true|none|Reference object to identify the patient a prescription is for. <br>A Patient resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a Patient resource within the Bundle|
| authoredOn|string(date-time)|false|none|Reserved for future use and will currently be ignored. Do not use.|
| requester|object|true|none|Reference object to identify the requester of a prescription. <br>A PractitionerRole resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|object|true|none|An object containing the short-form and long-form Prescription ID.|
| system|string|true|none|Codesystem URL for the short-form Prescription ID.|
| value|string|true|none|The short-form Prescription ID. <br>An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). <br>It is to be formatted as follows:<br>  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.<br>  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  <br>  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.<br>  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.|
| extension|[object]|false|none|FHIR extension array containing the long-form Prescription ID.|
| url|string|true|none|none|
| valueIdentifier|object|true|none|The long-form identifier of the prescription.|
| system|string|true|none|Codesystem URL for the long-form Prescription ID.|
| value|string|true|none|The long-form prescription ID.|
| courseOfTherapyType|object|true|none|Denotes whether a prescription is an acute, a repeat, or an eRD.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription treatment type.|
| code|string|true|none|Code identifying the prescription treatment type.<br>* acute: acute prescriptions<br>* continuous: repeat prescriptions<br>* continuous-repeat-dispensing: eRD prescriptions|
| display|string|false|none|Display value for the prescription treatment type.|
| dosageInstruction|[object]|true|none|The dosage instructions for a prescription. <br>These must be expressed as both structured dose and text.|
| sequence|integer(int32)|false|none|The order of the dosage instructions.<br>Indicates the order in which the dosage instructions should be applied or interpreted.|
| text|string|false|none|The dosage instructions expressed as text.<br>Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.<br>Instructions with the same sequence number will be separated by ", and"<br>Instructions with different sequence numbers will be separated by ", then"<br>Please do not use full stops or commas at the end of any instructions provided.|
| additionalInstruction|[object]|false|none|Supplemental instruction or warnings to the patient.<br>E.g. "with meals", "may cause drowsiness".|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|SNOMED code for additional dosage instructions.|
| display|string|false|none|Additional dosage instructions (qualifier value).|
| patientInstruction|string|false|none|Patient or consumer oriented instructions.|
| timing|object|false|none|A structured expression of dose frequency.|
| repeat|object|false|none|The frequency and period over which the medication should be consumed.|
| boundsDuration|object|false|none|The bounds duration at which the medication should be consumed.<br>E.g. "4.5" for 4 & 1/2 days.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| frequency|number|false|none|The frequency at which the medication should be consumed within a given period.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.<br>E.g. "4" for 4 times over a given period.|
| period|integer(int32)|false|none|The period over which the frequency applies.<br>e.g. "1" for 1 day.|
| periodUnit|string|false|none|The fundamental unit of the period, defined in UCUM.|
| asNeeded|object|false|none|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), <br>or it indicates the precondition for taking the Medication (CodeableConcept).|
| asNeededBoolean|boolean|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.|
| asNeededCodeableConcept|object|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| text|string|false|none|Plain text representation of the concept.|
| site|object|false|none|Body site to administer to.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|none|
| route|object|false|none|A structured expression of how the medication should be consumed.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| method|object|false|none|Technique for administering medication.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying the technique for administering medication.|
| display|string|false|none|none|
| doseAndRate|[oneOf]|false|none|Amount of medication administered.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| type|object|false|none|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|integer|true|none|Valid SNOMED code identifying how the medication should be consumed.|
| display|string|false|none|Human readable name for the method of consumption.|
| text|string|false|none|Plain text representation of the concept.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| dose|[object]|false|none|Amount of medication per dose.|
| doseRange|object|false|none|A dose that may be in a given low / high range.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, <br>to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something <br>like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| doseQuantity|object|false|none|The amount of medication per dose, as a simple coded quantity.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rate|[object]|false|none|Amount of medication per unit of time.|
| rateRatio|object|false|none|Where the rate is expressed as coded numerator and denominator values.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateRange|object|false|none|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateQuantity|object|false|none|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent<br>to defining the rate using the more complex rateRatio structure.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| maxDosePerPeriod|object|false|none|Upper limit on medication per unit of time.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerAdministration|object|false|none|Used to define a maximum dose for a single administration.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerLifetime|object|false|none|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| note|[object]|false|none|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|string|false|none|Specific additional instructions for a prescription line item.|
| dispenseRequest|object|true|none|A FHIR object containing information relevant to how the prescription should be dispensed. <br>These values should be consistent across all MedicationRequests in a Bundle.|
| extension|[object]|true|none|FHIR extension array.|
| url|string|false|none|Extension URL for DM-PerformerSiteType.|
| valueCoding|object|false|none|none|
| system|string|false|none|Codesystem URL to hold the nomination.|
| code|string|false|none|The nomination applied to a prescription.<br>This could either be a nomination for:<br>  * A dispensing contractor (P1)<br>  * A dispensing appliance contractor (P2)<br>  * A dispensing doctor (P3)<br>Or a non-nominated prescription (0004).|
| numberOfRepeatsAllowed|integer|false|none|For eRD and repeat prescriptions only.<br>The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. <br>For repeat prescriptions, this value must always default to 0.|
| validityPeriod|object|false|none|The start and end dates of a prescription.|
| start|string(date)|false|none|Start date of an issue; sometimes same as prescription's start date.|
| end|string(date)|false|none|End date of an issue; capped at 12 months and cannot exceed the prescription's end date.<br>Overall validity of the drug.|
| expectedSupplyDuration|object|false|none|For eRD prescriptions only. <br>Duration of each issue in days; defaults to 28.|
| value|integer|false|none|The number of days each issue in an eRD prescription is valid for.|
| unit|string|false|none|The UCUM unit of measure display for days.|
| system|string|false|none|Codesystem URL for UCUM.|
| code|string|false|none|The UCUM unit of measure code for days.|
| performer|object|false|none|For nominated prescriptions only, including one-off nominations.<br>The ODS code of the nominated pharmacy that a prescription is going to.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| quantity|object|true|none|The quantity of a medication item being prescribed.|
| value|number|false|none|The numeric value of the quantity being prescribed.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|string|false|none|SNOMED codesystem URL.|
| code|integer|false|none|The dm+d code associated with a given unit of measure.|
| substitution|object|true|none|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|boolean|false|none|none|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|PractitionerRole|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Role-specific details of the requester or responsible practitioner of a prescription.<br>If for a responsible practitioner, at least one of the practitionerRole, referenced practitioner,<br>or referenced organization must have a telecom field. Note that PractitionerRole level<br>NHS BSA spurious code will take priority over supplier practitioner identifier, if present.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[oneOf]|false|none|An array containing role-specific identifiers for the prescriber|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS Role Profile ID.|
| system|string|true|none|Codesystem URL for the SDS role profile ID.|
| value|string|true|none|SDS role profile ID.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's spurious code.|
| system|string|true|none|Codesystem URL for the spurious code.|
| value|string|true|none|Spurious code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| practitioner|any|true|none|none|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|string|false|none|A FHIR reference object.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|An identifier if part of an organization-only responsible practitioner.|
| identifier|any|false|none|none|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the DIN Number.|
| value|string|true|none|The DIN Number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GMC number.|
| system|string|false|none|Codesystem URL for the GMC Number.|
| value|string|false|none|GMC Number|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GMP number.|
| system|string|true|none|Codesystem URL for the GMP number.|
| value|string|true|none|The GMP number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's NMC number.|
| system|string|true|none|Codesystem URL for the NMC number.|
| value|string|true|none|The NMC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GPhC number.|
| system|string|false|none|Codesystem URL for the GPhC number.|
| value|string|false|none|GPhC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's HCPC number.|
| system|string|true|none|Codesystem URL for the HCPC number.|
| value|string|true|none|The HCPC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the Professional Code.|
| value|string|true|none|The Professional Code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| organization|object|true|none|A reference to an Organization resource.|
| reference|string|false|none|A FHIR reference object.|
| code|[object]|false|none|The SDS job role code for a given prescriber or dispenser.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the job role code.|
| code|string|true|none|The SDS job role code.|
| display|string|false|none|Display text for the SDS job role code.|
| telecom|object|false|none|none|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Practitioner|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Details of the author or responsible party of a prescription.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[oneOf]|true|none|An array containing the prescriber's professional codes and identifiers.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS User Identifier.|
| system|string|true|none|Codesystem URL for the SDS User Identifier.|
| value|string|true|none|SDS User Identifier.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the DIN Number.|
| value|string|true|none|The DIN Number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GMC number.|
| system|string|false|none|Codesystem URL for the GMC Number.|
| value|string|false|none|GMC Number|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GPhC number.|
| system|string|false|none|Codesystem URL for the GPhC number.|
| value|string|false|none|GPhC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's HCPC number.|
| system|string|true|none|Codesystem URL for the HCPC number.|
| value|string|true|none|The HCPC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's NMC number.|
| system|string|true|none|Codesystem URL for the NMC number.|
| value|string|true|none|The NMC number.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| name|[object]|true|none|The prescriber's name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|MessageHeader|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|none|
| resourceType|string|true|none|FHIR resource type.|
| eventCoding|object|true|none|The type of message event being generated.|
| system|string|false|none|codesystem URL for message events.|
| code|string|false|none|code for the message event.|
| display|string|false|none|display value accompanying the code for the message event.|
| destination|[object]|false|none|none|
| endpoint|string|false|none|none|
| receiver|object|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|false|none|none|
| sender|object|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|none|
| source|object|true|none|The organisation originating the message.|
| endpoint|string|false|none|ODS code of the organisation originating the message, expressed as a URL.|
| focus|[object]|false|none|none|
| reference|string|false|none|none|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Patient|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|The patient the prescription is for.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|The patient's NHS number.|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|
| name|[object]|true|none|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|How this name should be used.<br>* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.<br>Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.<br>Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|
| gender|string|true|none|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.<br>It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.|
| birthDate|string(date)|true|none|The date on which the patient was born or is officially deemed to have been born.<br><br>It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.<br><br>When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.|
| address|[object]|true|none|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|Purpose of this address:<br>  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address<br>  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged<br><br>  A patient should have no more than one current `temp` address.<br>  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.<br>  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).<br><br>  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.<br>  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>*  line 4 - post town, e.g. `Leeds`<br>*  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
| telecom|[object]|false|none|The patient's telephone number.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with communication system.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|[object]|true|none|General practice (not practitioner) with which the patient is or was registered.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Organization|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.<br><br>Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing the ODS code of the organisation|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| name|string|true|none|Organisation name.|
| address|[object]|true|none|Organisation address.|
| use|string|false|none|The purpose of the address.|
| type|string|false|none|The type of address.|
| line|[string]|false|none|All lines of the address except the city, district, and postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| city|string|false|none|The city of the address.|
| district|string|false|none|The district of the address.|
| postalCode|string|false|none|The postal code of the address.|
| telecom|[object]|true|none|The telephone number associated with the organisation.|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|
| partOf|object|true|none|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|the name of the managing organisation|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|CommunicationRequest|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Additional instructions intended for the patient.<br>For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the CommunicationRequest. Must always default to "active".|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| payload|[object]|true|none|Additional instructions provided as part of this prescription.|
| contentString|string|false|none|Additional instructions intended for the patient.|
| contentReference|object|false|none|A reference to the list of repeat medications that the patient is on.|
| reference|string|false|none|A reference to a List resource within the Bundle|
| requester|object|false|none|Details of the prescribing organisation originating the instructions.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| recipient|[object]|false|none|Details of the patient receiving the instructions.|
| identifier|object|false|none|none|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|List|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|For repeat and eRD prescriptions only. <br><br>A structured list of repeat medication items prescribed to the patient.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the List object. Must always default to "current".|
| mode|string|false|none|The type of List being represented. Must always default to "snapshot".|
| code|object|false|none|A description of what the list represents.|
| text|string|false|none|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| entry|[object]|false|none|list of repeat medication items prescribed to the patient.|
| item|object|false|none|A medication item, represented using its dm+d name and description.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Provenance|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|A resource to contain the digital signature attached to a prescription, see [Generation of the provenance resource](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/how-to-embed-a-signature-within-a-prescription#step-three-create-signature-block) for guidance.|
| resourceType|string|false|none|FHIR resource type.|
| id|string|false|none|none|
| target|[object]|false|none|Reference object to identify the line items in a prescription that are being signed.<br>A reference to each MedicationRequest resource in the Bundle must be provided.|
| type|string|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| recorded|string(date-time)|false|none|The time the prescription was signed.|
| agent|[object]|false|none|A reference to the prescriber who signed the prescription, i.e. the requester of the prescription.<br>A PractitionerRole resource within the Bundle must be referenced.|
| who|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| signature|[object]|false|none|The Advanced Electronic Signature (AES) attached to a prescription.|
| type|[object]|false|none|The type of signature attached to a prescription.|
| system|string|false|none|FHIR codesystem URN for signatures|
| code|string|false|none|none|
| when|string(date-time)|true|none|The time the prescription was signed. This must be the timestamp found in the prepare endpoint response.|
| who|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle. <br>This will still be a reference to the prescriber who signed the prescription.|
| data|string(byte)|false|none|An advanced electronic signature, which may be generated using the Signing Service. See [this link](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/how-to-embed-a-signature-within-a-prescription#step-three-create-signature-block) for guidance.|

#### Enumerated Values

|Property|Value|
|---|---|
|id|164996aa-29eb-4f14-a5ac-4b556a7baf6e|
|system|https://tools.ietf.org/html/rfc4122|
|type|message|
|resourceType|MedicationRequest|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
|url|quantityWords|
|url|schedule|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
|code|CD1|
|code|CD2|
|code|CD3|
|code|CD4|
|code|CD5|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
|url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
|url|authorisationExpiryDate|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
|system|https://fhir.nhs.uk/CodeSystem/prescription-type|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
|code|ACBS|
|code|AF|
|code|CC|
|code|FS|
|code|SLS|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|status|active|
|status|cancelled|
|status|completed|
|intent|order|
|intent|original-order|
|intent|instance-order|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
|code|inpatient|
|code|outpatient|
|code|community|
|code|discharge|
|display|Inpatient|
|display|Outpatient|
|display|Community|
|display|Discharge|
|system|http://snomed.info/sct|
|system|https://fhir.nhs.uk/Id/prescription-order-number|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
|system|https://fhir.nhs.uk/Id/prescription|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
|code|acute|
|code|continuous|
|code|continuous-repeat-dispensing|
|display|Short course (acute) therapy|
|display|Continuous long term therapy|
|display|Continuous long term (repeat dispensing)|
|system|http://snomed.info/sct|
|asNeededBoolean|true|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
|system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
|code|P1|
|code|P2|
|code|P3|
|code|0004|
|system|http://unitsofmeasure.org|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|http://snomed.info/sct|
|allowedBoolean|false|
|resourceType|PractitionerRole|
|system|https://fhir.nhs.uk/Id/sds-role-profile-id|
|system|https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code|
|system|https://fhir.hl7.org.uk/Id/din-number|
|system|https://fhir.hl7.org.uk/Id/gmc-number|
|system|https://fhir.hl7.org.uk/Id/gmp-number|
|system|https://fhir.hl7.org.uk/Id/nmc-number|
|system|https://fhir.hl7.org.uk/Id/gphc-number|
|system|https://fhir.hl7.org.uk/Id/hcpc-number|
|system|https://fhir.hl7.org.uk/Id/professional-code|
|system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|resourceType|Practitioner|
|system|https://fhir.nhs.uk/Id/sds-user-id|
|system|https://fhir.hl7.org.uk/Id/din-number|
|system|https://fhir.hl7.org.uk/Id/gmc-number|
|system|https://fhir.hl7.org.uk/Id/gphc-number|
|system|https://fhir.hl7.org.uk/Id/hcpc-number|
|system|https://fhir.hl7.org.uk/Id/nmc-number|
|resourceType|MessageHeader|
|system|https://fhir.nhs.uk/CodeSystem/message-event|
|code|prescription-order|
|display|Prescription Order|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|
|use|usual|
|gender|male|
|gender|female|
|gender|other|
|gender|unknown|
|use|home|
|use|temp|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|use|home|
|use|work|
|use|billing|
|use|temp|
|type|postal|
|type|physical|
|type|both|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|status|active|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|
|status|current|
|mode|snapshot|
|text|Repeat Medications|
|resourceType|Provenance|
|type|MedicationRequest|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|system|urn:iso-astm:E1762-95:2013|
|code|1.2.840.10065.1.12.1.1|

<h2 id="tocS_Cancel-Request-Bundle">Cancel-Request-Bundle</h2>
<!-- backwards compatibility -->
<a id="schemacancel-request-bundle"></a>
<a id="schema_Cancel-Request-Bundle"></a>
<a id="tocScancel-request-bundle"></a>
<a id="tocscancel-request-bundle"></a>

```json
{
  "resourceType": "Bundle",
  "id": "164996aa-29eb-4f14-a5ac-4b556a7baf6e",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "164996aa-29eb-4f14-a5ac-4b556a7baf6e"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
      "resource": {
        "resourceType": "MessageHeader",
        "eventCoding": {
          "system": "https://fhir.nhs.uk/CodeSystem/message-event",
          "code": "prescription-order-update",
          "display": "Prescription Order Update"
        },
        "source": {
          "endpoint": "urn:nhs-uk:addressing:ods:A83008"
        }
      }
    }
  ]
}

```

A FHIR Bundle.

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|resourceType|string|true|none|FHIR resource type.|
|id|string|false|none|An object ID for the Bundle.|
|identifier|object|true|none|none|
| system|string|false|none|codesystem URL for identifiers|
| value|string|false|none|The X-Request ID for the message.|
|type|string|true|none|The reason why a series of resources and objects are grouped together.|
|entry|[oneOf]|true|none|A collection of resources contained within the Bundle.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|MessageHeader|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|none|
| resourceType|string|true|none|FHIR resource type.|
| eventCoding|object|true|none|The type of message event being generated.|
| system|string|false|none|codesystem URL for message events.|
| code|string|false|none|code for the message event.|
| display|string|false|none|display value accompanying the code for the message event.|
| source|object|true|none|The organisation originating the message.|
| endpoint|string|false|none|ODS code of the organisation originating the message, expressed as a URN.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|MedicationRequest|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|A cancel request is effectively an update to a prescription, expressed through a MedicationRequest resource for each line item that is being cancelled.|
| resourceType|string|true|none|FHIR resource type.|
| statusReason|object|true|none|The reason the line item is being cancelled.<br>The reason must be in line with the cancellation reasons vocabulary <link>.|
| coding|[object]|false|none|none|
| system|string|true|none|codesystem URL for the cancellation reason.|
| code|string|true|none|cancel reason code.|
| display|string|false|none|the display accompanying the cancel reason code.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| display|string|false|none|The name of the responsible practitioner.|
| identifier|[object]|true|none|The unique ID for each line item on a prescription.|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| status|string|true|none|The status of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| intent|string|true|none|The intent of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| category|[object]|true|none|Identifies the context in which a prescription is created.<br>For example, a prescription created within primary care will be categorised as "community."<br>Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription category.|
| code|string|true|none|Code for the prescription category.|
| display|string|false|none|Display value for the prescription category.|
| medicationCodeableConcept|object|true|none|The medication that is being cancelled. <br>This must be represented as a VMP or AMP concept from the dm+d.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|string|true|none|SNOMED code for the medication, as defined in the dm+d.|
| display|string|false|none|Human readable name for the medication.|
| subject|object|true|none|Reference object to identify the patient a prescription is for. <br>A Patient resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| requester|object|true|none|Reference object to identify the author of a cancel request. <br>A PractitionerRole resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| groupIdentifier|object|true|none|An object containing the short-form and long-form Prescription ID.|
| system|string|true|none|Codesystem URL for the short-form Prescription ID.|
| value|string|true|none|The short-form Prescription ID. <br>An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). <br>It is to be formatted as follows:<br>  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.<br>  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  <br>  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.<br>  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.|
| extension|[object]|false|none|FHIR extension array containing the long-form Prescription ID.|
| url|string|true|none|none|
| valueIdentifier|object|true|none|The long-form identifier of the prescription.|
| system|string|true|none|Codesystem URL for the long-form Prescription ID.|
| value|string|true|none|The long-form prescription ID.|
| courseOfTherapyType|object|true|none|The treatment type of the prescription, i.e. whether it is an acute, repeat, or eRD prescription.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription treatment type.|
| code|string|true|none|Code identifying the prescription treatment type.<br>* acute: acute prescriptions<br>* continuous: repeat prescriptions<br>* continuous-repeat-dispensing: eRD prescriptions|
| display|string|false|none|Display value for the prescription treatment type.|
| dosageInstruction|[object]|true|none|The dosage instructions for a prescription. <br>These must be expressed as both structured dose and text.|
| sequence|integer(int32)|false|none|The order of the dosage instructions.<br>Indicates the order in which the dosage instructions should be applied or interpreted.|
| text|string|false|none|The dosage instructions expressed as text.<br>Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.<br>Instructions with the same sequence number will be separated by ", and"<br>Instructions with different sequence numbers will be separated by ", then"<br>Please do not use full stops or commas at the end of any instructions provided.|
| additionalInstruction|[object]|false|none|Supplemental instruction or warnings to the patient.<br>E.g. "with meals", "may cause drowsiness".|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|SNOMED code for additional dosage instructions.|
| display|string|false|none|Additional dosage instructions (qualifier value).|
| patientInstruction|string|false|none|Patient or consumer oriented instructions.|
| timing|object|false|none|A structured expression of dose frequency.|
| repeat|object|false|none|The frequency and period over which the medication should be consumed.|
| boundsDuration|object|false|none|The bounds duration at which the medication should be consumed.<br>E.g. "4.5" for 4 & 1/2 days.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| frequency|number|false|none|The frequency at which the medication should be consumed within a given period.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.<br>E.g. "4" for 4 times over a given period.|
| period|integer(int32)|false|none|The period over which the frequency applies.<br>e.g. "1" for 1 day.|
| periodUnit|string|false|none|The fundamental unit of the period, defined in UCUM.|
| asNeeded|object|false|none|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), <br>or it indicates the precondition for taking the Medication (CodeableConcept).|
| asNeededBoolean|boolean|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.|
| asNeededCodeableConcept|object|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| text|string|false|none|Plain text representation of the concept.|
| site|object|false|none|Body site to administer to.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|none|
| route|object|false|none|A structured expression of how the medication should be consumed.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| method|object|false|none|Technique for administering medication.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying the technique for administering medication.|
| display|string|false|none|none|
| doseAndRate|[oneOf]|false|none|Amount of medication administered.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| type|object|false|none|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|integer|true|none|Valid SNOMED code identifying how the medication should be consumed.|
| display|string|false|none|Human readable name for the method of consumption.|
| text|string|false|none|Plain text representation of the concept.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| dose|[object]|false|none|Amount of medication per dose.|
| doseRange|object|false|none|A dose that may be in a given low / high range.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, <br>to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something <br>like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| doseQuantity|object|false|none|The amount of medication per dose, as a simple coded quantity.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rate|[object]|false|none|Amount of medication per unit of time.|
| rateRatio|object|false|none|Where the rate is expressed as coded numerator and denominator values.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateRange|object|false|none|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateQuantity|object|false|none|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent<br>to defining the rate using the more complex rateRatio structure.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| maxDosePerPeriod|object|false|none|Upper limit on medication per unit of time.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerAdministration|object|false|none|Used to define a maximum dose for a single administration.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerLifetime|object|false|none|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| note|[object]|false|none|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|string|false|none|Specific additional instructions for a prescription line item.|
| dispenseRequest|object|true|none|A FHIR object containing information relevant to how the prescription should be dispensed. <br>These values should be consistent across all MedicationRequests in a Bundle.|
| extension|[object]|true|none|FHIR extension array.|
| url|string|false|none|Extension URL for DM-PerformerSiteType.|
| valueCoding|object|false|none|none|
| system|string|false|none|Codesystem URL to hold the nomination.|
| code|string|false|none|The nomination applied to a prescription.<br>This could either be a nomination for:<br>  * A dispensing contractor (P1)<br>  * A dispensing appliance contractor (P2)<br>  * A dispensing doctor (P3)<br>Or a non-nominated prescription (0004).|
| numberOfRepeatsAllowed|integer|false|none|For eRD and repeat prescriptions only.<br>The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. <br>For repeat prescriptions, this value must always default to 0.|
| validityPeriod|object|false|none|The start and end dates of a prescription.|
| start|string|false|none|The start date of a prescription.|
| end|string|false|none|For eRD prescriptions only. The end date of a prescription.|
| expectedSupplyDuration|object|false|none|For eRD prescriptions only. <br>The duration of each issue within an eRD prescription. This must be expressed in days.|
| value|number|false|none|The number of days each issue in an eRD prescription is valid for.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|The UCUM unit of measure display for days.|
| system|string|false|none|Codesystem URL for UCUM.|
| code|string|false|none|The UCUM unit of measure code for days.|
| performer|object|false|none|For nominated prescriptions only, including one-off nominations.<br>The ODS code of the nominated dispenser.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| quantity|object|true|none|The quantity of the medication being prescribed.|
| value|number|false|none|The numeric value of the quantity being prescribed.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|string|false|none|SNOMED codesystem URL.|
| code|integer|false|none|The dm+d code associated with a given unit of measure.|
| substitution|object|true|none|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|boolean|false|none|none|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Patient|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|The patient the prescription is for.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|The patient's NHS number.|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|
| name|[object]|true|none|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|How this name should be used.<br>* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.<br>Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.<br>Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|
| gender|string|true|none|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.<br>It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.|
| birthDate|string(date)|true|none|The date on which the patient was born or is officially deemed to have been born.<br><br>It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.<br><br>When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.|
| address|[object]|true|none|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|Purpose of this address:<br>  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address<br>  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged<br><br>  A patient should have no more than one current `temp` address.<br>  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.<br>  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).<br><br>  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.<br>  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>*  line 4 - post town, e.g. `Leeds`<br>*  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
| telecom|[object]|false|none|The patient's telephone number.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with communication system.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|[object]|true|none|General practice (not practitioner) with which the patient is or was registered.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Organization|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.<br><br>Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing the ODS code of the organisation|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| name|string|true|none|Organisation name.|
| address|[object]|true|none|Organisation address.|
| use|string|false|none|The purpose of the address.|
| type|string|false|none|The type of address.|
| line|[string]|false|none|All lines of the address except the city, district, and postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| city|string|false|none|The city of the address.|
| district|string|false|none|The district of the address.|
| postalCode|string|false|none|The postal code of the address.|
| telecom|[object]|true|none|The telephone number associated with the organisation.|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|
| partOf|object|true|none|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|the name of the managing organisation|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|CommunicationRequest|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Additional instructions intended for the patient.<br>For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the CommunicationRequest. Must always default to "active".|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| payload|[object]|true|none|Additional instructions provided as part of this prescription.|
| contentString|string|false|none|Additional instructions intended for the patient.|
| contentReference|object|false|none|A reference to the list of repeat medications that the patient is on.|
| reference|string|false|none|A reference to a List resource within the Bundle|
| requester|object|false|none|Details of the prescribing organisation originating the instructions.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| recipient|[object]|false|none|Details of the patient receiving the instructions.|
| identifier|object|false|none|none|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|List|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|For repeat and eRD prescriptions only. <br><br>A structured list of repeat medication items prescribed to the patient.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the List object. Must always default to "current".|
| mode|string|false|none|The type of List being represented. Must always default to "snapshot".|
| code|object|false|none|A description of what the list represents.|
| text|string|false|none|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| entry|[object]|false|none|list of repeat medication items prescribed to the patient.|
| item|object|false|none|A medication item, represented using its dm+d name and description.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|PractitionerRole|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Role-specific details of the author or responsible party of a cancel request. <br><br>Where a cancel response contains details of the dispenser, role-specific details of the dispenser will also be contained within a PractitionerRole resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing role-specific identifiers for the prescriber or dispenser.|
| SDS Role Profile ID|object|false|none|The prescriber or dispenser's SDS Role Profile ID.|
| system|string|true|none|Codesystem URL for the SDS role profile ID.|
| value|string|true|none|SDS role profile ID.|
| practitioner|object|true|none|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|string|false|none|A FHIR reference object|
| organization|object|true|none|A reference to an Organization resource.<br><br>Where the cancel response contains details of the dispenser, this will contain the details of the dispensing organisation.|
| reference|string|false|none|a FHIR reference object|
| code|[object]|false|none|The SDS job role code for a given prescriber or dispenser.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the job role code.|
| code|string|true|none|The SDS job role code.|
| display|string|false|none|Display text for the SDS job role code.|
| telecom|[object]|false|none|the telephone number of a given prescriber or dispenser.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with the contact details provided.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Practitioner|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Details of the author or responsible party of a cancel request.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|An array containing the prescriber's professional codes and identifiers.|
| system|string|true|none|Codesystem URL for the SDS User Identifier.|
| value|string|true|none|SDS User Identifier.|
| name|[object]|true|none|The prescriber's name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|

#### Enumerated Values

|Property|Value|
|---|---|
|id|164996aa-29eb-4f14-a5ac-4b556a7baf6e|
|system|https://tools.ietf.org/html/rfc4122|
|type|message|
|system|https://fhir.nhs.uk/CodeSystem/message-event|
|code|prescription-order-update|
|display|Prescription Order Update|
|resourceType|MedicationRequest|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason|
|code|0001|
|code|0002|
|code|0003|
|code|0004|
|code|0005|
|code|0006|
|code|0007|
|code|0008|
|code|0009|
|display|Prescribing error|
|display|Clinical contra-indication|
|display|Change to medication treatment regime|
|display|Clinical grounds|
|display|At the Patient's request|
|display|At the Pharmacist's request|
|display|Notification of Death|
|display|Patient deducted - other reason|
|display|Patient deducted- registered with new practice|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|status|cancelled|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
|code|inpatient|
|code|outpatient|
|code|community|
|code|discharge|
|display|Inpatient|
|display|Outpatient|
|display|Community|
|display|Discharge|
|system|http://snomed.info/sct|
|system|https://fhir.nhs.uk/Id/prescription-order-number|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
|system|https://fhir.nhs.uk/Id/prescription|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
|code|acute|
|code|continuous|
|code|continuous-repeat-dispensing|
|display|Short course (acute) therapy|
|display|Continuous long term therapy|
|display|Continuous long term (repeat dispensing)|
|system|http://snomed.info/sct|
|asNeededBoolean|true|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
|system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
|code|P1|
|code|P2|
|code|P3|
|code|0004|
|system|http://unitsofmeasure.org|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|http://snomed.info/sct|
|allowedBoolean|false|
|system|https://fhir.nhs.uk/Id/nhs-number|
|use|usual|
|gender|male|
|gender|female|
|gender|other|
|gender|unknown|
|use|home|
|use|temp|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|use|home|
|use|work|
|use|billing|
|use|temp|
|type|postal|
|type|physical|
|type|both|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|status|active|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|
|status|current|
|mode|snapshot|
|text|Repeat Medications|
|system|https://fhir.nhs.uk/Id/sds-role-profile-id|
|system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/sds-user-id|

<h2 id="tocS_Cancel-Response-Bundle">Cancel-Response-Bundle</h2>
<!-- backwards compatibility -->
<a id="schemacancel-response-bundle"></a>
<a id="schema_Cancel-Response-Bundle"></a>
<a id="tocScancel-response-bundle"></a>
<a id="tocscancel-response-bundle"></a>

```json
{
  "resourceType": "Bundle",
  "id": "164996aa-29eb-4f14-a5ac-4b556a7baf6e",
  "identifier": {
    "system": "https://tools.ietf.org/html/rfc4122",
    "value": "164996aa-29eb-4f14-a5ac-4b556a7baf6e"
  },
  "type": "message",
  "entry": [
    {
      "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
      "resource": {
        "resourceType": "MedicationRequest",
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionTaskStatusReason",
            "extension": [
              {
                "url": "status",
                "valueCoding": {
                  "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history",
                  "code": [
                    "R-0001"
                  ],
                  "display": [
                    "Prescription/item was cancelled"
                  ]
                }
              }
            ]
          }
        ],
        "identifier": [
          {
            "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
            "value": "dd11b07e-e137-488e-bc28-ab50384208b5"
          }
        ],
        "status": "active",
        "intent": "order",
        "medicationCodeableConcept": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "321196004",
              "display": "Diazepam 2mg tablets"
            }
          ]
        },
        "subject": {
          "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
        },
        "requester": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "groupIdentifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-number",
          "value": "04F4C2-A99968-7F717P",
          "extension": [
            {
              "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
              "valueIdentifier": {
                "system": "https://fhir.nhs.uk/Id/prescription",
                "value": "613452a2-ca1b-4a76-8191-d92e1f48928c"
              }
            }
          ]
        },
        "dispenseRequest": {
          "performer": {
            "extension": [
              {
                "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-DispensingPerformer",
                "valueReference": "urn:uuid:3c8dbf32-76c1-47e0-b71f-061a3de70b53"
              }
            ],
            "identifier": {
              "system": "https://fhir.nhs.uk/Id/ods-organization-code",
              "value": "A83008"
            },
            "display": "string"
          }
        }
      }
    }
  ]
}

```

A FHIR Bundle.

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|resourceType|string|true|none|FHIR resource type.|
|id|string|false|none|An object ID for the Bundle.|
|identifier|object|true|none|none|
| system|string|false|none|codesystem URL for identifiers|
| value|string|false|none|The X-Request ID for the message.|
|type|string|true|none|The reason why a series of resources and objects are grouped together.|
|entry|[oneOf]|true|none|A collection of resources contained within the Bundle.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|MedicationRequest|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|A cancel response and any information associated with it will be contained within a MedicationRequest resource.|
| resourceType|string|true|none|FHIR resource type|
| extension|[oneOf]|false|none|FHIR extension array.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|cancel response for a successful or unsuccessful cancel request.|
| url|string|false|none|codesystem URL for cancel responses.|
| extension|[oneOf]|false|none|FHIR extension array|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| url|string|false|none|none|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem URL for cancel response.|
| code|string|false|none|cancel response code|
| display|string|false|none|cancel response display|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| url|string|false|none|URL to identify the time that the cancel response was received|
| valueDateTime|string|false|none|The time that the cancel response was received|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|string|false|none|URL of the extension definition.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|The review date of the prescription.<br>This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.|
| valueDateTime|string|false|none|A date value|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.<br><br>For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.|
| url|string|false|none|URL of the extension definition.|
| valueCoding|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|string|false|none|codesystem URL for the prescription type|
| code|string|false|none|The prescription type code|
| display|string|false|none|The display that accompanies the prescription type code|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. <br><br>View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).|
| url|string|false|none|URL of the extension definition.|
| valueCodeableConcept|object|false|none|none|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for endorsements.|
| code|string|true|none|The endorsement code.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| display|string|false|none|The name of the responsible practitioner.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The quantity of a controlled drug, expressed in words|
| url|string|false|none|URL of the extension definition.|
| extension|[oneOf]|false|none|FHIR extension array.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the quantity in words|
| url|string|false|none|URL for the controlled drug quantity|
| valueString|string|false|none|quantity expressed in words|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the schedule of the controlled drug|
| url|string|false|none|URL for the controlled drug schedule|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem to identify the controlled drug schedule|
| code|string|false|none|a code to identify the controlled drug schedule|
| display|string|false|none|a human readable display to accompany the controlled drug schedule code|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| identifier|[object]|true|none|The unique ID for each line item on a prescription.|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| status|string|true|none|The status of a MedicationRequest object. <br><br>This must be consistent across all MedicationRequests in a Bundle.|
| intent|string|true|none|The intent of a MedicationRequest object. <br><br>This must be consistent across all MedicationRequests in a Bundle.|
| medicationCodeableConcept|object|true|none|The medication that is being cancelled. <br><br>This must be represented as a VMP or AMP concepts from the dm+d.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|string|true|none|SNOMED code for the medication, as defined in the dm+d.|
| display|string|false|none|Human readable name for the medication.|
| subject|object|true|none|Reference object to identify the patient a prescription is for. <br><br>A Patient resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a Patient resource within the Bundle|
| requester|object|true|none|Reference object to identify the author of a prescription. <br><br>A PractitionerRole resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|object|true|none|An object containing the short-form and long-form Prescription ID.|
| system|string|true|none|Codesystem URL for the short-form Prescription ID.|
| value|string|true|none|The short-form Prescription ID. <br>An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). <br>It is to be formatted as follows:<br>  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.<br>  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  <br>  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.<br>  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.|
| extension|[object]|false|none|FHIR extension array containing the long-form Prescription ID.|
| url|string|true|none|none|
| valueIdentifier|object|true|none|The long-form identifier of the prescription.|
| system|string|true|none|Codesystem URL for the long-form Prescription ID.|
| value|string|true|none|The long-form prescription ID.|
| dispenseRequest|object|true|none|A FHIR object containing information relevant to how the prescription should be dispensed. <br><br>These values should be consistent across all MedicationRequests in a Bundle.|
| performer|object|false|none|Where a cancel response is unsuccessful due to the prescription being with a dispenser, details of the dispenser who downloaded the prescription will be provided as part of the cancel response to enable the prescriber to contact the dispenser.|
| extension|[object]|false|none|Details of the dispenser who downloaded the prescription|
| url|string|false|none|codesystem URL for the dispenser.|
| valueReference|object|false|none|A reference to a PractitionerRole resource for the dispenser.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|false|none|The name of the dispensing organisation that downloaded the prescription|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|MessageHeader|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|none|
| resourceType|string|true|none|FHIR resource type.|
| eventCoding|object|true|none|The type of message event being generated.|
| system|string|false|none|codesystem URL for message events.|
| code|string|false|none|code for the message event.|
| display|string|false|none|display value accompanying the code for the message event.|
| source|object|true|none|The organisation originating the message.|
| endpoint|string|false|none|ODS code of the organisation originating the message, expressed as a URN.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Patient|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|The patient the prescription is for.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|The patient's NHS number.|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|
| name|[object]|true|none|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|How this name should be used.<br>* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.<br>Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.<br>Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|
| gender|string|true|none|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.<br>It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.|
| birthDate|string(date)|true|none|The date on which the patient was born or is officially deemed to have been born.<br><br>It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.<br><br>When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.|
| address|[object]|true|none|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|Purpose of this address:<br>  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address<br>  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged<br><br>  A patient should have no more than one current `temp` address.<br>  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.<br>  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).<br><br>  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.<br>  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>*  line 4 - post town, e.g. `Leeds`<br>*  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
| telecom|[object]|false|none|The patient's telephone number.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with communication system.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|[object]|true|none|General practice (not practitioner) with which the patient is or was registered.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|PractitionerRole|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Role-specific details of the author or responsible party of a cancel request. <br><br>Where a cancel response contains details of the dispenser, role-specific details of the dispenser will also be contained within a PractitionerRole resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing role-specific identifiers for the prescriber or dispenser.|
| SDS Role Profile ID|object|false|none|The prescriber or dispenser's SDS Role Profile ID.|
| system|string|true|none|Codesystem URL for the SDS role profile ID.|
| value|string|true|none|SDS role profile ID.|
| practitioner|object|true|none|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|string|false|none|A FHIR reference object|
| organization|object|true|none|A reference to an Organization resource.<br><br>Where the cancel response contains details of the dispenser, this will contain the details of the dispensing organisation.|
| reference|string|false|none|a FHIR reference object|
| code|[object]|false|none|The SDS job role code for a given prescriber or dispenser.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the job role code.|
| code|string|true|none|The SDS job role code.|
| display|string|false|none|Display text for the SDS job role code.|
| telecom|[object]|false|none|the telephone number of a given prescriber or dispenser.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with the contact details provided.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Practitioner|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Details of the author or responsible party of a cancel request.<br><br>Where a cancel response contains details of the dispenser, details of the dispenser will also be contained within a Practitioner resource.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[oneOf]|true|none|An array containing the prescriber's professional codes and identifiers.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS User Identifier.|
| system|string|true|none|Codesystem URL for the SDS User Identifier.|
| value|string|true|none|SDS User Identifier.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the Professional Code.|
| value|string|true|none|The Professional Code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| name|[object]|true|none|The prescriber's or dispenser's name.|
| family|string|false|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Organization|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.<br><br>Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing the ODS code of the organisation|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| name|string|true|none|Organisation name.|
| address|[object]|true|none|Organisation address.|
| use|string|false|none|The purpose of the address.|
| type|string|false|none|The type of address.|
| line|[string]|false|none|All lines of the address except the city, district, and postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| city|string|false|none|The city of the address.|
| district|string|false|none|The district of the address.|
| postalCode|string|false|none|The postal code of the address.|
| telecom|[object]|true|none|The telephone number associated with the organisation.|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|
| partOf|object|true|none|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|the name of the managing organisation|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|CommunicationRequest|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|Additional instructions intended for the patient.<br>For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the CommunicationRequest. Must always default to "active".|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| payload|[object]|true|none|Additional instructions provided as part of this prescription.|
| contentString|string|false|none|Additional instructions intended for the patient.|
| contentReference|object|false|none|A reference to the list of repeat medications that the patient is on.|
| reference|string|false|none|A reference to a List resource within the Bundle|
| requester|object|false|none|Details of the prescribing organisation originating the instructions.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| recipient|[object]|false|none|Details of the patient receiving the instructions.|
| identifier|object|false|none|none|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|List|
| fullUrl|string|true|none|object URL for the resource|
| resource|object|false|none|For repeat and eRD prescriptions only. <br><br>A structured list of repeat medication items prescribed to the patient.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the List object. Must always default to "current".|
| mode|string|false|none|The type of List being represented. Must always default to "snapshot".|
| code|object|false|none|A description of what the list represents.|
| text|string|false|none|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| entry|[object]|false|none|list of repeat medication items prescribed to the patient.|
| item|object|false|none|A medication item, represented using its dm+d name and description.|

#### Enumerated Values

|Property|Value|
|---|---|
|id|164996aa-29eb-4f14-a5ac-4b556a7baf6e|
|system|https://tools.ietf.org/html/rfc4122|
|type|message|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionTaskStatusReason|
|url|status|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history|
|url|statusdate|
|url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
|url|authorisationExpiryDate|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
|system|https://fhir.nhs.uk/CodeSystem/prescription-type|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
|code|ACBS|
|code|AF|
|code|CC|
|code|FS|
|code|SLS|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
|url|quantityWords|
|url|schedule|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
|code|CD1|
|code|CD2|
|code|CD3|
|code|CD4|
|code|CD5|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|status|active|
|status|cancelled|
|status|completed|
|system|http://snomed.info/sct|
|system|https://fhir.nhs.uk/Id/prescription-order-number|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
|system|https://fhir.nhs.uk/Id/prescription|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-DispensingPerformer|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/CodeSystem/message-event|
|code|prescription-order-response|
|display|Prescription Order Response|
|system|https://fhir.nhs.uk/Id/nhs-number|
|use|usual|
|gender|male|
|gender|female|
|gender|other|
|gender|unknown|
|use|home|
|use|temp|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/sds-role-profile-id|
|system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/sds-user-id|
|system|https://fhir.hl7.org.uk/Id/professional-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|use|home|
|use|work|
|use|billing|
|use|temp|
|type|postal|
|type|physical|
|type|both|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|status|active|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|
|status|current|
|mode|snapshot|
|text|Repeat Medications|

<h2 id="tocS_Create-MessageHeader-Resource">Create-MessageHeader-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacreate-messageheader-resource"></a>
<a id="schema_Create-MessageHeader-Resource"></a>
<a id="tocScreate-messageheader-resource"></a>
<a id="tocscreate-messageheader-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "MessageHeader",
    "eventCoding": {
      "system": "https://fhir.nhs.uk/CodeSystem/message-event",
      "code": "prescription-order",
      "display": "Prescription Order"
    },
    "destination": [
      {
        "endpoint": "https://sandbox.api.service.nhs.uk/electronic-prescriptions/$post-message",
        "receiver": {
          "identifier": {
            "system": "https://fhir.nhs.uk/Id/ods-organization-code",
            "value": "A83008"
          },
          "display": "The Simple Pharmacy"
        }
      }
    ],
    "sender": {
      "identifier": {
        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
        "value": "A83008"
      },
      "display": "HALLGARTH SURGERY"
    },
    "source": {
      "endpoint": "https://directory.spineservices.nhs.uk/STU3/Organization/A83008"
    },
    "focus": [
      {
        "reference": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6"
      }
    ]
  }
}

```

MessageHeader

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|none|
| resourceType|string|true|none|FHIR resource type.|
| eventCoding|object|true|none|The type of message event being generated.|
| system|string|false|none|codesystem URL for message events.|
| code|string|false|none|code for the message event.|
| display|string|false|none|display value accompanying the code for the message event.|
| destination|[object]|false|none|none|
| endpoint|string|false|none|none|
| receiver|object|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|false|none|none|
| sender|object|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|none|
| source|object|true|none|The organisation originating the message.|
| endpoint|string|false|none|ODS code of the organisation originating the message, expressed as a URL.|
| focus|[object]|false|none|none|
| reference|string|false|none|none|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|MessageHeader|
|system|https://fhir.nhs.uk/CodeSystem/message-event|
|code|prescription-order|
|display|Prescription Order|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/ods-organization-code|

<h2 id="tocS_Create-MedicationRequest-Resource">Create-MedicationRequest-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacreate-medicationrequest-resource"></a>
<a id="schema_Create-MedicationRequest-Resource"></a>
<a id="tocScreate-medicationrequest-resource"></a>
<a id="tocscreate-medicationrequest-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49bb6",
  "resource": {
    "resourceType": "MedicationRequest",
    "extension": [
      {
        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug",
        "extension": [
          {
            "url": "quantityWords",
            "valueString": "twenty eight"
          }
        ]
      }
    ],
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
        "value": "dd11b07e-e137-488e-bc28-ab50384208b5"
      }
    ],
    "status": "active",
    "intent": "order",
    "category": [
      {
        "coding": [
          {
            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
            "code": "inpatient",
            "display": "Inpatient"
          }
        ]
      }
    ],
    "medicationCodeableConcept": {
      "coding": [
        {
          "system": "http://snomed.info/sct",
          "code": "321196004",
          "display": "Diazepam 2mg tablets"
        }
      ]
    },
    "subject": {
      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
    },
    "authoredOn": "2021-05-07T14:47:29+00:00",
    "requester": {
      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
    },
    "groupIdentifier": {
      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
      "value": "04F4C2-A99968-7F717P",
      "extension": [
        {
          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
          "valueIdentifier": {
            "system": "https://fhir.nhs.uk/Id/prescription",
            "value": "613452a2-ca1b-4a76-8191-d92e1f48928c"
          }
        }
      ]
    },
    "courseOfTherapyType": {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
          "code": "acute",
          "display": "Short course (acute) therapy"
        }
      ]
    },
    "dosageInstruction": [
      {
        "sequence": 1,
        "text": "4 times a day - for 4 days - Oral - Dissolved under the tongue",
        "additionalInstruction": [
          {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "code": "417995008",
                "display": "Dissolved under the tongue"
              }
            ]
          }
        ],
        "patientInstruction": "Some relevant instructions for the patient.",
        "timing": {
          "repeat": {
            "boundsDuration": {
              "value": 4.5,
              "unit": "day",
              "system": "http://unitsofmeasure.org",
              "code": "d"
            },
            "frequency": 4.5,
            "period": 1,
            "periodUnit": "d"
          }
        },
        "asNeeded": {
          "asNeededBoolean": true,
          "asNeededCodeableConcept": {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "version": "string",
                "code": "59380008",
                "display": "Anterior abdominal wall structure",
                "userSelected": true
              }
            ],
            "text": "string"
          }
        },
        "site": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "59380008",
              "display": "Anterior abdominal wall structure"
            }
          ]
        },
        "route": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "version": "string",
              "code": "59380008",
              "display": "Anterior abdominal wall structure",
              "userSelected": true
            }
          ]
        },
        "method": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "129326001",
              "display": "Injection"
            }
          ]
        },
        "doseAndRate": [
          {
            "type": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ],
              "text": "string"
            }
          }
        ],
        "maxDosePerPeriod": {
          "numerator": {
            "value": 7.5,
            "unit": "milligram",
            "system": "http://unitsofmeasure.org",
            "code": "mg"
          },
          "denominator": {
            "value": 24.5,
            "unit": "hour",
            "system": "http://unitsofmeasure.org",
            "code": "h"
          }
        },
        "maxDosePerAdministration": {
          "value": 60.5,
          "unit": "milligram",
          "system": "http://unitsofmeasure.org",
          "code": "mg"
        },
        "maxDosePerLifetime": {
          "value": 600.5,
          "unit": "milligram per square metre",
          "system": "http://unitsofmeasure.org",
          "code": "mg/m2"
        }
      }
    ],
    "note": [
      {
        "text": "Dosage has been decreased on advice from the hospital."
      }
    ],
    "dispenseRequest": {
      "extension": [
        {
          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
          "valueCoding": {
            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
            "code": "P1"
          }
        }
      ],
      "numberOfRepeatsAllowed": 0,
      "validityPeriod": {
        "start": "2022-10-21",
        "end": "2022-10-21"
      },
      "expectedSupplyDuration": {
        "value": 28,
        "unit": "day",
        "system": "http://unitsofmeasure.org",
        "code": "d"
      },
      "performer": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "A83008"
        }
      },
      "quantity": {
        "value": 20.5,
        "unit": "tablet",
        "system": "http://snomed.info/sct",
        "code": 428673006
      }
    },
    "substitution": {
      "allowedBoolean": false
    }
  }
}

```

MedicationRequest

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|A MedicationRequest object is required. An EPS prescription must contain at least one and up to four MedicationRequest objects. This is equivalent to an item on a prescription.<br>Any fields mentioned in the Simplifer Spec but not in this schema are permitted, but may not be preserved or acted on by the API. <br>Reason for medication dispense should be appended to dosageInstruction.text, as reasonCode is not made available to dispensers.|
| resourceType|string|true|none|FHIR resource type|
| extension|[oneOf]|true|none|FHIR extension array.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The quantity of a controlled drug, expressed in words|
| url|string|false|none|URL of the extension definition.|
| extension|[oneOf]|false|none|FHIR extension array.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the quantity in words|
| url|string|false|none|URL for the controlled drug quantity|
| valueString|string|false|none|quantity expressed in words|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the schedule of the controlled drug|
| url|string|false|none|URL for the controlled drug schedule|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem to identify the controlled drug schedule|
| code|string|false|none|a code to identify the controlled drug schedule|
| display|string|false|none|a human readable display to accompany the controlled drug schedule code|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| display|string|false|none|The name of the responsible practitioner.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|string|false|none|URL of the extension definition.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|The review date of the prescription.<br>This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.|
| valueDateTime|string|false|none|A date value|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.<br><br>For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.|
| url|string|false|none|URL of the extension definition.|
| valueCoding|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|string|false|none|codesystem URL for the prescription type|
| code|string|false|none|The prescription type code|
| display|string|false|none|The display that accompanies the prescription type code|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. <br><br>View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).|
| url|string|false|none|URL of the extension definition.|
| valueCodeableConcept|object|false|none|none|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for endorsements.|
| code|string|true|none|The endorsement code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| identifier|[object]|true|none|The unique identifier for this line item on the prescription.|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| status|string|true|none|The status of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| intent|string|true|none|The intent of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| category|[object]|true|none|Identifies the context in which a prescription is created.<br>For example, a prescription created within primary care will be categorised as "community."<br>Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."<br>This must be consistent across all MedicationRequests in a Bundle.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription category.|
| code|string|true|none|Code for the prescription category.|
| display|string|false|none|Display value for the prescription category.|
| medicationCodeableConcept|object|true|none|The medication that is being prescribed. <br>This must be represented using a VMP or AMP concept from the dm+d.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|string|true|none|SNOMED code for the medication, as defined in the dm+d.|
| display|string|false|none|Human readable name for the medication.|
| subject|object|true|none|Reference object to identify the patient a prescription is for. <br>A Patient resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a Patient resource within the Bundle|
| authoredOn|string(date-time)|false|none|Reserved for future use and will currently be ignored. Do not use.|
| requester|object|true|none|Reference object to identify the requester of a prescription. <br>A PractitionerRole resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|object|true|none|An object containing the short-form and long-form Prescription ID.|
| system|string|true|none|Codesystem URL for the short-form Prescription ID.|
| value|string|true|none|The short-form Prescription ID. <br>An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). <br>It is to be formatted as follows:<br>  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.<br>  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  <br>  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.<br>  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.|
| extension|[object]|false|none|FHIR extension array containing the long-form Prescription ID.|
| url|string|true|none|none|
| valueIdentifier|object|true|none|The long-form identifier of the prescription.|
| system|string|true|none|Codesystem URL for the long-form Prescription ID.|
| value|string|true|none|The long-form prescription ID.|
| courseOfTherapyType|object|true|none|Denotes whether a prescription is an acute, a repeat, or an eRD.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription treatment type.|
| code|string|true|none|Code identifying the prescription treatment type.<br>* acute: acute prescriptions<br>* continuous: repeat prescriptions<br>* continuous-repeat-dispensing: eRD prescriptions|
| display|string|false|none|Display value for the prescription treatment type.|
| dosageInstruction|[object]|true|none|The dosage instructions for a prescription. <br>These must be expressed as both structured dose and text.|
| sequence|integer(int32)|false|none|The order of the dosage instructions.<br>Indicates the order in which the dosage instructions should be applied or interpreted.|
| text|string|false|none|The dosage instructions expressed as text.<br>Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.<br>Instructions with the same sequence number will be separated by ", and"<br>Instructions with different sequence numbers will be separated by ", then"<br>Please do not use full stops or commas at the end of any instructions provided.|
| additionalInstruction|[object]|false|none|Supplemental instruction or warnings to the patient.<br>E.g. "with meals", "may cause drowsiness".|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|SNOMED code for additional dosage instructions.|
| display|string|false|none|Additional dosage instructions (qualifier value).|
| patientInstruction|string|false|none|Patient or consumer oriented instructions.|
| timing|object|false|none|A structured expression of dose frequency.|
| repeat|object|false|none|The frequency and period over which the medication should be consumed.|
| boundsDuration|object|false|none|The bounds duration at which the medication should be consumed.<br>E.g. "4.5" for 4 & 1/2 days.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| frequency|number|false|none|The frequency at which the medication should be consumed within a given period.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.<br>E.g. "4" for 4 times over a given period.|
| period|integer(int32)|false|none|The period over which the frequency applies.<br>e.g. "1" for 1 day.|
| periodUnit|string|false|none|The fundamental unit of the period, defined in UCUM.|
| asNeeded|object|false|none|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), <br>or it indicates the precondition for taking the Medication (CodeableConcept).|
| asNeededBoolean|boolean|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.|
| asNeededCodeableConcept|object|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| text|string|false|none|Plain text representation of the concept.|
| site|object|false|none|Body site to administer to.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|none|
| route|object|false|none|A structured expression of how the medication should be consumed.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| method|object|false|none|Technique for administering medication.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying the technique for administering medication.|
| display|string|false|none|none|
| doseAndRate|[oneOf]|false|none|Amount of medication administered.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| type|object|false|none|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|integer|true|none|Valid SNOMED code identifying how the medication should be consumed.|
| display|string|false|none|Human readable name for the method of consumption.|
| text|string|false|none|Plain text representation of the concept.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| dose|[object]|false|none|Amount of medication per dose.|
| doseRange|object|false|none|A dose that may be in a given low / high range.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, <br>to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something <br>like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| doseQuantity|object|false|none|The amount of medication per dose, as a simple coded quantity.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rate|[object]|false|none|Amount of medication per unit of time.|
| rateRatio|object|false|none|Where the rate is expressed as coded numerator and denominator values.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateRange|object|false|none|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateQuantity|object|false|none|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent<br>to defining the rate using the more complex rateRatio structure.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| maxDosePerPeriod|object|false|none|Upper limit on medication per unit of time.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerAdministration|object|false|none|Used to define a maximum dose for a single administration.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerLifetime|object|false|none|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| note|[object]|false|none|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|string|false|none|Specific additional instructions for a prescription line item.|
| dispenseRequest|object|true|none|A FHIR object containing information relevant to how the prescription should be dispensed. <br>These values should be consistent across all MedicationRequests in a Bundle.|
| extension|[object]|true|none|FHIR extension array.|
| url|string|false|none|Extension URL for DM-PerformerSiteType.|
| valueCoding|object|false|none|none|
| system|string|false|none|Codesystem URL to hold the nomination.|
| code|string|false|none|The nomination applied to a prescription.<br>This could either be a nomination for:<br>  * A dispensing contractor (P1)<br>  * A dispensing appliance contractor (P2)<br>  * A dispensing doctor (P3)<br>Or a non-nominated prescription (0004).|
| numberOfRepeatsAllowed|integer|false|none|For eRD and repeat prescriptions only.<br>The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. <br>For repeat prescriptions, this value must always default to 0.|
| validityPeriod|object|false|none|The start and end dates of a prescription.|
| start|string(date)|false|none|Start date of an issue; sometimes same as prescription's start date.|
| end|string(date)|false|none|End date of an issue; capped at 12 months and cannot exceed the prescription's end date.<br>Overall validity of the drug.|
| expectedSupplyDuration|object|false|none|For eRD prescriptions only. <br>Duration of each issue in days; defaults to 28.|
| value|integer|false|none|The number of days each issue in an eRD prescription is valid for.|
| unit|string|false|none|The UCUM unit of measure display for days.|
| system|string|false|none|Codesystem URL for UCUM.|
| code|string|false|none|The UCUM unit of measure code for days.|
| performer|object|false|none|For nominated prescriptions only, including one-off nominations.<br>The ODS code of the nominated pharmacy that a prescription is going to.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| quantity|object|true|none|The quantity of a medication item being prescribed.|
| value|number|false|none|The numeric value of the quantity being prescribed.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|string|false|none|SNOMED codesystem URL.|
| code|integer|false|none|The dm+d code associated with a given unit of measure.|
| substitution|object|true|none|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|boolean|false|none|none|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|MedicationRequest|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
|url|quantityWords|
|url|schedule|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
|code|CD1|
|code|CD2|
|code|CD3|
|code|CD4|
|code|CD5|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
|url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
|url|authorisationExpiryDate|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
|system|https://fhir.nhs.uk/CodeSystem/prescription-type|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
|code|ACBS|
|code|AF|
|code|CC|
|code|FS|
|code|SLS|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|status|active|
|status|cancelled|
|status|completed|
|intent|order|
|intent|original-order|
|intent|instance-order|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
|code|inpatient|
|code|outpatient|
|code|community|
|code|discharge|
|display|Inpatient|
|display|Outpatient|
|display|Community|
|display|Discharge|
|system|http://snomed.info/sct|
|system|https://fhir.nhs.uk/Id/prescription-order-number|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
|system|https://fhir.nhs.uk/Id/prescription|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
|code|acute|
|code|continuous|
|code|continuous-repeat-dispensing|
|display|Short course (acute) therapy|
|display|Continuous long term therapy|
|display|Continuous long term (repeat dispensing)|
|system|http://snomed.info/sct|
|asNeededBoolean|true|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
|system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
|code|P1|
|code|P2|
|code|P3|
|code|0004|
|system|http://unitsofmeasure.org|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|http://snomed.info/sct|
|allowedBoolean|false|

<h2 id="tocS_Create-Patient-Resource">Create-Patient-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacreate-patient-resource"></a>
<a id="schema_Create-Patient-Resource"></a>
<a id="tocScreate-patient-resource"></a>
<a id="tocscreate-patient-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Patient",
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/nhs-number",
        "value": "9000000009"
      }
    ],
    "name": [
      {
        "use": "usual",
        "family": "Smith",
        "given": [
          "Jane Marie Anne",
          "Jo",
          "Adele"
        ],
        "prefix": [
          "Mrs"
        ]
      }
    ],
    "gender": "female",
    "birthDate": "2010-10-22",
    "address": [
      {
        "use": "home",
        "line": [
          "1 Trevelyan Square",
          "Boar Lane",
          "City Centre",
          "Leeds",
          "West Yorkshire"
        ],
        "postalCode": "LS1 6AE"
      }
    ],
    "telecom": [
      {
        "system": "phone",
        "use": "home",
        "value": "01632960587"
      }
    ],
    "generalPractitioner": [
      {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "A83008"
        }
      }
    ]
  }
}

```

Patient

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|The patient the prescription is for.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|The patient's NHS number.|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|
| name|[object]|true|none|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|How this name should be used.<br>* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.<br>Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.<br>Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|
| gender|string|true|none|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.<br>It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.|
| birthDate|string(date)|true|none|The date on which the patient was born or is officially deemed to have been born.<br><br>It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.<br><br>When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.|
| address|[object]|true|none|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|Purpose of this address:<br>  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address<br>  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged<br><br>  A patient should have no more than one current `temp` address.<br>  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.<br>  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).<br><br>  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.<br>  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>*  line 4 - post town, e.g. `Leeds`<br>*  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
| telecom|[object]|false|none|The patient's telephone number.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with communication system.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|[object]|true|none|General practice (not practitioner) with which the patient is or was registered.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/Id/nhs-number|
|use|usual|
|gender|male|
|gender|female|
|gender|other|
|gender|unknown|
|use|home|
|use|temp|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|

<h2 id="tocS_Create-PractitionerRole-Resource">Create-PractitionerRole-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacreate-practitionerrole-resource"></a>
<a id="schema_Create-PractitionerRole-Resource"></a>
<a id="tocScreate-practitionerrole-resource"></a>
<a id="tocscreate-practitionerrole-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "PractitionerRole",
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
        "value": "555086415105"
      }
    ],
    "practitioner": {
      "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa47a"
    },
    "organization": {
      "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa38b"
    },
    "code": [
      {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
            "code": "S0030:G0100:R0620",
            "display": "Staff Nurse"
          }
        ]
      }
    ],
    "telecom": {
      "system": "phone",
      "use": "home",
      "value": "01234567890"
    }
  }
}

```

PractitionerRole

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Role-specific details of the requester or responsible practitioner of a prescription.<br>If for a responsible practitioner, at least one of the practitionerRole, referenced practitioner,<br>or referenced organization must have a telecom field. Note that PractitionerRole level<br>NHS BSA spurious code will take priority over supplier practitioner identifier, if present.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[oneOf]|false|none|An array containing role-specific identifiers for the prescriber|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS Role Profile ID.|
| system|string|true|none|Codesystem URL for the SDS role profile ID.|
| value|string|true|none|SDS role profile ID.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's spurious code.|
| system|string|true|none|Codesystem URL for the spurious code.|
| value|string|true|none|Spurious code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| practitioner|any|true|none|none|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|string|false|none|A FHIR reference object.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|An identifier if part of an organization-only responsible practitioner.|
| identifier|any|false|none|none|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the DIN Number.|
| value|string|true|none|The DIN Number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GMC number.|
| system|string|false|none|Codesystem URL for the GMC Number.|
| value|string|false|none|GMC Number|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GMP number.|
| system|string|true|none|Codesystem URL for the GMP number.|
| value|string|true|none|The GMP number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's NMC number.|
| system|string|true|none|Codesystem URL for the NMC number.|
| value|string|true|none|The NMC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GPhC number.|
| system|string|false|none|Codesystem URL for the GPhC number.|
| value|string|false|none|GPhC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's HCPC number.|
| system|string|true|none|Codesystem URL for the HCPC number.|
| value|string|true|none|The HCPC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the Professional Code.|
| value|string|true|none|The Professional Code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| organization|object|true|none|A reference to an Organization resource.|
| reference|string|false|none|A FHIR reference object.|
| code|[object]|false|none|The SDS job role code for a given prescriber or dispenser.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the job role code.|
| code|string|true|none|The SDS job role code.|
| display|string|false|none|Display text for the SDS job role code.|
| telecom|object|false|none|none|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|PractitionerRole|
|system|https://fhir.nhs.uk/Id/sds-role-profile-id|
|system|https://fhir.hl7.org.uk/Id/nhsbsa-spurious-code|
|system|https://fhir.hl7.org.uk/Id/din-number|
|system|https://fhir.hl7.org.uk/Id/gmc-number|
|system|https://fhir.hl7.org.uk/Id/gmp-number|
|system|https://fhir.hl7.org.uk/Id/nmc-number|
|system|https://fhir.hl7.org.uk/Id/gphc-number|
|system|https://fhir.hl7.org.uk/Id/hcpc-number|
|system|https://fhir.hl7.org.uk/Id/professional-code|
|system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|

<h2 id="tocS_Create-Practitioner-Resource">Create-Practitioner-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacreate-practitioner-resource"></a>
<a id="schema_Create-Practitioner-Resource"></a>
<a id="tocScreate-practitioner-resource"></a>
<a id="tocscreate-practitioner-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Practitioner",
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/sds-user-id",
        "value": "555086689107"
      }
    ],
    "name": [
      {
        "family": "Toboggan",
        "given": [
          "Mantis"
        ],
        "prefix": [
          "Dr"
        ]
      }
    ]
  }
}

```

Practitioner

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Details of the author or responsible party of a prescription.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[oneOf]|true|none|An array containing the prescriber's professional codes and identifiers.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS User Identifier.|
| system|string|true|none|Codesystem URL for the SDS User Identifier.|
| value|string|true|none|SDS User Identifier.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the DIN Number.|
| value|string|true|none|The DIN Number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GMC number.|
| system|string|false|none|Codesystem URL for the GMC Number.|
| value|string|false|none|GMC Number|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's GPhC number.|
| system|string|false|none|Codesystem URL for the GPhC number.|
| value|string|false|none|GPhC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's HCPC number.|
| system|string|true|none|Codesystem URL for the HCPC number.|
| value|string|true|none|The HCPC number.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber's NMC number.|
| system|string|true|none|Codesystem URL for the NMC number.|
| value|string|true|none|The NMC number.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| name|[object]|true|none|The prescriber's name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|Practitioner|
|system|https://fhir.nhs.uk/Id/sds-user-id|
|system|https://fhir.hl7.org.uk/Id/din-number|
|system|https://fhir.hl7.org.uk/Id/gmc-number|
|system|https://fhir.hl7.org.uk/Id/gphc-number|
|system|https://fhir.hl7.org.uk/Id/hcpc-number|
|system|https://fhir.hl7.org.uk/Id/nmc-number|

<h2 id="tocS_Create-Organization-Resource">Create-Organization-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacreate-organization-resource"></a>
<a id="schema_Create-Organization-Resource"></a>
<a id="tocScreate-organization-resource"></a>
<a id="tocscreate-organization-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Organization",
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
        "value": "A83008"
      }
    ],
    "name": "string",
    "address": [
      {
        "use": "home",
        "type": "postal",
        "line": [
          "1 Trevelyan Square",
          "Boar Lane",
          "City Centre"
        ],
        "city": "Leeds",
        "district": "West Yorkshire",
        "postalCode": "LS1 6AE"
      }
    ],
    "telecom": [
      {
        "system": "phone",
        "use": "home",
        "value": "01234567890"
      }
    ],
    "partOf": {
      "identifier": {
        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
        "value": "A83008"
      },
      "display": "NHS County Durham CCG"
    }
  }
}

```

Organization

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.<br><br>Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing the ODS code of the organisation|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| name|string|true|none|Organisation name.|
| address|[object]|true|none|Organisation address.|
| use|string|false|none|The purpose of the address.|
| type|string|false|none|The type of address.|
| line|[string]|false|none|All lines of the address except the city, district, and postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| city|string|false|none|The city of the address.|
| district|string|false|none|The district of the address.|
| postalCode|string|false|none|The postal code of the address.|
| telecom|[object]|true|none|The telephone number associated with the organisation.|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|
| partOf|object|true|none|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|the name of the managing organisation|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|use|home|
|use|work|
|use|billing|
|use|temp|
|type|postal|
|type|physical|
|type|both|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|

<h2 id="tocS_Create-List-Resource">Create-List-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacreate-list-resource"></a>
<a id="schema_Create-List-Resource"></a>
<a id="tocScreate-list-resource"></a>
<a id="tocscreate-list-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "List",
    "status": "current",
    "mode": "snapshot",
    "code": {
      "text": "Repeat Medications"
    },
    "subject": {
      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
    },
    "entry": [
      {
        "item": "Bendroflumethiazide 2.5mg tablets (3/6)"
      }
    ]
  }
}

```

List

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|For repeat and eRD prescriptions only. <br><br>A structured list of repeat medication items prescribed to the patient.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the List object. Must always default to "current".|
| mode|string|false|none|The type of List being represented. Must always default to "snapshot".|
| code|object|false|none|A description of what the list represents.|
| text|string|false|none|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| entry|[object]|false|none|list of repeat medication items prescribed to the patient.|
| item|object|false|none|A medication item, represented using its dm+d name and description.|

#### Enumerated Values

|Property|Value|
|---|---|
|status|current|
|mode|snapshot|
|text|Repeat Medications|

<h2 id="tocS_Create-CommunicationRequest-Resource">Create-CommunicationRequest-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacreate-communicationrequest-resource"></a>
<a id="schema_Create-CommunicationRequest-Resource"></a>
<a id="tocScreate-communicationrequest-resource"></a>
<a id="tocscreate-communicationrequest-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "CommunicationRequest",
    "status": "active",
    "subject": {
      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
    },
    "payload": [
      {
        "contentString": "Please make an appointment to see your GP.",
        "contentReference": {
          "reference": "string"
        }
      }
    ],
    "requester": {
      "identifier": {
        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
        "value": "A83008"
      }
    },
    "recipient": [
      {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/nhs-number",
          "value": "9000000009"
        }
      }
    ]
  }
}

```

CommunicationRequest

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Additional instructions intended for the patient.<br>For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the CommunicationRequest. Must always default to "active".|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| payload|[object]|true|none|Additional instructions provided as part of this prescription.|
| contentString|string|false|none|Additional instructions intended for the patient.|
| contentReference|object|false|none|A reference to the list of repeat medications that the patient is on.|
| reference|string|false|none|A reference to a List resource within the Bundle|
| requester|object|false|none|Details of the prescribing organisation originating the instructions.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| recipient|[object]|false|none|Details of the patient receiving the instructions.|
| identifier|object|false|none|none|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|

#### Enumerated Values

|Property|Value|
|---|---|
|status|active|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|

<h2 id="tocS_Create-Location-Resource">Create-Location-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacreate-location-resource"></a>
<a id="schema_Create-Location-Resource"></a>
<a id="tocScreate-location-resource"></a>
<a id="tocscreate-location-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Location",
    "address": [
      {
        "line": [
          "1 Trevelyan Square",
          "Boar Lane",
          "City Centre",
          "Leeds",
          "West Yorkshire"
        ],
        "postalCode": "LS1 6AE"
      }
    ]
  }
}

```

Location

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|For secondary care prescriptions only.<br><br>Where the prescription is a secondary care prescription, the Location resource will contain the address of the prescribing organisation.|
| resourceType|string|false|none|FHIR resource type.|
| address|[object]|false|none|Organisation address.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>  Systems must apply the following formatting convention when adding or replacing addresses lines:<br>  *  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>  *  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>  *  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>  *  line 4 - post town, e.g. `Leeds`<br>  *  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|

<h2 id="tocS_Create-Provenance-Resource">Create-Provenance-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacreate-provenance-resource"></a>
<a id="schema_Create-Provenance-Resource"></a>
<a id="tocScreate-provenance-resource"></a>
<a id="tocscreate-provenance-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Provenance",
    "id": "28828c55-8fa7-42d7-916f-fcf076e0c10e",
    "target": [
      {
        "type": "MedicationRequest",
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
          "value": "dd11b07e-e137-488e-bc28-ab50384208b5"
        }
      }
    ],
    "recorded": "2023-03-13T13:47:00+00:00",
    "agent": [
      {
        "who": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        }
      }
    ],
    "signature": [
      {
        "type": [
          {
            "system": "urn:iso-astm:E1762-95:2013",
            "code": "1.2.840.10065.1.12.1.1"
          }
        ],
        "when": "2023-03-13T13:47:00+00:00",
        "who": {
          "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
        },
        "data": "PFNpZ25hdHVyZSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnIyI+CiAgICAgICAgICAgIDxTaWduZWRJbmZvPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSI+PC9TaWduYXR1cmVNZXRob2Q+PFJlZmVyZW5jZT48VHJhbnNmb3Jtcz48VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIj48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIj48L0RpZ2VzdE1ldGhvZD48RGlnZXN0VmFsdWU+WTg5YWNmSC90VkVtSXI2aVlrRVJrWWMxbG1jPTwvRGlnZXN0VmFsdWU+PC9SZWZlcmVuY2U+PC9TaWduZWRJbmZvPgogICAgICAgICAgICA8U2lnbmF0dXJlVmFsdWU+PC9TaWduYXR1cmVWYWx1ZT4KICAgICAgICAgICAgPEtleUluZm8+PFg1MDlEYXRhPjxYNTA5Q2VydGlmaWNhdGU+PC9YNTA5Q2VydGlmaWNhdGU+PC9YNTA5RGF0YT48L0tleUluZm8+CiAgICAgICAgICA8L1NpZ25hdHVyZT4="
      }
    ]
  }
}

```

Provenance

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|A resource to contain the digital signature attached to a prescription, see [Generation of the provenance resource](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/how-to-embed-a-signature-within-a-prescription#step-three-create-signature-block) for guidance.|
| resourceType|string|false|none|FHIR resource type.|
| id|string|false|none|none|
| target|[object]|false|none|Reference object to identify the line items in a prescription that are being signed.<br>A reference to each MedicationRequest resource in the Bundle must be provided.|
| type|string|false|none|none|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| recorded|string(date-time)|false|none|The time the prescription was signed.|
| agent|[object]|false|none|A reference to the prescriber who signed the prescription, i.e. the requester of the prescription.<br>A PractitionerRole resource within the Bundle must be referenced.|
| who|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| signature|[object]|false|none|The Advanced Electronic Signature (AES) attached to a prescription.|
| type|[object]|false|none|The type of signature attached to a prescription.|
| system|string|false|none|FHIR codesystem URN for signatures|
| code|string|false|none|none|
| when|string(date-time)|true|none|The time the prescription was signed. This must be the timestamp found in the prepare endpoint response.|
| who|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle. <br>This will still be a reference to the prescriber who signed the prescription.|
| data|string(byte)|false|none|An advanced electronic signature, which may be generated using the Signing Service. See [this link](https://digital.nhs.uk/services/electronic-prescription-service/guidance-for-developers/how-to-embed-a-signature-within-a-prescription#step-three-create-signature-block) for guidance.|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|Provenance|
|type|MedicationRequest|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|system|urn:iso-astm:E1762-95:2013|
|code|1.2.840.10065.1.12.1.1|

<h2 id="tocS_Cancel-Request-MessageHeader-Resource">Cancel-Request-MessageHeader-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-request-messageheader-resource"></a>
<a id="schema_Cancel-Request-MessageHeader-Resource"></a>
<a id="tocScancel-request-messageheader-resource"></a>
<a id="tocscancel-request-messageheader-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "MessageHeader",
    "eventCoding": {
      "system": "https://fhir.nhs.uk/CodeSystem/message-event",
      "code": "prescription-order-update",
      "display": "Prescription Order Update"
    },
    "source": {
      "endpoint": "urn:nhs-uk:addressing:ods:A83008"
    }
  }
}

```

MessageHeader

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|none|
| resourceType|string|true|none|FHIR resource type.|
| eventCoding|object|true|none|The type of message event being generated.|
| system|string|false|none|codesystem URL for message events.|
| code|string|false|none|code for the message event.|
| display|string|false|none|display value accompanying the code for the message event.|
| source|object|true|none|The organisation originating the message.|
| endpoint|string|false|none|ODS code of the organisation originating the message, expressed as a URN.|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/CodeSystem/message-event|
|code|prescription-order-update|
|display|Prescription Order Update|

<h2 id="tocS_Cancel-Request-MedicationRequest-Resource">Cancel-Request-MedicationRequest-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-request-medicationrequest-resource"></a>
<a id="schema_Cancel-Request-MedicationRequest-Resource"></a>
<a id="tocScancel-request-medicationrequest-resource"></a>
<a id="tocscancel-request-medicationrequest-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "MedicationRequest",
    "statusReason": {
      "coding": [
        {
          "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason",
          "code": "0004",
          "display": "Clinical grounds"
        }
      ]
    },
    "extension": [
      {
        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner",
        "valueReference": {
          "reference": "urn:uuid:a5acefc1-f8ca-4989-a5ac-34ae36741466",
          "display": "Dr. James Smith"
        }
      }
    ],
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
        "value": "dd11b07e-e137-488e-bc28-ab50384208b5"
      }
    ],
    "status": "cancelled",
    "intent": "order",
    "category": [
      {
        "coding": [
          {
            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
            "code": "inpatient",
            "display": "Inpatient"
          }
        ]
      }
    ],
    "medicationCodeableConcept": {
      "coding": [
        {
          "system": "http://snomed.info/sct",
          "code": "321196004",
          "display": "Diazepam 2mg tablets"
        }
      ]
    },
    "subject": {
      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
    },
    "requester": {
      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
    },
    "groupIdentifier": {
      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
      "value": "04F4C2-A99968-7F717P",
      "extension": [
        {
          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
          "valueIdentifier": {
            "system": "https://fhir.nhs.uk/Id/prescription",
            "value": "613452a2-ca1b-4a76-8191-d92e1f48928c"
          }
        }
      ]
    },
    "courseOfTherapyType": {
      "coding": [
        {
          "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy",
          "code": "acute",
          "display": "Short course (acute) therapy"
        }
      ]
    },
    "dosageInstruction": [
      {
        "sequence": 1,
        "text": "4 times a day - for 4 days - Oral - Dissolved under the tongue",
        "additionalInstruction": [
          {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "code": "417995008",
                "display": "Dissolved under the tongue"
              }
            ]
          }
        ],
        "patientInstruction": "Some relevant instructions for the patient.",
        "timing": {
          "repeat": {
            "boundsDuration": {
              "value": 4.5,
              "unit": "day",
              "system": "http://unitsofmeasure.org",
              "code": "d"
            },
            "frequency": 4.5,
            "period": 1,
            "periodUnit": "d"
          }
        },
        "asNeeded": {
          "asNeededBoolean": true,
          "asNeededCodeableConcept": {
            "coding": [
              {
                "system": "http://snomed.info/sct",
                "version": "string",
                "code": "59380008",
                "display": "Anterior abdominal wall structure",
                "userSelected": true
              }
            ],
            "text": "string"
          }
        },
        "site": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "59380008",
              "display": "Anterior abdominal wall structure"
            }
          ]
        },
        "route": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "version": "string",
              "code": "59380008",
              "display": "Anterior abdominal wall structure",
              "userSelected": true
            }
          ]
        },
        "method": {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "129326001",
              "display": "Injection"
            }
          ]
        },
        "doseAndRate": [
          {
            "type": {
              "coding": [
                {
                  "system": "http://snomed.info/sct",
                  "code": "26643006",
                  "display": "Oral"
                }
              ],
              "text": "string"
            }
          }
        ],
        "maxDosePerPeriod": {
          "numerator": {
            "value": 7.5,
            "unit": "milligram",
            "system": "http://unitsofmeasure.org",
            "code": "mg"
          },
          "denominator": {
            "value": 24.5,
            "unit": "hour",
            "system": "http://unitsofmeasure.org",
            "code": "h"
          }
        },
        "maxDosePerAdministration": {
          "value": 60.5,
          "unit": "milligram",
          "system": "http://unitsofmeasure.org",
          "code": "mg"
        },
        "maxDosePerLifetime": {
          "value": 600.5,
          "unit": "milligram per square metre",
          "system": "http://unitsofmeasure.org",
          "code": "mg/m2"
        }
      }
    ],
    "note": [
      {
        "text": "Dosage has been decreased on advice from the hospital"
      }
    ],
    "dispenseRequest": {
      "extension": [
        {
          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType",
          "valueCoding": {
            "system": "https://fhir.nhs.uk/CodeSystem/dispensing-site-preference",
            "code": "P1"
          }
        }
      ],
      "numberOfRepeatsAllowed": 0,
      "validityPeriod": {
        "start": "string",
        "end": "string"
      },
      "expectedSupplyDuration": {
        "value": 2.5,
        "unit": "day",
        "system": "http://unitsofmeasure.org",
        "code": "d"
      },
      "performer": {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "A83008"
        }
      },
      "quantity": {
        "value": 60.5,
        "unit": "tablet",
        "system": "http://snomed.info/sct",
        "code": "428673006"
      }
    },
    "substitution": {
      "allowedBoolean": false
    }
  }
}

```

MedicationRequest

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|A cancel request is effectively an update to a prescription, expressed through a MedicationRequest resource for each line item that is being cancelled.|
| resourceType|string|true|none|FHIR resource type.|
| statusReason|object|true|none|The reason the line item is being cancelled.<br>The reason must be in line with the cancellation reasons vocabulary <link>.|
| coding|[object]|false|none|none|
| system|string|true|none|codesystem URL for the cancellation reason.|
| code|string|true|none|cancel reason code.|
| display|string|false|none|the display accompanying the cancel reason code.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| display|string|false|none|The name of the responsible practitioner.|
| identifier|[object]|true|none|The unique ID for each line item on a prescription.|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| status|string|true|none|The status of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| intent|string|true|none|The intent of a MedicationRequest object. <br>This must be consistent across all MedicationRequests in a Bundle.|
| category|[object]|true|none|Identifies the context in which a prescription is created.<br>For example, a prescription created within primary care will be categorised as "community."<br>Similarly, a prescription created within secondary care will be categorised as "inpatient" or "outpatient."|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription category.|
| code|string|true|none|Code for the prescription category.|
| display|string|false|none|Display value for the prescription category.|
| medicationCodeableConcept|object|true|none|The medication that is being cancelled. <br>This must be represented as a VMP or AMP concept from the dm+d.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|string|true|none|SNOMED code for the medication, as defined in the dm+d.|
| display|string|false|none|Human readable name for the medication.|
| subject|object|true|none|Reference object to identify the patient a prescription is for. <br>A Patient resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| requester|object|true|none|Reference object to identify the author of a cancel request. <br>A PractitionerRole resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| groupIdentifier|object|true|none|An object containing the short-form and long-form Prescription ID.|
| system|string|true|none|Codesystem URL for the short-form Prescription ID.|
| value|string|true|none|The short-form Prescription ID. <br>An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). <br>It is to be formatted as follows:<br>  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.<br>  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  <br>  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.<br>  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.|
| extension|[object]|false|none|FHIR extension array containing the long-form Prescription ID.|
| url|string|true|none|none|
| valueIdentifier|object|true|none|The long-form identifier of the prescription.|
| system|string|true|none|Codesystem URL for the long-form Prescription ID.|
| value|string|true|none|The long-form prescription ID.|
| courseOfTherapyType|object|true|none|The treatment type of the prescription, i.e. whether it is an acute, repeat, or eRD prescription.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the prescription treatment type.|
| code|string|true|none|Code identifying the prescription treatment type.<br>* acute: acute prescriptions<br>* continuous: repeat prescriptions<br>* continuous-repeat-dispensing: eRD prescriptions|
| display|string|false|none|Display value for the prescription treatment type.|
| dosageInstruction|[object]|true|none|The dosage instructions for a prescription. <br>These must be expressed as both structured dose and text.|
| sequence|integer(int32)|false|none|The order of the dosage instructions.<br>Indicates the order in which the dosage instructions should be applied or interpreted.|
| text|string|false|none|The dosage instructions expressed as text.<br>Multiple dose text strings will be concatenated into a single string within the final prescription, in the sequence that they were provided.<br>Instructions with the same sequence number will be separated by ", and"<br>Instructions with different sequence numbers will be separated by ", then"<br>Please do not use full stops or commas at the end of any instructions provided.|
| additionalInstruction|[object]|false|none|Supplemental instruction or warnings to the patient.<br>E.g. "with meals", "may cause drowsiness".|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|SNOMED code for additional dosage instructions.|
| display|string|false|none|Additional dosage instructions (qualifier value).|
| patientInstruction|string|false|none|Patient or consumer oriented instructions.|
| timing|object|false|none|A structured expression of dose frequency.|
| repeat|object|false|none|The frequency and period over which the medication should be consumed.|
| boundsDuration|object|false|none|The bounds duration at which the medication should be consumed.<br>E.g. "4.5" for 4 & 1/2 days.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| frequency|number|false|none|The frequency at which the medication should be consumed within a given period.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.<br>E.g. "4" for 4 times over a given period.|
| period|integer(int32)|false|none|The period over which the frequency applies.<br>e.g. "1" for 1 day.|
| periodUnit|string|false|none|The fundamental unit of the period, defined in UCUM.|
| asNeeded|object|false|none|Indicates whether the Medication is only taken when needed within a specific dosing schedule (Boolean option), <br>or it indicates the precondition for taking the Medication (CodeableConcept).|
| asNeededBoolean|boolean|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The absence of asNeededBoolean is equivalent to where asNeededBoolean has a value of false.|
| asNeededCodeableConcept|object|false|none|The asNeeded structure can be used to define a simple "as required" instructions.<br>The asNeededCodeableConcept option is used to bound the dosage instruction to a coded term.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| text|string|false|none|Plain text representation of the concept.|
| site|object|false|none|Body site to administer to.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|none|
| route|object|false|none|A structured expression of how the medication should be consumed.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| version|string|false|none|Version of the system - if relevant.|
| code|string|false|none|Valid SNOMED code identifying where the medication first enters the body.|
| display|string|false|none|Representation defined by the system.|
| userSelected|boolean|false|none|Indicates that this coding was chosen by a user directly <br>- e.g. off a pick list of available items (codes or displays).|
| method|object|false|none|Technique for administering medication.|
| coding|[object]|false|none|none|
| system|string|false|none|SNOMED codesystem URL|
| code|string|false|none|Valid SNOMED code identifying the technique for administering medication.|
| display|string|false|none|none|
| doseAndRate|[oneOf]|false|none|Amount of medication administered.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| type|object|false|none|The kind of dose or rate specified, for example, ordered or calculated.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|integer|true|none|Valid SNOMED code identifying how the medication should be consumed.|
| display|string|false|none|Human readable name for the method of consumption.|
| text|string|false|none|Plain text representation of the concept.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| dose|[object]|false|none|Amount of medication per dose.|
| doseRange|object|false|none|A dose that may be in a given low / high range.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, <br>to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something <br>like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| doseQuantity|object|false|none|The amount of medication per dose, as a simple coded quantity.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rate|[object]|false|none|Amount of medication per unit of time.|
| rateRatio|object|false|none|Where the rate is expressed as coded numerator and denominator values.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateRange|object|false|none|Where the unit of measure applicable to a rate range is defined within UCUM the rateRange structure can be used.|
| low|object|false|none|The low limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| high|object|false|none|The high limit. The boundary is inclusive.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| rateQuantity|object|false|none|Where the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent<br>to defining the rate using the more complex rateRatio structure.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| maxDosePerPeriod|object|false|none|Upper limit on medication per unit of time.|
| numerator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| denominator|object|false|none|none|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerAdministration|object|false|none|Used to define a maximum dose for a single administration.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| maxDosePerLifetime|object|false|none|Used to define the maximum cumulative dose over the lifetime of a patient.|
| value|number|false|none|A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|none|
| system|string|false|none|none|
| code|string|false|none|none|
| note|[object]|false|none|Specific additional instructions for a prescription line item, e.g. a change in dosage.|
| text|string|false|none|Specific additional instructions for a prescription line item.|
| dispenseRequest|object|true|none|A FHIR object containing information relevant to how the prescription should be dispensed. <br>These values should be consistent across all MedicationRequests in a Bundle.|
| extension|[object]|true|none|FHIR extension array.|
| url|string|false|none|Extension URL for DM-PerformerSiteType.|
| valueCoding|object|false|none|none|
| system|string|false|none|Codesystem URL to hold the nomination.|
| code|string|false|none|The nomination applied to a prescription.<br>This could either be a nomination for:<br>  * A dispensing contractor (P1)<br>  * A dispensing appliance contractor (P2)<br>  * A dispensing doctor (P3)<br>Or a non-nominated prescription (0004).|
| numberOfRepeatsAllowed|integer|false|none|For eRD and repeat prescriptions only.<br>The number of repeats a line item is issued for, in addition to the existing issue. E.g. if a prescription is valid for 6 issues in total, the value entered must be 5. <br>For repeat prescriptions, this value must always default to 0.|
| validityPeriod|object|false|none|The start and end dates of a prescription.|
| start|string|false|none|The start date of a prescription.|
| end|string|false|none|For eRD prescriptions only. The end date of a prescription.|
| expectedSupplyDuration|object|false|none|For eRD prescriptions only. <br>The duration of each issue within an eRD prescription. This must be expressed in days.|
| value|number|false|none|The number of days each issue in an eRD prescription is valid for.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|The UCUM unit of measure display for days.|
| system|string|false|none|Codesystem URL for UCUM.|
| code|string|false|none|The UCUM unit of measure code for days.|
| performer|object|false|none|For nominated prescriptions only, including one-off nominations.<br>The ODS code of the nominated dispenser.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| quantity|object|true|none|The quantity of the medication being prescribed.|
| value|number|false|none|The numeric value of the quantity being prescribed.<br>A rational number with implicit precision, to a maximum of 2 decimal places with trailing zeroes removed.<br>Do not use an IEEE type floating point type, instead use something like a true decimal, with inbuilt precision.|
| unit|string|false|none|The units in which the quantity is prescribed, defined using dm+d units of measure.|
| system|string|false|none|SNOMED codesystem URL.|
| code|integer|false|none|The dm+d code associated with a given unit of measure.|
| substitution|object|true|none|This is a boolean value that should always default to false because EPS does not support substitutions.|
| allowedBoolean|boolean|false|none|none|

#### Enumerated Values

|Property|Value|
|---|---|
|resourceType|MedicationRequest|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-status-reason|
|code|0001|
|code|0002|
|code|0003|
|code|0004|
|code|0005|
|code|0006|
|code|0007|
|code|0008|
|code|0009|
|display|Prescribing error|
|display|Clinical contra-indication|
|display|Change to medication treatment regime|
|display|Clinical grounds|
|display|At the Patient's request|
|display|At the Pharmacist's request|
|display|Notification of Death|
|display|Patient deducted - other reason|
|display|Patient deducted- registered with new practice|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|status|cancelled|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-category|
|code|inpatient|
|code|outpatient|
|code|community|
|code|discharge|
|display|Inpatient|
|display|Outpatient|
|display|Community|
|display|Discharge|
|system|http://snomed.info/sct|
|system|https://fhir.nhs.uk/Id/prescription-order-number|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
|system|https://fhir.nhs.uk/Id/prescription|
|system|http://terminology.hl7.org/CodeSystem/medicationrequest-course-of-therapy|
|code|acute|
|code|continuous|
|code|continuous-repeat-dispensing|
|display|Short course (acute) therapy|
|display|Continuous long term therapy|
|display|Continuous long term (repeat dispensing)|
|system|http://snomed.info/sct|
|asNeededBoolean|true|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|userSelected|true|
|system|http://snomed.info/sct|
|system|http://snomed.info/sct|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PerformerSiteType|
|system|https://fhir.nhs.uk/CodeSystem/dispensing-site-preference|
|code|P1|
|code|P2|
|code|P3|
|code|0004|
|system|http://unitsofmeasure.org|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|http://snomed.info/sct|
|allowedBoolean|false|

<h2 id="tocS_Cancel-Request-Patient-Resource">Cancel-Request-Patient-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-request-patient-resource"></a>
<a id="schema_Cancel-Request-Patient-Resource"></a>
<a id="tocScancel-request-patient-resource"></a>
<a id="tocscancel-request-patient-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Patient",
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/nhs-number",
        "value": "9000000009"
      }
    ],
    "name": [
      {
        "use": "usual",
        "family": "Smith",
        "given": [
          "Jane Marie Anne",
          "Jo",
          "Adele"
        ],
        "prefix": [
          "Mrs"
        ]
      }
    ],
    "gender": "female",
    "birthDate": "2010-10-22",
    "address": [
      {
        "use": "home",
        "line": [
          "1 Trevelyan Square",
          "Boar Lane",
          "City Centre",
          "Leeds",
          "West Yorkshire"
        ],
        "postalCode": "LS1 6AE"
      }
    ],
    "telecom": [
      {
        "system": "phone",
        "use": "home",
        "value": "01632960587"
      }
    ],
    "generalPractitioner": [
      {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "A83008"
        }
      }
    ]
  }
}

```

Patient

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|The patient the prescription is for.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|The patient's NHS number.|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|
| name|[object]|true|none|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|How this name should be used.<br>* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.<br>Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.<br>Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|
| gender|string|true|none|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.<br>It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.|
| birthDate|string(date)|true|none|The date on which the patient was born or is officially deemed to have been born.<br><br>It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.<br><br>When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.|
| address|[object]|true|none|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|Purpose of this address:<br>  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address<br>  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged<br><br>  A patient should have no more than one current `temp` address.<br>  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.<br>  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).<br><br>  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.<br>  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>*  line 4 - post town, e.g. `Leeds`<br>*  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
| telecom|[object]|false|none|The patient's telephone number.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with communication system.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|[object]|true|none|General practice (not practitioner) with which the patient is or was registered.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/Id/nhs-number|
|use|usual|
|gender|male|
|gender|female|
|gender|other|
|gender|unknown|
|use|home|
|use|temp|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|

<h2 id="tocS_Cancel-Request-PractitionerRole-Resource">Cancel-Request-PractitionerRole-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-request-practitionerrole-resource"></a>
<a id="schema_Cancel-Request-PractitionerRole-Resource"></a>
<a id="tocScancel-request-practitionerrole-resource"></a>
<a id="tocscancel-request-practitionerrole-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "PractitionerRole",
    "identifier": [
      {
        "SDS Role Profile ID": {
          "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
          "value": "555086415105"
        }
      }
    ],
    "practitioner": {
      "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa38b"
    },
    "organization": {
      "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa38b"
    },
    "code": [
      {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
            "code": "S0030:G0100:R0620",
            "display": "Staff Nurse"
          }
        ]
      }
    ],
    "telecom": [
      {
        "system": "phone",
        "use": "home",
        "value": "01234567890"
      }
    ]
  }
}

```

PractitionerRole

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Role-specific details of the author or responsible party of a cancel request. <br><br>Where a cancel response contains details of the dispenser, role-specific details of the dispenser will also be contained within a PractitionerRole resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing role-specific identifiers for the prescriber or dispenser.|
| SDS Role Profile ID|object|false|none|The prescriber or dispenser's SDS Role Profile ID.|
| system|string|true|none|Codesystem URL for the SDS role profile ID.|
| value|string|true|none|SDS role profile ID.|
| practitioner|object|true|none|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|string|false|none|A FHIR reference object|
| organization|object|true|none|A reference to an Organization resource.<br><br>Where the cancel response contains details of the dispenser, this will contain the details of the dispensing organisation.|
| reference|string|false|none|a FHIR reference object|
| code|[object]|false|none|The SDS job role code for a given prescriber or dispenser.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the job role code.|
| code|string|true|none|The SDS job role code.|
| display|string|false|none|Display text for the SDS job role code.|
| telecom|[object]|false|none|the telephone number of a given prescriber or dispenser.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with the contact details provided.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/Id/sds-role-profile-id|
|system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|

<h2 id="tocS_Cancel-Request-Practitioner-Resource">Cancel-Request-Practitioner-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-request-practitioner-resource"></a>
<a id="schema_Cancel-Request-Practitioner-Resource"></a>
<a id="tocScancel-request-practitioner-resource"></a>
<a id="tocscancel-request-practitioner-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Practitioner",
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/sds-user-id",
        "value": "555086689107"
      }
    ],
    "name": [
      {
        "family": "Smith",
        "given": [
          "Jane"
        ],
        "prefix": [
          "Mrs"
        ]
      }
    ]
  }
}

```

Practitioner

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Details of the author or responsible party of a cancel request.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|An array containing the prescriber's professional codes and identifiers.|
| system|string|true|none|Codesystem URL for the SDS User Identifier.|
| value|string|true|none|SDS User Identifier.|
| name|[object]|true|none|The prescriber's name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/Id/sds-user-id|

<h2 id="tocS_Cancel-Request-Organization-Resource">Cancel-Request-Organization-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-request-organization-resource"></a>
<a id="schema_Cancel-Request-Organization-Resource"></a>
<a id="tocScancel-request-organization-resource"></a>
<a id="tocscancel-request-organization-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Organization",
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
        "value": "A83008"
      }
    ],
    "name": "string",
    "address": [
      {
        "use": "home",
        "type": "postal",
        "line": [
          "1 Trevelyan Square",
          "Boar Lane",
          "City Centre"
        ],
        "city": "Leeds",
        "district": "West Yorkshire",
        "postalCode": "LS1 6AE"
      }
    ],
    "telecom": [
      {
        "system": "phone",
        "use": "home",
        "value": "01234567890"
      }
    ],
    "partOf": {
      "identifier": {
        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
        "value": "A83008"
      },
      "display": "NHS County Durham CCG"
    }
  }
}

```

Organization

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.<br><br>Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing the ODS code of the organisation|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| name|string|true|none|Organisation name.|
| address|[object]|true|none|Organisation address.|
| use|string|false|none|The purpose of the address.|
| type|string|false|none|The type of address.|
| line|[string]|false|none|All lines of the address except the city, district, and postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| city|string|false|none|The city of the address.|
| district|string|false|none|The district of the address.|
| postalCode|string|false|none|The postal code of the address.|
| telecom|[object]|true|none|The telephone number associated with the organisation.|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|
| partOf|object|true|none|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|the name of the managing organisation|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|use|home|
|use|work|
|use|billing|
|use|temp|
|type|postal|
|type|physical|
|type|both|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|

<h2 id="tocS_Cancel-Request-List-Resource">Cancel-Request-List-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-request-list-resource"></a>
<a id="schema_Cancel-Request-List-Resource"></a>
<a id="tocScancel-request-list-resource"></a>
<a id="tocscancel-request-list-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "List",
    "status": "current",
    "mode": "snapshot",
    "code": {
      "text": "Repeat Medications"
    },
    "subject": {
      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
    },
    "entry": [
      {
        "item": "Bendroflumethiazide 2.5mg tablets (3/6)"
      }
    ]
  }
}

```

List

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|For repeat and eRD prescriptions only. <br><br>A structured list of repeat medication items prescribed to the patient.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the List object. Must always default to "current".|
| mode|string|false|none|The type of List being represented. Must always default to "snapshot".|
| code|object|false|none|A description of what the list represents.|
| text|string|false|none|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| entry|[object]|false|none|list of repeat medication items prescribed to the patient.|
| item|object|false|none|A medication item, represented using its dm+d name and description.|

#### Enumerated Values

|Property|Value|
|---|---|
|status|current|
|mode|snapshot|
|text|Repeat Medications|

<h2 id="tocS_Cancel-Request-CommunicationRequest-Resource">Cancel-Request-CommunicationRequest-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-request-communicationrequest-resource"></a>
<a id="schema_Cancel-Request-CommunicationRequest-Resource"></a>
<a id="tocScancel-request-communicationrequest-resource"></a>
<a id="tocscancel-request-communicationrequest-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "CommunicationRequest",
    "status": "active",
    "subject": {
      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
    },
    "payload": [
      {
        "contentString": "Please make an appointment to see your GP.",
        "contentReference": {
          "reference": "string"
        }
      }
    ],
    "requester": {
      "identifier": {
        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
        "value": "A83008"
      }
    },
    "recipient": [
      {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/nhs-number",
          "value": "9000000009"
        }
      }
    ]
  }
}

```

CommunicationRequest

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Additional instructions intended for the patient.<br>For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the CommunicationRequest. Must always default to "active".|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| payload|[object]|true|none|Additional instructions provided as part of this prescription.|
| contentString|string|false|none|Additional instructions intended for the patient.|
| contentReference|object|false|none|A reference to the list of repeat medications that the patient is on.|
| reference|string|false|none|A reference to a List resource within the Bundle|
| requester|object|false|none|Details of the prescribing organisation originating the instructions.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| recipient|[object]|false|none|Details of the patient receiving the instructions.|
| identifier|object|false|none|none|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|

#### Enumerated Values

|Property|Value|
|---|---|
|status|active|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|

<h2 id="tocS_Cancel-Request-Location-Resource">Cancel-Request-Location-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-request-location-resource"></a>
<a id="schema_Cancel-Request-Location-Resource"></a>
<a id="tocScancel-request-location-resource"></a>
<a id="tocscancel-request-location-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Location",
    "address": [
      {
        "line": [
          "1 Trevelyan Square",
          "Boar Lane",
          "City Centre",
          "Leeds",
          "West Yorkshire"
        ],
        "postalCode": "LS1 6AE"
      }
    ]
  }
}

```

Location

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|For secondary care prescriptions only.<br><br>Where the prescription is a secondary care prescription, the Location resource will contain the address of the prescribing organisation.|
| resourceType|string|false|none|FHIR resource type.|
| address|[object]|false|none|Organisation address.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>  Systems must apply the following formatting convention when adding or replacing addresses lines:<br>  *  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>  *  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>  *  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>  *  line 4 - post town, e.g. `Leeds`<br>  *  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|

<h2 id="tocS_Cancel-Response-MessageHeader-Resource">Cancel-Response-MessageHeader-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-response-messageheader-resource"></a>
<a id="schema_Cancel-Response-MessageHeader-Resource"></a>
<a id="tocScancel-response-messageheader-resource"></a>
<a id="tocscancel-response-messageheader-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "MessageHeader",
    "eventCoding": {
      "system": "https://fhir.nhs.uk/CodeSystem/message-event",
      "code": "prescription-order-response",
      "display": "Prescription Order Response"
    },
    "source": {
      "endpoint": "urn:nhs-uk:addressing:ods:A83008"
    }
  }
}

```

MessageHeader

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|none|
| resourceType|string|true|none|FHIR resource type.|
| eventCoding|object|true|none|The type of message event being generated.|
| system|string|false|none|codesystem URL for message events.|
| code|string|false|none|code for the message event.|
| display|string|false|none|display value accompanying the code for the message event.|
| source|object|true|none|The organisation originating the message.|
| endpoint|string|false|none|ODS code of the organisation originating the message, expressed as a URN.|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/CodeSystem/message-event|
|code|prescription-order-response|
|display|Prescription Order Response|

<h2 id="tocS_Cancel-Response-MedicationRequest-Resource">Cancel-Response-MedicationRequest-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-response-medicationrequest-resource"></a>
<a id="schema_Cancel-Response-MedicationRequest-Resource"></a>
<a id="tocScancel-response-medicationrequest-resource"></a>
<a id="tocscancel-response-medicationrequest-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "MedicationRequest",
    "extension": [
      {
        "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionTaskStatusReason",
        "extension": [
          {
            "url": "status",
            "valueCoding": {
              "system": "https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history",
              "code": [
                "R-0001"
              ],
              "display": [
                "Prescription/item was cancelled"
              ]
            }
          }
        ]
      }
    ],
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/prescription-order-item-number",
        "value": "dd11b07e-e137-488e-bc28-ab50384208b5"
      }
    ],
    "status": "active",
    "intent": "order",
    "medicationCodeableConcept": {
      "coding": [
        {
          "system": "http://snomed.info/sct",
          "code": "321196004",
          "display": "Diazepam 2mg tablets"
        }
      ]
    },
    "subject": {
      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
    },
    "requester": {
      "reference": "urn:uuid:56166769-c1c4-4d07-afa8-132b5dfca666"
    },
    "groupIdentifier": {
      "system": "https://fhir.nhs.uk/Id/prescription-order-number",
      "value": "04F4C2-A99968-7F717P",
      "extension": [
        {
          "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId",
          "valueIdentifier": {
            "system": "https://fhir.nhs.uk/Id/prescription",
            "value": "613452a2-ca1b-4a76-8191-d92e1f48928c"
          }
        }
      ]
    },
    "dispenseRequest": {
      "performer": {
        "extension": [
          {
            "url": "https://fhir.nhs.uk/StructureDefinition/Extension-DM-DispensingPerformer",
            "valueReference": "urn:uuid:3c8dbf32-76c1-47e0-b71f-061a3de70b53"
          }
        ],
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "A83008"
        },
        "display": "string"
      }
    }
  }
}

```

MedicationRequest

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|A cancel response and any information associated with it will be contained within a MedicationRequest resource.|
| resourceType|string|true|none|FHIR resource type|
| extension|[oneOf]|false|none|FHIR extension array.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|cancel response for a successful or unsuccessful cancel request.|
| url|string|false|none|codesystem URL for cancel responses.|
| extension|[oneOf]|false|none|FHIR extension array|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| url|string|false|none|none|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem URL for cancel response.|
| code|string|false|none|cancel response code|
| display|string|false|none|cancel response display|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| url|string|false|none|URL to identify the time that the cancel response was received|
| valueDateTime|string|false|none|The time that the cancel response was received|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Extension that contains information pertinent to repeat and eRD prescriptions.|
| url|string|false|none|URL of the extension definition.|
| extension|[object]|false|none|FHIR extension array.|
| url|string|false|none|The review date of the prescription.<br>This is a required field for repeat and eRD prescriptions, and captures the date at which the prescriber must review the repeat medication that a patient is on.|
| valueDateTime|string|false|none|A date value|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.<br><br>For the full list of prescription types, and what they mean, please refer to the following [guidance](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf) from the BSA.|
| url|string|false|none|URL of the extension definition.|
| valueCoding|object|false|none|The prescription type, as defined by the BSA, which helps identify the prescribing setting in which a prescription is created to enable reimbursement.|
| system|string|false|none|codesystem URL for the prescription type|
| code|string|false|none|The prescription type code|
| display|string|false|none|The display that accompanies the prescription type code|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|Endorsements that prescribers can add to line items for special products, e.g. products on the Selected List Scheme. <br><br>View the latest guidance on endorsements from the BSA [here](https://www.nhsbsa.nhs.uk/sites/default/files/2023-03/NHSBSAGuidanceforEndorsement_v8.0.pdf).|
| url|string|false|none|URL of the extension definition.|
| valueCodeableConcept|object|false|none|none|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for endorsements.|
| code|string|true|none|The endorsement code.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|A reference to the responsible practitioner of a prescription, where they are distinct to the prescriber who requested the prescription.|
| url|string|false|none|URL of the extension definition.|
| valueReference|object|false|none|none|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle.|
| display|string|false|none|The name of the responsible practitioner.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The quantity of a controlled drug, expressed in words|
| url|string|false|none|URL of the extension definition.|
| extension|[oneOf]|false|none|FHIR extension array.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the quantity in words|
| url|string|false|none|URL for the controlled drug quantity|
| valueString|string|false|none|quantity expressed in words|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|object containing the schedule of the controlled drug|
| url|string|false|none|URL for the controlled drug schedule|
| valueCoding|object|false|none|none|
| system|string|false|none|codesystem to identify the controlled drug schedule|
| code|string|false|none|a code to identify the controlled drug schedule|
| display|string|false|none|a human readable display to accompany the controlled drug schedule code|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| identifier|[object]|true|none|The unique ID for each line item on a prescription.|
| system|string|true|none|Codesystem URL for the line item ID.|
| value|string|true|none|The unique ID for a given line item.|
| status|string|true|none|The status of a MedicationRequest object. <br><br>This must be consistent across all MedicationRequests in a Bundle.|
| intent|string|true|none|The intent of a MedicationRequest object. <br><br>This must be consistent across all MedicationRequests in a Bundle.|
| medicationCodeableConcept|object|true|none|The medication that is being cancelled. <br><br>This must be represented as a VMP or AMP concepts from the dm+d.|
| coding|[object]|false|none|none|
| system|string|true|none|SNOMED codesystem URL.|
| code|string|true|none|SNOMED code for the medication, as defined in the dm+d.|
| display|string|false|none|Human readable name for the medication.|
| subject|object|true|none|Reference object to identify the patient a prescription is for. <br><br>A Patient resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a Patient resource within the Bundle|
| requester|object|true|none|Reference object to identify the author of a prescription. <br><br>A PractitionerRole resource within the Bundle must be referenced.|
| reference|string|false|none|A reference to a PractitionerRole resource within the Bundle|
| groupIdentifier|object|true|none|An object containing the short-form and long-form Prescription ID.|
| system|string|true|none|Codesystem URL for the short-form Prescription ID.|
| value|string|true|none|The short-form Prescription ID. <br>An example of how to generate a short-form Prescription ID can be found in [our repo](https://github.com/NHSDigital/electronic-prescription-service-api/blob/master/packages/tool/site/client/src/fhir/generatePrescriptionIds.ts). <br>It is to be formatted as follows:<br>  * The first 6 characters are a unique locally generated random number of 6 hexadecimal characters.<br>  * The next 6 characters is the unique ODS code for the practice. If shorter than 6 characters then it must be zero-padded up to 6 characters from the start of the ODS code. e.g. 0A12BC  <br>  * The next 5 characters are an incremental sequence number starting from 00000 to FFFFF back to zero, of 5 hexadecimal characters. If supporting multiple practices, a sequence number per practice is required.<br>  * The final character is calculated on the entire ID using ISO/IEC 7064 2003 MOD 37-2 standard.|
| extension|[object]|false|none|FHIR extension array containing the long-form Prescription ID.|
| url|string|true|none|none|
| valueIdentifier|object|true|none|The long-form identifier of the prescription.|
| system|string|true|none|Codesystem URL for the long-form Prescription ID.|
| value|string|true|none|The long-form prescription ID.|
| dispenseRequest|object|true|none|A FHIR object containing information relevant to how the prescription should be dispensed. <br><br>These values should be consistent across all MedicationRequests in a Bundle.|
| performer|object|false|none|Where a cancel response is unsuccessful due to the prescription being with a dispenser, details of the dispenser who downloaded the prescription will be provided as part of the cancel response to enable the prescriber to contact the dispenser.|
| extension|[object]|false|none|Details of the dispenser who downloaded the prescription|
| url|string|false|none|codesystem URL for the dispenser.|
| valueReference|object|false|none|A reference to a PractitionerRole resource for the dispenser.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|false|none|The name of the dispensing organisation that downloaded the prescription|

#### Enumerated Values

|Property|Value|
|---|---|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionTaskStatusReason|
|url|status|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-status-history|
|url|statusdate|
|url|https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-MedicationRepeatInformation|
|url|authorisationExpiryDate|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionType|
|system|https://fhir.nhs.uk/CodeSystem/prescription-type|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionEndorsement|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-endorsement|
|code|ACBS|
|code|AF|
|code|CC|
|code|FS|
|code|SLS|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ResponsiblePractitioner|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-ControlledDrug|
|url|quantityWords|
|url|schedule|
|system|https://fhir.nhs.uk/CodeSystem/medicationrequest-controlled-drug|
|code|CD1|
|code|CD2|
|code|CD3|
|code|CD4|
|code|CD5|
|system|https://fhir.nhs.uk/Id/prescription-order-item-number|
|status|active|
|status|cancelled|
|status|completed|
|system|http://snomed.info/sct|
|system|https://fhir.nhs.uk/Id/prescription-order-number|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-PrescriptionId|
|system|https://fhir.nhs.uk/Id/prescription|
|url|https://fhir.nhs.uk/StructureDefinition/Extension-DM-DispensingPerformer|
|system|https://fhir.nhs.uk/Id/ods-organization-code|

<h2 id="tocS_Cancel-Response-Patient-Resource">Cancel-Response-Patient-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-response-patient-resource"></a>
<a id="schema_Cancel-Response-Patient-Resource"></a>
<a id="tocScancel-response-patient-resource"></a>
<a id="tocscancel-response-patient-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Patient",
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/nhs-number",
        "value": "9000000009"
      }
    ],
    "name": [
      {
        "use": "usual",
        "family": "Smith",
        "given": [
          "Jane Marie Anne",
          "Jo",
          "Adele"
        ],
        "prefix": [
          "Mrs"
        ]
      }
    ],
    "gender": "female",
    "birthDate": "2010-10-22",
    "address": [
      {
        "use": "home",
        "line": [
          "1 Trevelyan Square",
          "Boar Lane",
          "City Centre",
          "Leeds",
          "West Yorkshire"
        ],
        "postalCode": "LS1 6AE"
      }
    ],
    "telecom": [
      {
        "system": "phone",
        "use": "home",
        "value": "01632960587"
      }
    ],
    "generalPractitioner": [
      {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/ods-organization-code",
          "value": "A83008"
        }
      }
    ]
  }
}

```

Patient

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|The patient the prescription is for.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[object]|true|none|The patient's NHS number.|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|
| name|[object]|true|none|The patient's name. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|How this name should be used.<br>* usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.|
| family|string|true|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.<br>Each name(s) should be a separate item in the list. The first given name may include multiple names, separated by a space.<br>Subsequent names must be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|
| gender|string|true|none|Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.<br>It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patients registered birth gender, or their current clinical gender.|
| birthDate|string(date)|true|none|The date on which the patient was born or is officially deemed to have been born.<br><br>It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.<br><br>When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.|
| address|[object]|true|none|The patient's address. A prescription must only contain a single name and address for the patient.|
| use|string|false|none|Purpose of this address:<br>  * `home` - the home address is the patient's normal residence. Home address is also known as usual, main, registered, current or permanent address<br>  * `temp` - a temporary address is an address used for a set period of time, but where the patient's home, permanent address remains unchanged<br><br>  A patient should have no more than one current `temp` address.<br>  However, historically this was constrained only by the integration requirements and was not enforced so theoretically more than one can exist for a patient when retrieving.<br>  Where multiple instances already exist for the patient it is not expected that local systems should manage those, but should choose the most appropriate one to maintain (e.g. by examining period dates).<br><br>  A `home` address is the patient's main residential address and should normally be used for all clinical and demographic purposes, including clinical and appointment correspondence.<br>  However additionally, a `temp` address may be provided by a patient when there is a requirement to record an alternative location for the purposes of unbroken care.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>*  line 4 - post town, e.g. `Leeds`<br>*  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
| telecom|[object]|false|none|The patient's telephone number.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with communication system.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|
| generalPractitioner|[object]|true|none|General practice (not practitioner) with which the patient is or was registered.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/Id/nhs-number|
|use|usual|
|gender|male|
|gender|female|
|gender|other|
|gender|unknown|
|use|home|
|use|temp|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|

<h2 id="tocS_Cancel-Response-Practitioner-Resource">Cancel-Response-Practitioner-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-response-practitioner-resource"></a>
<a id="schema_Cancel-Response-Practitioner-Resource"></a>
<a id="tocScancel-response-practitioner-resource"></a>
<a id="tocscancel-response-practitioner-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Practitioner",
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/sds-user-id",
        "value": "555086689107"
      }
    ],
    "name": [
      {
        "family": "string",
        "given": [
          "Clark"
        ],
        "prefix": [
          "Mrs"
        ]
      }
    ]
  }
}

```

Practitioner

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Details of the author or responsible party of a cancel request.<br><br>Where a cancel response contains details of the dispenser, details of the dispenser will also be contained within a Practitioner resource.|
| resourceType|string|true|none|FHIR resource type.|
| identifier|[oneOf]|true|none|An array containing the prescriber's professional codes and identifiers.|

oneOf

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|The prescriber or dispenser's SDS User Identifier.|
| system|string|true|none|Codesystem URL for the SDS User Identifier.|
| value|string|true|none|SDS User Identifier.|

xor

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| *anonymous*|object|false|none|none|
| system|string|true|none|Codesystem URL for the Professional Code.|
| value|string|true|none|The Professional Code.|

continued

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
| name|[object]|true|none|The prescriber's or dispenser's name.|
| family|string|false|none|Family name (often called Surname).|
| given|[string]|false|none|Given names, including any middle names.|
| prefix|[string]|false|none|Name prefixes, titles, and prenominals.|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/Id/sds-user-id|
|system|https://fhir.hl7.org.uk/Id/professional-code|

<h2 id="tocS_Cancel-Response-PractitionerRole-Resource">Cancel-Response-PractitionerRole-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-response-practitionerrole-resource"></a>
<a id="schema_Cancel-Response-PractitionerRole-Resource"></a>
<a id="tocScancel-response-practitionerrole-resource"></a>
<a id="tocscancel-response-practitionerrole-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "PractitionerRole",
    "identifier": [
      {
        "SDS Role Profile ID": {
          "system": "https://fhir.nhs.uk/Id/sds-role-profile-id",
          "value": "555086415105"
        }
      }
    ],
    "practitioner": {
      "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa38b"
    },
    "organization": {
      "reference": "urn:uuid:a8c85454-f8cb-498d-9629-78e2cb5fa38b"
    },
    "code": [
      {
        "coding": [
          {
            "system": "https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode",
            "code": "S0030:G0100:R0620",
            "display": "Staff Nurse"
          }
        ]
      }
    ],
    "telecom": [
      {
        "system": "phone",
        "use": "home",
        "value": "01234567890"
      }
    ]
  }
}

```

PractitionerRole

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Role-specific details of the author or responsible party of a cancel request. <br><br>Where a cancel response contains details of the dispenser, role-specific details of the dispenser will also be contained within a PractitionerRole resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing role-specific identifiers for the prescriber or dispenser.|
| SDS Role Profile ID|object|false|none|The prescriber or dispenser's SDS Role Profile ID.|
| system|string|true|none|Codesystem URL for the SDS role profile ID.|
| value|string|true|none|SDS role profile ID.|
| practitioner|object|true|none|A reference to a Practitioner resource for a given prescriber or dispenser.|
| reference|string|false|none|A FHIR reference object|
| organization|object|true|none|A reference to an Organization resource.<br><br>Where the cancel response contains details of the dispenser, this will contain the details of the dispensing organisation.|
| reference|string|false|none|a FHIR reference object|
| code|[object]|false|none|The SDS job role code for a given prescriber or dispenser.|
| coding|[object]|false|none|none|
| system|string|true|none|Codesystem URL for the job role code.|
| code|string|true|none|The SDS job role code.|
| display|string|false|none|Display text for the SDS job role code.|
| telecom|[object]|false|none|the telephone number of a given prescriber or dispenser.|
| system|string|false|none|Means of communication, such as phone or email.|
| use|string|false|none|Location associated with the contact details provided.|
| value|string|false|none|Phone number, email address, or other identifier for use with contact system.|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/Id/sds-role-profile-id|
|system|https://fhir.nhs.uk/CodeSystem/NHSDigital-SDS-JobRoleCode|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|

<h2 id="tocS_Cancel-Response-Organization-Resource">Cancel-Response-Organization-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-response-organization-resource"></a>
<a id="schema_Cancel-Response-Organization-Resource"></a>
<a id="tocScancel-response-organization-resource"></a>
<a id="tocscancel-response-organization-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Organization",
    "identifier": [
      {
        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
        "value": "A83008"
      }
    ],
    "name": "string",
    "address": [
      {
        "use": "home",
        "type": "postal",
        "line": [
          "1 Trevelyan Square",
          "Boar Lane",
          "City Centre"
        ],
        "city": "Leeds",
        "district": "West Yorkshire",
        "postalCode": "LS1 6AE"
      }
    ],
    "telecom": [
      {
        "system": "phone",
        "use": "home",
        "value": "01234567890"
      }
    ],
    "partOf": {
      "identifier": {
        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
        "value": "A83008"
      },
      "display": "NHS County Durham CCG"
    }
  }
}

```

Organization

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Details of prescribing organisation (primary care) or the managing organisation (secondary care) for a prescription. Details of the prescribing organisation are planned to be deprecated within cancel responses.<br><br>Where a cancel response contains details of the dispenser, the details of the dispensing organisation will also be contained within an Organisation resource.|
| resourceType|string|false|none|FHIR resource type.|
| identifier|[object]|false|none|An array containing the ODS code of the organisation|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| name|string|true|none|Organisation name.|
| address|[object]|true|none|Organisation address.|
| use|string|false|none|The purpose of the address.|
| type|string|false|none|The type of address.|
| line|[string]|false|none|All lines of the address except the city, district, and postal code.<br><br>Systems must apply the following formatting convention when adding or replacing addresses lines:<br>*  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>*  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>*  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| city|string|false|none|The city of the address.|
| district|string|false|none|The district of the address.|
| postalCode|string|false|none|The postal code of the address.|
| telecom|[object]|true|none|The telephone number associated with the organisation.|
| system|string|true|none|Means of communication, such as phone or email.|
| use|string|true|none|Location associated with the contact details provided.|
| value|string|true|none|Phone number, email address, or other identifier for use with contact system.|
| partOf|object|true|none|For a primary care prescription, the managing organisation that the prescribing organisation is a part of.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| display|string|true|none|the name of the managing organisation|

#### Enumerated Values

|Property|Value|
|---|---|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|use|home|
|use|work|
|use|billing|
|use|temp|
|type|postal|
|type|physical|
|type|both|
|system|phone|
|system|fax|
|system|email|
|system|other|
|use|home|
|use|work|
|use|temp|
|use|mobile|
|system|https://fhir.nhs.uk/Id/ods-organization-code|

<h2 id="tocS_Cancel-Response-List-Resource">Cancel-Response-List-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-response-list-resource"></a>
<a id="schema_Cancel-Response-List-Resource"></a>
<a id="tocScancel-response-list-resource"></a>
<a id="tocscancel-response-list-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "List",
    "status": "current",
    "mode": "snapshot",
    "code": {
      "text": "Repeat Medications"
    },
    "subject": {
      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
    },
    "entry": [
      {
        "item": "Bendroflumethiazide 2.5mg tablets (3/6)"
      }
    ]
  }
}

```

List

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|For repeat and eRD prescriptions only. <br><br>A structured list of repeat medication items prescribed to the patient.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the List object. Must always default to "current".|
| mode|string|false|none|The type of List being represented. Must always default to "snapshot".|
| code|object|false|none|A description of what the list represents.|
| text|string|false|none|A description of what the list represents. Must always default to "Repeat Medications."|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| entry|[object]|false|none|list of repeat medication items prescribed to the patient.|
| item|object|false|none|A medication item, represented using its dm+d name and description.|

#### Enumerated Values

|Property|Value|
|---|---|
|status|current|
|mode|snapshot|
|text|Repeat Medications|

<h2 id="tocS_Cancel-Response-CommunicationRequest-Resource">Cancel-Response-CommunicationRequest-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-response-communicationrequest-resource"></a>
<a id="schema_Cancel-Response-CommunicationRequest-Resource"></a>
<a id="tocScancel-response-communicationrequest-resource"></a>
<a id="tocscancel-response-communicationrequest-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "CommunicationRequest",
    "status": "active",
    "subject": {
      "reference": "urn:uuid:78d3c2eb-009e-4ec8-a358-b042954aa9b2"
    },
    "payload": [
      {
        "contentString": "Please make an appointment to see your GP.",
        "contentReference": {
          "reference": "string"
        }
      }
    ],
    "requester": {
      "identifier": {
        "system": "https://fhir.nhs.uk/Id/ods-organization-code",
        "value": "A83008"
      }
    },
    "recipient": [
      {
        "identifier": {
          "system": "https://fhir.nhs.uk/Id/nhs-number",
          "value": "9000000009"
        }
      }
    ]
  }
}

```

CommunicationRequest

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|Additional instructions intended for the patient.<br>For repeat prescriptions, a reference must also be provided to the list of repeat medications that the patient is on.|
| resourceType|string|false|none|FHIR resource type.|
| status|string|false|none|The status of the CommunicationRequest. Must always default to "active".|
| subject|object|false|none|A reference object to identify the patient the prescription is for.|
| reference|string|false|none|A reference to a Patient resource within the Bundle.|
| payload|[object]|true|none|Additional instructions provided as part of this prescription.|
| contentString|string|false|none|Additional instructions intended for the patient.|
| contentReference|object|false|none|A reference to the list of repeat medications that the patient is on.|
| reference|string|false|none|A reference to a List resource within the Bundle|
| requester|object|false|none|Details of the prescribing organisation originating the instructions.|
| identifier|object|false|none|none|
| system|string|true|none|Codesystem URL for the ODS code.|
| value|string|true|none|ODS code.|
| recipient|[object]|false|none|Details of the patient receiving the instructions.|
| identifier|object|false|none|none|
| system|string(url)|true|none|FHIR codesystem URL for NHS numbers.|
| value|string|true|none|The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales.<br>Always 10 digits and must be a [valid NHS number](https://www.datadictionary.nhs.uk/attributes/nhs_number.html).|

#### Enumerated Values

|Property|Value|
|---|---|
|status|active|
|system|https://fhir.nhs.uk/Id/ods-organization-code|
|system|https://fhir.nhs.uk/Id/nhs-number|

<h2 id="tocS_Cancel-Response-Location-Resource">Cancel-Response-Location-Resource</h2>
<!-- backwards compatibility -->
<a id="schemacancel-response-location-resource"></a>
<a id="schema_Cancel-Response-Location-Resource"></a>
<a id="tocScancel-response-location-resource"></a>
<a id="tocscancel-response-location-resource"></a>

```json
{
  "fullUrl": "urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6",
  "resource": {
    "resourceType": "Location",
    "address": [
      {
        "line": [
          "1 Trevelyan Square",
          "Boar Lane",
          "City Centre",
          "Leeds",
          "West Yorkshire"
        ],
        "postalCode": "LS1 6AE"
      }
    ]
  }
}

```

Location

### Properties

|Name|Type|Required|Restrictions|Description|
|---|---|---|---|---|
|fullUrl|string|true|none|object URL for the resource|
|resource|object|false|none|For secondary care prescriptions only.<br><br>Where the prescription is a secondary care prescription, the Location resource will contain the address of the prescribing organisation.|
| resourceType|string|false|none|FHIR resource type.|
| address|[object]|false|none|Organisation address.|
| line|[string]|false|none|All lines of the address except the postal code.<br><br>  Systems must apply the following formatting convention when adding or replacing addresses lines:<br>  *  line 1 - premises ID and/or house name, e.g. `Flat 1` or `The Old Schoolhouse`<br>  *  line 2 - house number, dependent thoroughfare name and descriptor (if present), thoroughfare name and descriptor, e.g. `23 Mill Lane`<br>  *  line 3 - dependent locality/village, locality (if present), e.g. `Boxgrove`<br>  *  line 4 - post town, e.g. `Leeds`<br>  *  line 5 - county (if present), e.g. `West Yorkshire`<br><br>If any of the lines are blank, they are not returned due to FHIR conformance constraints.|
| postalCode|string|false|none|Postal code of the address.|
